import{b as e,c as a,_ as l,a as t}from"./CardTitle-m65SNR4W.js";import{_ as s,C as o}from"./CardDescription-2PBdDBVh.js";import{_ as d,a as n,b as u,c as i,u as c,w as r}from"./xlsx-CkhwWcJv.js";import{_ as f,a as m,b as p,c as v,d as _,i as x,e as h,f as g,g as b,h as y}from"./TableRow-BZwG14sz.js";import{C as w,_ as k,a as C}from"./TableHeader-C-QkMKMq.js";import{c as j,_ as D,l as M,r as O,b as S,e as E,f as A,g as P,k as T,u as F,m as z,z as V,a6 as N,y as U,J as I,A as $,j as L,F as R,p as q,ab as B,q as H,ac as Q}from"./index-DbmskYgF.js";import{F as J,T as G,_ as K}from"./Progress-B_pZHCoN.js";import{S as W}from"./search-DOQpdsoV.js";import{I as X}from"./info-C0BMTRYo.js";import{B as Y}from"./building-BabV-zJg.js";
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=j("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),ee=j("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),ae=j("table-2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]),le={class:"flex items-center justify-between w-full"},te={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4"},se={class:"text-2xl font-bold mt-2"},oe={class:"text-2xl font-bold mt-2"},de={class:"text-2xl font-bold mt-2"},ne={class:"text-2xl font-bold mt-2"},ue={class:"relative"},ie={class:"rounded-md border"},ce={class:"flex flex-col items-center gap-2"},re={class:"text-sm text-muted-foreground"},fe={class:"flex items-center gap-2"},me={class:"text-xs text-muted-foreground"},pe={class:"relative"},ve={class:"rounded-md border"},_e={class:"flex flex-col items-center gap-2"},xe={class:"text-sm text-muted-foreground"},he={class:"flex gap-1 flex-wrap"},ge={class:"text-sm text-muted-foreground"},be={class:"text-sm text-muted-foreground"},ye={class:"relative"},we={class:"rounded-md border"},ke={class:"flex flex-col items-center gap-2"},Ce={class:"text-sm text-muted-foreground"},je={class:"overflow-x-auto"},De={class:"matrix-table"},Me={class:"sticky-col font-semibold"},Oe={class:"text-center font-semibold"},Se={class:"total-row"},Ee={class:"text-center font-semibold"},Ae={key:0,class:"space-y-4"},Pe={class:"flex items-center gap-2 text-sm text-muted-foreground"},Te={class:"space-y-3"},Fe={class:"flex items-start gap-3"},ze={class:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10"},Ve={class:"flex-1 space-y-2"},Ne={class:"font-semibold"},Ue={class:"space-y-1 text-sm"},Ie={class:"flex items-start gap-2"},$e={class:"flex flex-wrap gap-1"},Le={key:0,class:"flex items-start gap-2"},Re={class:"text-muted-foreground"},qe={key:1,class:"flex items-start gap-2"},Be={class:"text-muted-foreground"},He=D({__name:"RelatorioSobreposicao",setup(j){const D=M(),He=O("sobreposicao"),Qe=O(""),Je=O(""),Ge=O(""),Ke=O(!1),We=O(null);const Xe=S(()=>{const e=la();return{total:D.metadados.length,withOverlap:e.filter(e=>e.solicitacoes>1).length,conflicts:e.filter(e=>e.hasClasseOverlap?e.conflito:e.conflito&&e.solicitacoes>1).length,orphans:e.filter(e=>1===e.solicitacoes&&!e.hasClasseOverlap&&!e.conflito).length}}),Ye=S(()=>la().filter(e=>e.solicitacoes>1)),Ze=S(()=>la().filter(e=>e.hasClasseOverlap?e.conflito:e.conflito&&e.solicitacoes>1)),ea=S(()=>la().filter(e=>1===e.solicitacoes&&!e.hasClasseOverlap&&!e.conflito).map(e=>({nome:e.nome,unidade:e.unidades[0],tiposDocumento:ta(e.items),count:e.items.length,items:e.items}))),aa=S(()=>{const e=function(e){const a=[];return e.forEach(e=>{Array.isArray(e.tipoDocumento)?e.tipoDocumento.forEach(l=>{a.push({...e,tipoDocumento:l,_originalTipoDocumento:e.tipoDocumento})}):a.push(e)}),a}(D.metadados),a=[...new Set(e.map(e=>e.tipoDocumento))].sort(),l=[...new Set(e.map(e=>e.unidade))].sort(),t={};return a.forEach(e=>{t[e]={},l.forEach(a=>{t[e][a]=0})}),e.forEach(e=>{t[e.tipoDocumento]&&void 0!==t[e.tipoDocumento][e.unidade]&&t[e.tipoDocumento][e.unidade]++}),{matrix:t,tiposDoc:a,unidades:l}});function la(){const e={};D.metadados.forEach(a=>{const l=a.nomeMetadado?.toLowerCase()||"sem nome",t=a.classeProcessual||"N√£o informado",s=`${l}::${t}`;e[s]||(e[s]={nome:a.nomeMetadado,classeProcessual:t,unidades:new Set,items:[],formatos:new Set,objetivos:new Set}),e[s].unidades.add(a.unidade),e[s].items.push(a),a.formatoMetadado&&"N√ÉO ESPECIFICADO"!==a.formatoMetadado&&e[s].formatos.add(a.formatoMetadado),a.objetivoMetadado&&"N√ÉO ESPECIFICADO"!==a.objetivoMetadado&&e[s].objetivos.add(a.objetivoMetadado)});const a={};return Object.values(e).forEach(e=>{const l=e.nome?.toLowerCase()||"sem nome";a[l]||(a[l]=[]),a[l].push(e)}),Object.values(a).forEach(e=>{const a=e.some(e=>"N√£o informado"===e.classeProcessual),l=e.some(e=>"N√£o informado"!==e.classeProcessual);a&&l&&e.forEach(e=>{e.hasClasseOverlap=!0})}),Object.values(e).map(e=>({nome:e.nome,classeProcessual:e.classeProcessual,unidades:Array.from(e.unidades),solicitacoes:e.items.length,conflito:e.formatos.size>1||e.objetivos.size>1||e.hasClasseOverlap,hasFormatoConflict:e.formatos.size>1,hasObjetivoConflict:e.objetivos.size>1,hasClasseOverlap:e.hasClasseOverlap||!1,intensidade:e.items.length/D.metadados.length,formatos:e.formatos,objetivos:e.objetivos,items:e.items})).sort((e,a)=>a.solicitacoes-e.solicitacoes)}function ta(e){const a=new Set;return e.forEach(e=>{Array.isArray(e.tipoDocumento)?e.tipoDocumento.forEach(e=>a.add(e)):a.add(e.tipoDocumento)}),Array.from(a)}function sa(e){if(!e||0===e)return{background:"transparent"};const a=e/Math.max(...Object.values(aa.value.matrix).flatMap(e=>Object.values(e)));return{background:`rgba(37, 99, 235, ${a})`,color:a>.5?"white":"inherit"}}function oa(e){return aa.value.unidades.reduce((a,l)=>a+(aa.value.matrix[e]?.[l]||0),0)}function da(e){We.value=e,Ke.value=!0}function na(e){const a=function(){if(!We.value||0===We.value.items.length)return new Set;const e=We.value.items.map(e=>Array.isArray(e.tipoDocumento)?new Set(e.tipoDocumento):new Set([e.tipoDocumento])),a=new Set(e[0]);for(let l=1;l<e.length;l++)for(const t of a)e[l].has(t)||a.delete(t);return a}();return a.has(e)}function ua(){try{const e=c.book_new(),a=Ye.value.map(e=>({Metadado:e.nome,"Classe Processual":e.classeProcessual,Unidades:e.unidades.join(", "),"Total Unidades":e.unidades.length,"Total Solicita√ß√µes":e.solicitacoes,"Tem Conflito":e.conflito?"Sim":"N√£o","Intensidade (%)":(100*e.intensidade).toFixed(1)})),l=c.json_to_sheet(a);c.book_append_sheet(e,l,"Sobreposi√ß√µes");const t=Ze.value.map(e=>({Metadado:e.nome,"Classe Processual":e.classeProcessual,Unidades:e.unidades.join(", "),Formatos:Array.from(e.formatos).join(", "),"Conflito de Formato":e.hasFormatoConflict?"Sim":"N√£o","Conflito de Objetivo":e.hasObjetivoConflict?"Sim":"N√£o","Sobreposi√ß√£o de Classes":e.hasClasseOverlap?"Sim":"N√£o"})),s=c.json_to_sheet(t);c.book_append_sheet(e,s,"Conflitos");const o=ea.value.map(e=>({Metadado:e.nome,Unidade:e.unidade,"Tipos de Documento":e.tiposDocumento.join(", "),Quantidade:e.count})),d=c.json_to_sheet(o);c.book_append_sheet(e,d,"√ìrf√£os"),r(e,`relatorio_completo_${(new Date).toISOString().split("T")[0]}.xlsx`),Q.success("Excel exportado com sucesso!")}catch(e){Q.error("Erro ao exportar Excel: "+e.message)}}return(c,r)=>(A(),E(F(t),null,{default:P(()=>[T(F(e),null,{default:P(()=>[z("div",le,[T(F(a),null,{default:P(()=>[...r[6]||(r[6]=[V("An√°lise de Relat√≥rios",-1)])]),_:1}),T(F(N),{variant:"default",onClick:ua},{default:P(()=>[T(F(J),{class:"w-4 h-4 mr-2"}),r[7]||(r[7]=V(" Exportar Excel ",-1))]),_:1})])]),_:1}),T(F(l),{class:"space-y-6"},{default:P(()=>[z("div",te,[T(F(t),null,{default:P(()=>[T(F(l),{class:"p-6"},{default:P(()=>[r[8]||(r[8]=z("div",{class:"text-sm font-medium text-muted-foreground"},"Total de Metadados",-1)),z("div",se,U(Xe.value.total),1)]),_:1})]),_:1}),T(F(t),null,{default:P(()=>[T(F(l),{class:"p-6"},{default:P(()=>[r[9]||(r[9]=z("div",{class:"text-sm font-medium text-muted-foreground"},"Com Sobreposi√ß√£o",-1)),z("div",oe,U(Xe.value.withOverlap),1)]),_:1})]),_:1}),T(F(t),null,{default:P(()=>[T(F(l),{class:"p-6"},{default:P(()=>[r[10]||(r[10]=z("div",{class:"text-sm font-medium text-muted-foreground"},"Com Conflitos",-1)),z("div",de,U(Xe.value.conflicts),1)]),_:1})]),_:1}),T(F(t),null,{default:P(()=>[T(F(l),{class:"p-6"},{default:P(()=>[r[11]||(r[11]=z("div",{class:"text-sm font-medium text-muted-foreground"},"Exclusivos (1 unidade)",-1)),z("div",ne,U(Xe.value.orphans),1)]),_:1})]),_:1})]),T(F(d),{modelValue:He.value,"onUpdate:modelValue":r[3]||(r[3]=e=>He.value=e),class:"w-full"},{default:P(()=>[T(F(n),{class:"grid w-full grid-cols-4"},{default:P(()=>[T(F(u),{value:"sobreposicao",class:"flex items-center gap-2"},{default:P(()=>[T(F(Z),{class:"w-4 h-4"}),r[12]||(r[12]=z("span",{class:"hidden sm:inline"},"Sobreposi√ß√µes",-1)),Xe.value.withOverlap>0?(A(),E(F($),{key:0,variant:"secondary",class:"ml-1 hidden md:inline-flex"},{default:P(()=>[V(U(Xe.value.withOverlap),1)]),_:1})):I("",!0)]),_:1}),T(F(u),{value:"conflitos",class:"flex items-center gap-2"},{default:P(()=>[T(F(w),{class:"w-4 h-4"}),r[13]||(r[13]=z("span",{class:"hidden sm:inline"},"Conflitos",-1)),Xe.value.conflicts>0?(A(),E(F($),{key:0,variant:"destructive",class:"ml-1 hidden md:inline-flex"},{default:P(()=>[V(U(Xe.value.conflicts),1)]),_:1})):I("",!0)]),_:1}),T(F(u),{value:"orfaos",class:"flex items-center gap-2"},{default:P(()=>[T(F(ee),{class:"w-4 h-4"}),r[14]||(r[14]=z("span",{class:"hidden sm:inline"},"Exclusivos",-1)),Xe.value.orphans>0?(A(),E(F($),{key:0,variant:"secondary",class:"ml-1 hidden md:inline-flex"},{default:P(()=>[V(U(Xe.value.orphans),1)]),_:1})):I("",!0)]),_:1}),T(F(u),{value:"matriz",class:"flex items-center gap-2"},{default:P(()=>[T(F(ae),{class:"w-4 h-4"}),r[15]||(r[15]=z("span",{class:"hidden sm:inline"},"Matriz",-1))]),_:1})]),_:1}),T(F(i),{value:"sobreposicao",class:"space-y-4"},{default:P(()=>[T(F(t),null,{default:P(()=>[T(F(e),null,{default:P(()=>[T(F(a),{class:"text-lg"},{default:P(()=>[...r[16]||(r[16]=[V("Metadados com Sobreposi√ß√£o",-1)])]),_:1})]),_:1}),T(F(l),{class:"space-y-4"},{default:P(()=>[z("div",ue,[T(F(W),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),T(F(f),{modelValue:Qe.value,"onUpdate:modelValue":r[0]||(r[0]=e=>Qe.value=e),placeholder:"Buscar metadado...",class:"pl-9"},null,8,["modelValue"])]),z("div",ie,[T(F(m),null,{default:P(()=>[T(F(k),null,{default:P(()=>[T(F(p),null,{default:P(()=>[T(F(C),null,{default:P(()=>[...r[17]||(r[17]=[V("Metadado",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[18]||(r[18]=[V("Classe Processual",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[19]||(r[19]=[V("Unidades",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[20]||(r[20]=[V("Solicita√ß√µes",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[21]||(r[21]=[V("Conflito",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[22]||(r[22]=[V("Intensidade",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[23]||(r[23]=[V("A√ß√µes",-1)])]),_:1})]),_:1})]),_:1}),T(F(v),null,{default:P(()=>[0===Ye.value.length?(A(),E(F(p),{key:0},{default:P(()=>[T(F(_),{colspan:7,class:"text-center py-8"},{default:P(()=>[z("div",ce,[T(F(X),{class:"w-16 h-16 text-muted-foreground"}),r[24]||(r[24]=z("p",{class:"text-muted-foreground"},"Nenhuma sobreposi√ß√£o encontrada",-1))])]),_:1})]),_:1})):I("",!0),(A(!0),L(R,null,q(Ye.value,e=>(A(),E(F(p),{key:`${e.nome}-${e.classeProcessual}`,class:"hover:bg-muted/50"},{default:P(()=>[T(F(_),{class:"font-medium"},{default:P(()=>[V(U(e.nome),1)]),_:2},1024),T(F(_),null,{default:P(()=>[z("div",re,U(e.classeProcessual),1)]),_:2},1024),T(F(_),null,{default:P(()=>[T(F($),{variant:"secondary"},{default:P(()=>[V(U(e.unidades.length)+" unidades",1)]),_:2},1024)]),_:2},1024),T(F(_),null,{default:P(()=>[z("strong",null,U(e.solicitacoes),1)]),_:2},1024),T(F(_),null,{default:P(()=>[e.conflito?(A(),E(F($),{key:0,variant:"destructive",class:"flex items-center gap-1 w-fit"},{default:P(()=>[T(F(G),{class:"w-3 h-3"}),r[25]||(r[25]=V(" Sim ",-1))]),_:1})):(A(),E(F($),{key:1,variant:"outline",class:"text-green-600 border-green-600"},{default:P(()=>[...r[26]||(r[26]=[V("N√£o",-1)])]),_:1}))]),_:2},1024),T(F(_),null,{default:P(()=>[z("div",fe,[T(F(K),{"model-value":100*e.intensidade,class:B(["w-20",e.intensidade>.1?"[&>div]:bg-red-500":e.intensidade>.05?"[&>div]:bg-yellow-500":"[&>div]:bg-green-500"])},null,8,["model-value","class"]),z("span",me,U((100*e.intensidade).toFixed(0))+"%",1)])]),_:2},1024),T(F(_),null,{default:P(()=>[T(F(N),{variant:"ghost",size:"sm",onClick:a=>da(e)},{default:P(()=>[...r[27]||(r[27]=[V(" Detalhes ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),T(F(i),{value:"conflitos",class:"space-y-4"},{default:P(()=>[T(F(t),null,{default:P(()=>[T(F(e),null,{default:P(()=>[T(F(a),{class:"text-lg"},{default:P(()=>[...r[28]||(r[28]=[V("Metadados com Conflitos",-1)])]),_:1}),T(F(s),null,{default:P(()=>[...r[29]||(r[29]=[V("Metadados com defini√ß√µes diferentes entre unidades",-1)])]),_:1})]),_:1}),T(F(l),{class:"space-y-4"},{default:P(()=>[z("div",pe,[T(F(W),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),T(F(f),{modelValue:Je.value,"onUpdate:modelValue":r[1]||(r[1]=e=>Je.value=e),placeholder:"Buscar conflitos...",class:"pl-9"},null,8,["modelValue"])]),z("div",ve,[T(F(m),null,{default:P(()=>[T(F(k),null,{default:P(()=>[T(F(p),null,{default:P(()=>[T(F(C),null,{default:P(()=>[...r[30]||(r[30]=[V("Metadado",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[31]||(r[31]=[V("Classe Processual",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[32]||(r[32]=[V("Tipo de Conflito",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[33]||(r[33]=[V("Unidades",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[34]||(r[34]=[V("Formatos",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[35]||(r[35]=[V("A√ß√µes",-1)])]),_:1})]),_:1})]),_:1}),T(F(v),null,{default:P(()=>[0===Ze.value.length?(A(),E(F(p),{key:0},{default:P(()=>[T(F(_),{colspan:6,class:"text-center py-8"},{default:P(()=>[z("div",_e,[T(F(o),{class:"w-16 h-16 text-green-500"}),r[36]||(r[36]=z("p",{class:"text-muted-foreground"},"Nenhum conflito encontrado! üéâ",-1))])]),_:1})]),_:1})):I("",!0),(A(!0),L(R,null,q(Ze.value,e=>(A(),E(F(p),{key:`${e.nome}-${e.classeProcessual}`,class:"hover:bg-muted/50"},{default:P(()=>[T(F(_),{class:"font-medium"},{default:P(()=>[V(U(e.nome),1)]),_:2},1024),T(F(_),null,{default:P(()=>[z("div",xe,U(e.classeProcessual),1)]),_:2},1024),T(F(_),null,{default:P(()=>[z("div",he,[e.hasFormatoConflict?(A(),E(F($),{key:0,variant:"destructive",class:"text-xs"},{default:P(()=>[...r[37]||(r[37]=[V(" Formato ",-1)])]),_:1})):I("",!0),e.hasObjetivoConflict?(A(),E(F($),{key:1,variant:"secondary",class:"text-xs bg-yellow-500/20 text-yellow-700 dark:text-yellow-500"},{default:P(()=>[...r[38]||(r[38]=[V(" Objetivo ",-1)])]),_:1})):I("",!0),e.hasClasseOverlap?(A(),E(F($),{key:2,variant:"secondary",class:"text-xs bg-orange-500/20 text-orange-700 dark:text-orange-500"},{default:P(()=>[...r[39]||(r[39]=[V(" Sobreposi√ß√£o de Classes ",-1)])]),_:1})):I("",!0)])]),_:2},1024),T(F(_),null,{default:P(()=>[z("div",ge,U(e.unidades.join(", ")),1)]),_:2},1024),T(F(_),null,{default:P(()=>[z("div",be,U(Array.from(e.formatos).join(", ")),1)]),_:2},1024),T(F(_),null,{default:P(()=>[T(F(N),{variant:"ghost",size:"sm",onClick:a=>da(e)},{default:P(()=>[...r[40]||(r[40]=[V(" Detalhes ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),T(F(i),{value:"orfaos",class:"space-y-4"},{default:P(()=>[T(F(t),null,{default:P(()=>[T(F(e),null,{default:P(()=>[T(F(a),{class:"text-lg"},{default:P(()=>[...r[41]||(r[41]=[V("Metadados Exclusivos",-1)])]),_:1}),T(F(s),null,{default:P(()=>[...r[42]||(r[42]=[V("Metadados solicitados exclusivamente por uma unidade",-1)])]),_:1})]),_:1}),T(F(l),{class:"space-y-4"},{default:P(()=>[z("div",ye,[T(F(W),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),T(F(f),{modelValue:Ge.value,"onUpdate:modelValue":r[2]||(r[2]=e=>Ge.value=e),placeholder:"Buscar exclusivos...",class:"pl-9"},null,8,["modelValue"])]),z("div",we,[T(F(m),null,{default:P(()=>[T(F(k),null,{default:P(()=>[T(F(p),null,{default:P(()=>[T(F(C),null,{default:P(()=>[...r[43]||(r[43]=[V("Metadado",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[44]||(r[44]=[V("Unidade",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[45]||(r[45]=[V("Tipos de Documento",-1)])]),_:1}),T(F(C),null,{default:P(()=>[...r[46]||(r[46]=[V("Quantidade",-1)])]),_:1})]),_:1})]),_:1}),T(F(v),null,{default:P(()=>[0===ea.value.length?(A(),E(F(p),{key:0},{default:P(()=>[T(F(_),{colspan:4,class:"text-center py-8"},{default:P(()=>[z("div",ke,[T(F(X),{class:"w-16 h-16 text-muted-foreground"}),r[47]||(r[47]=z("p",{class:"text-muted-foreground"},"Nenhum metadado exclusivo encontrado",-1))])]),_:1})]),_:1})):I("",!0),(A(!0),L(R,null,q(ea.value,e=>(A(),E(F(p),{key:e.nome,class:"hover:bg-muted/50"},{default:P(()=>[T(F(_),{class:"font-medium"},{default:P(()=>[V(U(e.nome),1)]),_:2},1024),T(F(_),null,{default:P(()=>[T(F($),{variant:"secondary"},{default:P(()=>[V(U(e.unidade),1)]),_:2},1024)]),_:2},1024),T(F(_),null,{default:P(()=>[z("div",Ce,U(e.tiposDocumento.join(", ")),1)]),_:2},1024),T(F(_),null,{default:P(()=>[V(U(e.count),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),T(F(i),{value:"matriz",class:"space-y-4"},{default:P(()=>[T(F(t),null,{default:P(()=>[T(F(e),null,{default:P(()=>[T(F(a),{class:"text-lg"},{default:P(()=>[...r[48]||(r[48]=[V("Matriz: Tipos de Documento vs Unidades",-1)])]),_:1})]),_:1}),T(F(l),null,{default:P(()=>[z("div",je,[z("table",De,[z("thead",null,[z("tr",null,[r[49]||(r[49]=z("th",{class:"sticky-col"},"Tipo de Documento",-1)),(A(!0),L(R,null,q(aa.value.unidades,e=>(A(),L("th",{key:e},U(e),1))),128)),r[50]||(r[50]=z("th",null,"Total",-1))])]),z("tbody",null,[(A(!0),L(R,null,q(aa.value.tiposDoc,e=>(A(),L("tr",{key:e},[z("td",Me,U(e),1),(A(!0),L(R,null,q(aa.value.unidades,a=>(A(),L("td",{key:a,class:"text-center",style:H(sa(aa.value.matrix[e]?.[a]||0))},U(aa.value.matrix[e]?.[a]||"-"),5))),128)),z("td",Oe,U(oa(e)),1)]))),128)),z("tr",Se,[r[51]||(r[51]=z("td",{class:"sticky-col font-semibold"},"Total",-1)),(A(!0),L(R,null,q(aa.value.unidades,e=>(A(),L("td",{key:e,class:"text-center font-semibold"},U(function(e){return aa.value.tiposDoc.reduce((a,l)=>a+(aa.value.matrix[l]?.[e]||0),0)}(e)),1))),128)),z("td",Ee,U(Xe.value.total),1)])])])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),T(F(x),{open:Ke.value,"onUpdate:open":r[5]||(r[5]=e=>Ke.value=e)},{default:P(()=>[T(F(h),{class:"max-w-3xl max-h-[80vh] overflow-y-auto"},{default:P(()=>[T(F(g),null,{default:P(()=>[T(F(b),null,{default:P(()=>[V("Detalhes: "+U(We.value?.nome),1)]),_:1})]),_:1}),We.value?(A(),L("div",Ae,[z("div",Pe,[T(F(Y),{class:"w-4 h-4"}),z("span",null,"Solicita√ß√µes ("+U(We.value.items.length)+")",1)]),z("div",Te,[(A(!0),L(R,null,q(We.value.items,(e,a)=>(A(),E(F(t),{key:a,class:"border-l-4 border-l-primary"},{default:P(()=>[T(F(l),{class:"pt-4"},{default:P(()=>[z("div",Fe,[z("div",ze,[T(F(Y),{class:"w-5 h-5 text-primary"})]),z("div",Ve,[z("div",Ne,U(e.unidade),1),z("div",Ue,[z("div",Ie,[r[52]||(r[52]=z("span",{class:"font-medium min-w-[120px]"},"Tipo Documento:",-1)),z("div",$e,[Array.isArray(e.tipoDocumento)?(A(!0),L(R,{key:0},q(e.tipoDocumento,e=>(A(),E(F($),{key:e,variant:na(e)?"default":"secondary",class:B(na(e)?"bg-blue-600 hover:bg-blue-700":"")},{default:P(()=>[V(U(e),1)]),_:2},1032,["variant","class"]))),128)):(A(),E(F($),{key:1,variant:"secondary"},{default:P(()=>[V(U(e.tipoDocumento),1)]),_:2},1024))])]),e.formatoMetadado?(A(),L("div",Le,[r[53]||(r[53]=z("span",{class:"font-medium min-w-[120px]"},"Formato:",-1)),z("span",Re,U(e.formatoMetadado),1)])):I("",!0),e.objetivoMetadado?(A(),L("div",qe,[r[54]||(r[54]=z("span",{class:"font-medium min-w-[120px]"},"Objetivo:",-1)),z("span",Be,U(e.objetivoMetadado),1)])):I("",!0)])])])]),_:2},1024)]),_:2},1024))),128))])])):I("",!0),T(F(y),null,{default:P(()=>[T(F(N),{variant:"outline",onClick:r[4]||(r[4]=e=>Ke.value=!1)},{default:P(()=>[...r[55]||(r[55]=[V(" Fechar ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}},[["__scopeId","data-v-8f9cfe49"]]),Qe={class:"space-y-6"},Je={__name:"Relatorios",setup:e=>(e,a)=>(A(),L("div",Qe,[a[0]||(a[0]=z("div",null,[z("h1",{class:"text-3xl font-bold"},"Relat√≥rios"),z("p",{class:"text-muted-foreground"},"An√°lises avan√ßadas de metadados")],-1)),T(He)]))};
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{Je as default};
