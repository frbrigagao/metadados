import{_ as e,a,b as s,c as l}from"./CardTitle-AhEIrJEE.js";import{_ as t,a as o,b as u,c as d,d as r,U as i,v as n}from"./importHelpers-JhwJA0ap.js";import{c,j as m,f as v,I as f,ab as p,u as x,ag as _,_ as h,b as g,J as y,m as w,y as k,a5 as C,l as b,r as D,e as M,g as z,k as P,F as j,a6 as T,z as I,A as V,p as U,a7 as A,a8 as L,a9 as F,x as q,aa as E,ac as B,ad as S,n as N,al as R,am as H,an as O}from"./index-D6BWiUEP.js";import{X as $,d as K,_ as W,a as G,b as J,c as Q}from"./DialogTitle-CP2wy2KZ.js";import{_ as X,a as Y,b as Z,c as ee,d as ae}from"./TableRow-C8B5uA4n.js";import{_ as se}from"./Label-Dgj3Wn80.js";import{_ as le,a as te}from"./index-DXp5PjAL.js";import{_ as oe,a as ue,b as de,c as re,d as ie}from"./SelectValue-Bbv2fu04.js";import{_ as ne,a as ce}from"./TableHeader-DUNd_lk1.js";import{B as me}from"./building-2sGDkewT.js";import{F as ve,S as fe}from"./scale-Dnpb1KR7.js";import{a as pe,P as xe,F as _e,S as he}from"./save-akDoYFhk.js";import{S as ge}from"./search-Br5i6DUx.js";import{T as ye}from"./trash-2-B7PxE88o.js";import{C as we}from"./circle-check-DWpdGq92.js";import"./Collection-Bjv2vZPV.js";import"./utils-CYxClmdu.js";import"./nullish-aV-w2MPu.js";
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=c("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ce=c("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),be=c("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),De={__name:"CardDescription",props:{class:{type:null,required:!1}},setup(e){const a=e;return(e,s)=>(v(),m("p",{class:p(x(_)("text-sm text-muted-foreground",a.class))},[f(e.$slots,"default")],2))}},Me=h({__name:"Spinner",props:{size:{type:String,default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)},label:{type:String,default:""},center:{type:Boolean,default:!1}},setup(e){const a=e,s=g(()=>{const e={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"};return e[a.size]||e.md}),l=g(()=>{const e={xs:"text-xs",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"};return e[a.size]||e.md}),t=g(()=>({"justify-center":a.center,"flex-col":a.label}));return(a,o)=>(v(),m("div",{class:p(["spinner-container",t.value])},[(v(),m("svg",{class:p(["spinner",s.value]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[...o[0]||(o[0]=[w("circle",{class:"spinner-track",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),w("path",{class:"spinner-path",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])],2)),e.label?(v(),m("span",{key:0,class:p(["spinner-label",l.value])},k(e.label),3)):y("",!0)],2))}},[["__scopeId","data-v-d8fb610f"]]),ze={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},Pe={class:"flex items-center justify-between"},je={class:"relative"},Te={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},Ie={key:0,class:"text-amber-600 dark:text-amber-400"},Ve={class:"rounded-md border"},Ue={class:"text-sm text-muted-foreground"},Ae={class:"flex items-center justify-end gap-2"},Le={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},Fe={class:"flex items-center justify-between gap-4"},qe={class:"flex items-center gap-3"},Ee={class:"flex items-center gap-2"},Be={class:"relative"},Se={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},Ne={key:0,class:"text-amber-600 dark:text-amber-400"},Re={class:"rounded-md border"},He={class:"text-sm text-muted-foreground"},Oe={class:"flex items-center justify-end gap-2"},$e={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},Ke={class:"flex items-center justify-between gap-4"},We={class:"flex items-center gap-3"},Ge={class:"flex items-center gap-2"},Je={class:"relative"},Qe={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},Xe={key:0,class:"text-amber-600 dark:text-amber-400"},Ye={class:"rounded-md border"},Ze={class:"text-sm text-muted-foreground"},ea={class:"flex items-center justify-end gap-2"},aa={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},sa={class:"flex items-center justify-between gap-4"},la={class:"flex items-center gap-3"},ta={class:"flex items-center gap-2"},oa={class:"relative"},ua={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},da={key:0,class:"text-amber-600 dark:text-amber-400"},ra={class:"rounded-md border"},ia={class:"text-sm text-muted-foreground"},na={class:"flex items-center justify-end gap-1"},ca={class:"space-y-4"},ma={class:"space-y-2"},va={class:"space-y-4"},fa={key:1,class:"text-sm"},pa={key:2,class:"text-sm"},xa=100,_a={__name:"ConfigTabs",setup(s){const l=C(),i=b(),n=D("unidades"),c=D(!1),f=D(""),_=D(null),h=D(""),H=D(!1),O=D(null),we=D(""),De=D("todos"),_a=D("todos"),ha=D("todos"),ga=D(""),ya=D(""),wa=D(""),ka=D(""),Ca=g(()=>{const e={unidades:{},tiposDocumento:{},formatosMetadado:{},classesProcessuais:{}};return i.metadados.forEach(a=>{if(a.unidade&&(e.unidades[a.unidade]=(e.unidades[a.unidade]||0)+1),a.tipoDocumento){(Array.isArray(a.tipoDocumento)?a.tipoDocumento:[a.tipoDocumento]).forEach(a=>{e.tiposDocumento[a]=(e.tiposDocumento[a]||0)+1})}a.formatoMetadado&&(e.formatosMetadado[a.formatoMetadado]=(e.formatosMetadado[a.formatoMetadado]||0)+1),a.classeProcessual&&"Não informado"!==a.classeProcessual&&(e.classesProcessuais[a.classeProcessual]=(e.classesProcessuais[a.classeProcessual]||0)+1)}),e}),ba=g(()=>{if(!O.value||!we.value)return 0;const e={unidades:Ca.value.unidades,tiposDocumento:Ca.value.tiposDocumento,formatosMetadado:Ca.value.formatosMetadado,classesProcessuais:Ca.value.classesProcessuais};return"classesProcessuais"===we.value?e[we.value]?.[O.value]||0:e[we.value]?.[O.value.value]||0}),Da=g(()=>{let e=[...l.unidades];if(ga.value.trim()){const a=ga.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return e=e.sort((e,a)=>e.value.localeCompare(a.value,"pt-BR",{sensitivity:"base"})),e.slice(0,xa)}),Ma=g(()=>{let e=[...l.unidades];if(ga.value.trim()){const a=ga.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return e.length>xa}),za=g(()=>{let e=[...l.tiposDocumentoComStatus];if(ya.value.trim()){const a=ya.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===De.value?e=e.filter(e=>(Ca.value.tiposDocumento[e.value]||0)>0):"nao-utilizados"===De.value&&(e=e.filter(e=>0===(Ca.value.tiposDocumento[e.value]||0))),e=e.sort((e,a)=>e.value.localeCompare(a.value,"pt-BR",{sensitivity:"base"})),e.slice(0,xa)}),Pa=g(()=>{let e=[...l.tiposDocumentoComStatus];if(ya.value.trim()){const a=ya.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===De.value?e=e.filter(e=>(Ca.value.tiposDocumento[e.value]||0)>0):"nao-utilizados"===De.value&&(e=e.filter(e=>0===(Ca.value.tiposDocumento[e.value]||0))),e.length>xa}),ja=g(()=>{let e=[...l.formatosMetadado];if(wa.value.trim()){const a=wa.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===_a.value?e=e.filter(e=>(Ca.value.formatosMetadado[e.value]||0)>0):"nao-utilizados"===_a.value&&(e=e.filter(e=>0===(Ca.value.formatosMetadado[e.value]||0))),e=e.sort((e,a)=>e.value.localeCompare(a.value,"pt-BR",{sensitivity:"base"})),e.slice(0,xa)}),Ta=g(()=>{let e=[...l.formatosMetadado];if(wa.value.trim()){const a=wa.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===_a.value?e=e.filter(e=>(Ca.value.formatosMetadado[e.value]||0)>0):"nao-utilizados"===_a.value&&(e=e.filter(e=>0===(Ca.value.formatosMetadado[e.value]||0))),e.length>xa}),Ia=g(()=>{let e=[...l.classesProcessuais];if(ka.value.trim()){const a=ka.value.toLowerCase().trim();e=e.filter(e=>e.toLowerCase().includes(a))}return"em-uso"===ha.value?e=e.filter(e=>(Ca.value.classesProcessuais[e]||0)>0):"nao-utilizados"===ha.value&&(e=e.filter(e=>0===(Ca.value.classesProcessuais[e]||0))),e=e.sort((e,a)=>e.localeCompare(a,"pt-BR",{sensitivity:"base"})),e.slice(0,xa)}),Va=g(()=>{let e=[...l.classesProcessuais];if(ka.value.trim()){const a=ka.value.toLowerCase().trim();e=e.filter(e=>e.toLowerCase().includes(a))}return"em-uso"===ha.value?e=e.filter(e=>(Ca.value.classesProcessuais[e]||0)>0):"nao-utilizados"===ha.value&&(e=e.filter(e=>0===(Ca.value.classesProcessuais[e]||0))),e.length>xa});function Ua(e,a=null){f.value=e,_.value=a,h.value="classesProcessuais"===e?a||"":a?.value||"",c.value=!0}async function Aa(){if(h.value.trim())try{const e={unidades:_.value?"updateUnidade":"addUnidade",tiposDocumento:_.value?"updateTipoDocumento":"addTipoDocumento",formatosMetadado:_.value?"updateFormatoMetadado":"addFormatoMetadado",classesProcessuais:_.value?"updateClasseProcessual":"addClasseProcessual"};if(_.value){if("tiposDocumento"===f.value&&_.value.importado)await l.updateTipoDocumentoImportado(_.value.value,{..._.value,value:h.value});else if("classesProcessuais"===f.value)await l.updateClasseProcessual(_.value,h.value);else{const e={unidades:"updateUnidade",tiposDocumento:"updateTipoDocumento",formatosMetadado:"updateFormatoMetadado"};await l[e[f.value]](_.value.value,{..._.value,value:h.value})}c.value=!1,_.value=null,h.value="",f.value="",await N(),S.success("Item atualizado com sucesso")}else{if("tiposDocumento"===f.value&&l.hasTiposDocumentosImportados){const{tiposDocumentosImportados:e}=R();await e.put({value:h.value,active:!0}),await l.loadTiposDocumentosImportados()}else await l[e[f.value]](h.value);c.value=!1,_.value=null,h.value="",f.value="",await N(),S.success("Item adicionado com sucesso")}}catch(e){S.error("Erro ao salvar item: "+e.message)}else S.error("Digite um nome para o item")}function La(e,a){O.value=a,we.value=e,H.value=!0}async function Fa(){try{if("tiposDocumento"===we.value&&O.value.importado)await l.removeTipoDocumentoImportado(O.value.value);else{const e={unidades:"removeUnidade",tiposDocumento:"removeTipoDocumento",formatosMetadado:"removeFormatoMetadado",classesProcessuais:"removeClasseProcessual"},a="classesProcessuais"===we.value?O.value:O.value.value;await l[e[we.value]](a)}H.value=!1,O.value=null,we.value="",await N(),S.success("Item excluído com sucesso")}catch(e){S.error("Erro ao excluir item: "+e.message)}}async function qa(){try{const e={unidades:"updateUnidade",tiposDocumento:"updateTipoDocumento",formatosMetadado:"updateFormatoMetadado"};await l[e[we.value]](O.value.value,{...O.value,active:!1}),H.value=!1,O.value=null,we.value="",await N(),S.warning("Item marcado como inativo")}catch(e){S.error("Erro ao desativar item: "+e.message)}}async function Ea(e,a){try{const s=!a.active;if("tiposDocumento"===e&&a.importado)await l.toggleTipoDocumentoImportado(a.value);else{const t={unidades:"updateUnidade",tiposDocumento:"updateTipoDocumento",formatosMetadado:"updateFormatoMetadado"};await l[t[e]](a.value,{...a,active:s})}S.success(s?"Item ativado com sucesso":"Item desativado com sucesso")}catch(s){S.error("Erro ao alterar status: "+s.message)}}async function Ba(e){({unidades:Da.value.length,tiposDocumento:za.value.length,formatosMetadado:ja.value.length,classesProcessuais:Ia.value.length}[e]||0)>50&&await l.simulateTabLoading(e,400)}return(s,i)=>(v(),M(x(a),null,{default:z(()=>[P(x(t),{modelValue:n.value,"onUpdate:modelValue":[i[23]||(i[23]=e=>n.value=e),Ba],class:"w-full"},{default:z(()=>[P(x(o),{class:"grid w-full grid-cols-2 md:grid-cols-4"},{default:z(()=>[P(x(u),{value:"unidades",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[0]||(i[0]=e=>{}),onMouseleave:i[1]||(i[1]=e=>{})},{default:z(()=>[P(x(me),{class:"w-4 h-4"}),i[29]||(i[29]=w("span",{class:"text-xs sm:text-sm"},"Unidades",-1))]),_:1}),P(x(u),{value:"tiposDocumento",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[2]||(i[2]=e=>{}),onMouseleave:i[3]||(i[3]=e=>{})},{default:z(()=>[P(x(ve),{class:"w-4 h-4"}),i[30]||(i[30]=w("span",{class:"text-xs sm:text-sm"},"Tipos de Documento",-1))]),_:1}),P(x(u),{value:"formatosMetadado",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[4]||(i[4]=e=>{}),onMouseleave:i[5]||(i[5]=e=>{})},{default:z(()=>[P(x(be),{class:"w-4 h-4"}),i[31]||(i[31]=w("span",{class:"text-xs sm:text-sm"},"Formatos de Metadado",-1))]),_:1}),P(x(u),{value:"classesProcessuais",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[6]||(i[6]=e=>{}),onMouseleave:i[7]||(i[7]=e=>{})},{default:z(()=>[P(x(fe),{class:"w-4 h-4"}),i[32]||(i[32]=w("span",{class:"text-xs sm:text-sm"},"Classes Processuais",-1))]),_:1})]),_:1}),P(x(e),{class:"pt-6"},{default:z(()=>[P(x(d),{value:"unidades",class:"space-y-4"},{default:z(()=>[x(l).loadingTabs.unidades?(v(),m("div",ze,[P(x(Me),{size:"lg"}),i[33]||(i[33]=w("p",{class:"text-sm text-muted-foreground"},"Carregando unidades...",-1))])):(v(),m(j,{key:1},[w("div",Pe,[i[35]||(i[35]=w("h3",{class:"text-lg font-semibold"},"Unidades",-1)),P(x(T),{onClick:i[8]||(i[8]=e=>Ua("unidades"))},{default:z(()=>[P(x(pe),{class:"w-4 h-4 mr-2"}),i[34]||(i[34]=I(" Adicionar ",-1))]),_:1})]),w("div",je,[P(x(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),P(x(X),{modelValue:ga.value,"onUpdate:modelValue":i[9]||(i[9]=e=>ga.value=e),placeholder:"Buscar unidades...",class:"pl-10 pr-10"},null,8,["modelValue"]),ga.value?(v(),M(x(T),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[10]||(i[10]=e=>ga.value="")},{default:z(()=>[P(x($),{class:"w-4 h-4"})]),_:1})):y("",!0)]),ga.value||Ma.value?(v(),m("div",Te,[P(x(V),{variant:"secondary"},{default:z(()=>[I(" Mostrando "+k(Da.value.length)+" de "+k(x(l).unidades.length),1)]),_:1}),Ma.value?(v(),m("span",Ie," Lista limitada a 100 itens. Use a busca para refinar. ")):y("",!0)])):y("",!0),w("div",Ve,[P(x(Y),null,{default:z(()=>[P(x(ne),null,{default:z(()=>[P(x(Z),null,{default:z(()=>[P(x(ce),null,{default:z(()=>[...i[36]||(i[36]=[I("Nome",-1)])]),_:1}),P(x(ce),null,{default:z(()=>[...i[37]||(i[37]=[I("Status",-1)])]),_:1}),P(x(ce),null,{default:z(()=>[...i[38]||(i[38]=[I("Usos",-1)])]),_:1}),P(x(ce),{class:"text-right"},{default:z(()=>[...i[39]||(i[39]=[I("Ações",-1)])]),_:1})]),_:1})]),_:1}),P(x(ee),null,{default:z(()=>[0===Da.value.length?(v(),M(x(Z),{key:0},{default:z(()=>[P(x(ae),{colspan:"4",class:"text-center text-muted-foreground py-8"},{default:z(()=>[...i[40]||(i[40]=[I(" Nenhuma unidade cadastrada ",-1)])]),_:1})]),_:1})):y("",!0),(v(!0),m(j,null,U(Da.value,e=>(v(),M(x(Z),{key:e.value},{default:z(()=>[P(x(ae),{class:p(e.active?"font-medium":"text-muted-foreground line-through")},{default:z(()=>[I(k(e.value),1)]),_:2},1032,["class"]),P(x(ae),null,{default:z(()=>[P(x(V),{variant:e.active?"default":"secondary",class:"text-xs"},{default:z(()=>[I(k(e.active?"Ativo":"Inativo"),1)]),_:2},1032,["variant"])]),_:2},1024),P(x(ae),null,{default:z(()=>[w("span",Ue,k(Ca.value.unidades[e.value]||0),1)]),_:2},1024),P(x(ae),{class:"text-right"},{default:z(()=>[w("div",Ae,[P(x(A),null,{default:z(()=>[P(x(L),null,{default:z(()=>[P(x(F),{"as-child":""},{default:z(()=>[P(x(T),{variant:"ghost",size:"sm",onClick:a=>Ea("unidades",e)},{default:z(()=>[(v(),M(q(e.active?x(Ce):x(ke)),{class:"w-4 h-4"}))]),_:2},1032,["onClick"])]),_:2},1024),P(x(E),null,{default:z(()=>[I(k(e.active?"Desativar":"Ativar"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),P(x(T),{variant:"ghost",size:"sm",onClick:a=>Ua("unidades",e)},{default:z(()=>[P(x(xe),{class:"w-4 h-4"})]),_:1},8,["onClick"]),P(x(T),{variant:"ghost",size:"sm",onClick:a=>La("unidades",e)},{default:z(()=>[P(x(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1}),P(x(d),{value:"tiposDocumento",class:"space-y-4"},{default:z(()=>[x(l).loadingTabs.tiposDocumento?(v(),m("div",Le,[P(x(Me),{size:"lg"}),i[41]||(i[41]=w("p",{class:"text-sm text-muted-foreground"},"Carregando tipos de documento...",-1))])):(v(),m(j,{key:1},[w("div",Fe,[i[46]||(i[46]=w("h3",{class:"text-lg font-semibold"},"Tipos de Documento",-1)),w("div",qe,[w("div",Ee,[P(x(_e),{class:"w-4 h-4 text-muted-foreground"}),P(x(oe),{modelValue:De.value,"onUpdate:modelValue":i[11]||(i[11]=e=>De.value=e)},{default:z(()=>[P(x(ue),{class:"w-[180px]"},{default:z(()=>[P(x(de),{placeholder:"Filtrar por uso"})]),_:1}),P(x(re),null,{default:z(()=>[P(x(ie),{value:"todos"},{default:z(()=>[...i[42]||(i[42]=[I("Todos",-1)])]),_:1}),P(x(ie),{value:"em-uso"},{default:z(()=>[...i[43]||(i[43]=[I("Em uso",-1)])]),_:1}),P(x(ie),{value:"nao-utilizados"},{default:z(()=>[...i[44]||(i[44]=[I("Não utilizados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),P(x(T),{onClick:i[12]||(i[12]=e=>Ua("tiposDocumento"))},{default:z(()=>[P(x(pe),{class:"w-4 h-4 mr-2"}),i[45]||(i[45]=I(" Adicionar ",-1))]),_:1})])]),w("div",Be,[P(x(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),P(x(X),{modelValue:ya.value,"onUpdate:modelValue":i[13]||(i[13]=e=>ya.value=e),placeholder:"Buscar tipos de documento...",class:"pl-10 pr-10"},null,8,["modelValue"]),ya.value?(v(),M(x(T),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[14]||(i[14]=e=>ya.value="")},{default:z(()=>[P(x($),{class:"w-4 h-4"})]),_:1})):y("",!0)]),ya.value||"todos"!==De.value||Pa.value?(v(),m("div",Se,[P(x(V),{variant:"secondary"},{default:z(()=>[I(" Mostrando "+k(za.value.length)+" de "+k(x(l).tiposDocumentoComStatus.length),1)]),_:1}),Pa.value?(v(),m("span",Ne," Lista limitada a 100 itens. Use a busca para refinar. ")):y("",!0)])):y("",!0),w("div",Re,[P(x(Y),null,{default:z(()=>[P(x(ne),null,{default:z(()=>[P(x(Z),null,{default:z(()=>[P(x(ce),null,{default:z(()=>[...i[47]||(i[47]=[I("Nome",-1)])]),_:1}),P(x(ce),null,{default:z(()=>[...i[48]||(i[48]=[I("Status",-1)])]),_:1}),P(x(ce),null,{default:z(()=>[...i[49]||(i[49]=[I("Usos",-1)])]),_:1}),P(x(ce),{class:"text-right"},{default:z(()=>[...i[50]||(i[50]=[I("Ações",-1)])]),_:1})]),_:1})]),_:1}),P(x(ee),null,{default:z(()=>[0===za.value.length?(v(),M(x(Z),{key:0},{default:z(()=>[P(x(ae),{colspan:"4",class:"text-center text-muted-foreground py-8"},{default:z(()=>[...i[51]||(i[51]=[I(" Nenhum tipo de documento cadastrado ",-1)])]),_:1})]),_:1})):y("",!0),(v(!0),m(j,null,U(za.value,e=>(v(),M(x(Z),{key:e.value},{default:z(()=>[P(x(ae),{class:p(e.active?"font-medium":"text-muted-foreground line-through")},{default:z(()=>[I(k(e.value)+" ",1),e.importado?(v(),M(x(V),{key:0,variant:"outline",class:"ml-2 text-xs"},{default:z(()=>[...i[52]||(i[52]=[I(" Importado ",-1)])]),_:1})):y("",!0)]),_:2},1032,["class"]),P(x(ae),null,{default:z(()=>[P(x(V),{variant:e.active?"default":"secondary",class:"text-xs"},{default:z(()=>[I(k(e.active?"Ativo":"Inativo"),1)]),_:2},1032,["variant"])]),_:2},1024),P(x(ae),null,{default:z(()=>[w("span",He,k(Ca.value.tiposDocumento[e.value]||0),1)]),_:2},1024),P(x(ae),{class:"text-right"},{default:z(()=>[w("div",Oe,[P(x(A),null,{default:z(()=>[P(x(L),null,{default:z(()=>[P(x(F),{"as-child":""},{default:z(()=>[P(x(T),{variant:"ghost",size:"sm",onClick:a=>Ea("tiposDocumento",e)},{default:z(()=>[(v(),M(q(e.active?x(Ce):x(ke)),{class:"w-4 h-4"}))]),_:2},1032,["onClick"])]),_:2},1024),P(x(E),null,{default:z(()=>[I(k(e.active?"Desativar":"Ativar")+k(e.importado?" (importado)":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),P(x(A),null,{default:z(()=>[P(x(L),null,{default:z(()=>[P(x(F),{"as-child":""},{default:z(()=>[P(x(T),{variant:"ghost",size:"sm",onClick:a=>Ua("tiposDocumento",e)},{default:z(()=>[P(x(xe),{class:"w-4 h-4"})]),_:1},8,["onClick"])]),_:2},1024),P(x(E),null,{default:z(()=>[I(" Editar"+k(e.importado?" tipo importado":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),P(x(A),null,{default:z(()=>[P(x(L),null,{default:z(()=>[P(x(F),{"as-child":""},{default:z(()=>[P(x(T),{variant:"ghost",size:"sm",onClick:a=>La("tiposDocumento",e)},{default:z(()=>[P(x(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])]),_:2},1024),P(x(E),null,{default:z(()=>[I(" Excluir"+k(e.importado?" tipo importado":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1}),P(x(d),{value:"formatosMetadado",class:"space-y-4"},{default:z(()=>[x(l).loadingTabs.formatosMetadado?(v(),m("div",$e,[P(x(Me),{size:"lg"}),i[53]||(i[53]=w("p",{class:"text-sm text-muted-foreground"},"Carregando formatos de metadado...",-1))])):(v(),m(j,{key:1},[w("div",Ke,[i[58]||(i[58]=w("h3",{class:"text-lg font-semibold"},"Formatos de Metadado",-1)),w("div",We,[w("div",Ge,[P(x(_e),{class:"w-4 h-4 text-muted-foreground"}),P(x(oe),{modelValue:_a.value,"onUpdate:modelValue":i[15]||(i[15]=e=>_a.value=e)},{default:z(()=>[P(x(ue),{class:"w-[180px]"},{default:z(()=>[P(x(de),{placeholder:"Filtrar por uso"})]),_:1}),P(x(re),null,{default:z(()=>[P(x(ie),{value:"todos"},{default:z(()=>[...i[54]||(i[54]=[I("Todos",-1)])]),_:1}),P(x(ie),{value:"em-uso"},{default:z(()=>[...i[55]||(i[55]=[I("Em uso",-1)])]),_:1}),P(x(ie),{value:"nao-utilizados"},{default:z(()=>[...i[56]||(i[56]=[I("Não utilizados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),P(x(T),{onClick:i[16]||(i[16]=e=>Ua("formatosMetadado"))},{default:z(()=>[P(x(pe),{class:"w-4 h-4 mr-2"}),i[57]||(i[57]=I(" Adicionar ",-1))]),_:1})])]),w("div",Je,[P(x(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),P(x(X),{modelValue:wa.value,"onUpdate:modelValue":i[17]||(i[17]=e=>wa.value=e),placeholder:"Buscar formatos de metadado...",class:"pl-10 pr-10"},null,8,["modelValue"]),wa.value?(v(),M(x(T),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[18]||(i[18]=e=>wa.value="")},{default:z(()=>[P(x($),{class:"w-4 h-4"})]),_:1})):y("",!0)]),wa.value||"todos"!==_a.value||Ta.value?(v(),m("div",Qe,[P(x(V),{variant:"secondary"},{default:z(()=>[I(" Mostrando "+k(ja.value.length)+" de "+k(x(l).formatosMetadado.length),1)]),_:1}),Ta.value?(v(),m("span",Xe," Lista limitada a 100 itens. Use a busca para refinar. ")):y("",!0)])):y("",!0),w("div",Ye,[P(x(Y),null,{default:z(()=>[P(x(ne),null,{default:z(()=>[P(x(Z),null,{default:z(()=>[P(x(ce),null,{default:z(()=>[...i[59]||(i[59]=[I("Nome",-1)])]),_:1}),P(x(ce),null,{default:z(()=>[...i[60]||(i[60]=[I("Status",-1)])]),_:1}),P(x(ce),null,{default:z(()=>[...i[61]||(i[61]=[I("Usos",-1)])]),_:1}),P(x(ce),{class:"text-right"},{default:z(()=>[...i[62]||(i[62]=[I("Ações",-1)])]),_:1})]),_:1})]),_:1}),P(x(ee),null,{default:z(()=>[0===ja.value.length?(v(),M(x(Z),{key:0},{default:z(()=>[P(x(ae),{colspan:"4",class:"text-center text-muted-foreground py-8"},{default:z(()=>[...i[63]||(i[63]=[I(" Nenhum formato de metadado cadastrado ",-1)])]),_:1})]),_:1})):y("",!0),(v(!0),m(j,null,U(ja.value,e=>(v(),M(x(Z),{key:e.value},{default:z(()=>[P(x(ae),{class:p(e.active?"font-medium":"text-muted-foreground line-through")},{default:z(()=>[I(k(e.value),1)]),_:2},1032,["class"]),P(x(ae),null,{default:z(()=>[P(x(V),{variant:e.active?"default":"secondary",class:"text-xs"},{default:z(()=>[I(k(e.active?"Ativo":"Inativo"),1)]),_:2},1032,["variant"])]),_:2},1024),P(x(ae),null,{default:z(()=>[w("span",Ze,k(Ca.value.formatosMetadado[e.value]||0),1)]),_:2},1024),P(x(ae),{class:"text-right"},{default:z(()=>[w("div",ea,[P(x(A),null,{default:z(()=>[P(x(L),null,{default:z(()=>[P(x(F),{"as-child":""},{default:z(()=>[P(x(T),{variant:"ghost",size:"sm",onClick:a=>Ea("formatosMetadado",e)},{default:z(()=>[(v(),M(q(e.active?x(Ce):x(ke)),{class:"w-4 h-4"}))]),_:2},1032,["onClick"])]),_:2},1024),P(x(E),null,{default:z(()=>[I(k(e.active?"Desativar":"Ativar"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),P(x(T),{variant:"ghost",size:"sm",onClick:a=>Ua("formatosMetadado",e)},{default:z(()=>[P(x(xe),{class:"w-4 h-4"})]),_:1},8,["onClick"]),P(x(T),{variant:"ghost",size:"sm",onClick:a=>La("formatosMetadado",e)},{default:z(()=>[P(x(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1}),P(x(d),{value:"classesProcessuais",class:"space-y-4"},{default:z(()=>[x(l).loadingTabs.classesProcessuais?(v(),m("div",aa,[P(x(Me),{size:"lg"}),i[64]||(i[64]=w("p",{class:"text-sm text-muted-foreground"},"Carregando classes processuais...",-1))])):(v(),m(j,{key:1},[w("div",sa,[i[69]||(i[69]=w("h3",{class:"text-lg font-semibold"},"Classes Processuais",-1)),w("div",la,[w("div",ta,[P(x(_e),{class:"w-4 h-4 text-muted-foreground"}),P(x(oe),{modelValue:ha.value,"onUpdate:modelValue":i[19]||(i[19]=e=>ha.value=e)},{default:z(()=>[P(x(ue),{class:"w-[180px]"},{default:z(()=>[P(x(de),{placeholder:"Filtrar por uso"})]),_:1}),P(x(re),null,{default:z(()=>[P(x(ie),{value:"todos"},{default:z(()=>[...i[65]||(i[65]=[I("Todos",-1)])]),_:1}),P(x(ie),{value:"em-uso"},{default:z(()=>[...i[66]||(i[66]=[I("Em uso",-1)])]),_:1}),P(x(ie),{value:"nao-utilizados"},{default:z(()=>[...i[67]||(i[67]=[I("Não utilizados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),P(x(T),{onClick:i[20]||(i[20]=e=>Ua("classesProcessuais"))},{default:z(()=>[P(x(pe),{class:"w-4 h-4 mr-2"}),i[68]||(i[68]=I(" Adicionar ",-1))]),_:1})])]),w("div",oa,[P(x(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),P(x(X),{modelValue:ka.value,"onUpdate:modelValue":i[21]||(i[21]=e=>ka.value=e),placeholder:"Buscar classes processuais...",class:"pl-10 pr-10"},null,8,["modelValue"]),ka.value?(v(),M(x(T),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[22]||(i[22]=e=>ka.value="")},{default:z(()=>[P(x($),{class:"w-4 h-4"})]),_:1})):y("",!0)]),ka.value||"todos"!==ha.value||Va.value?(v(),m("div",ua,[P(x(V),{variant:"secondary"},{default:z(()=>[I(" Mostrando "+k(Ia.value.length)+" de "+k(x(l).classesProcessuais.length),1)]),_:1}),Va.value?(v(),m("span",da," Lista limitada a 100 itens. Use a busca para refinar. ")):y("",!0)])):y("",!0),w("div",ra,[P(x(Y),null,{default:z(()=>[P(x(ne),null,{default:z(()=>[P(x(Z),null,{default:z(()=>[P(x(ce),null,{default:z(()=>[...i[70]||(i[70]=[I("Classe",-1)])]),_:1}),P(x(ce),null,{default:z(()=>[...i[71]||(i[71]=[I("Usos",-1)])]),_:1}),P(x(ce),{class:"text-right"},{default:z(()=>[...i[72]||(i[72]=[I("Ações",-1)])]),_:1})]),_:1})]),_:1}),P(x(ee),null,{default:z(()=>[0===Ia.value.length?(v(),M(x(Z),{key:0},{default:z(()=>[P(x(ae),{colspan:"3",class:"text-center text-muted-foreground py-8"},{default:z(()=>[...i[73]||(i[73]=[I(" Nenhuma classe processual cadastrada ",-1)])]),_:1})]),_:1})):y("",!0),(v(!0),m(j,null,U(Ia.value,e=>(v(),M(x(Z),{key:e},{default:z(()=>[P(x(ae),{class:"font-medium"},{default:z(()=>[I(k(e),1)]),_:2},1024),P(x(ae),null,{default:z(()=>[w("span",ia,k(Ca.value.classesProcessuais[e]||0),1)]),_:2},1024),P(x(ae),{class:"text-right"},{default:z(()=>[w("div",na,[P(x(T),{variant:"ghost",size:"sm",onClick:a=>Ua("classesProcessuais",e)},{default:z(()=>[P(x(xe),{class:"w-4 h-4"})]),_:1},8,["onClick"]),P(x(T),{variant:"ghost",size:"sm",onClick:a=>La("classesProcessuais",e)},{default:z(()=>[P(x(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),P(x(K),{open:c.value,"onUpdate:open":i[26]||(i[26]=e=>c.value=e)},{default:z(()=>[P(x(W),{class:"max-w-md"},{default:z(()=>[P(x(G),null,{default:z(()=>[P(x(J),null,{default:z(()=>[I(k(_.value?"Editar":"Adicionar")+" Item",1)]),_:1})]),_:1}),w("div",ca,[w("div",ma,[P(x(se),{for:"itemValue"},{default:z(()=>[...i[74]||(i[74]=[I("Nome",-1)])]),_:1}),P(x(X),{id:"itemValue",modelValue:h.value,"onUpdate:modelValue":i[24]||(i[24]=e=>h.value=e),placeholder:"Digite o nome do item"},null,8,["modelValue"])])]),P(x(Q),null,{default:z(()=>[P(x(T),{variant:"ghost",onClick:i[25]||(i[25]=e=>c.value=!1)},{default:z(()=>[...i[75]||(i[75]=[I(" Cancelar ",-1)])]),_:1}),P(x(T),{onClick:Aa},{default:z(()=>[P(x(he),{class:"w-4 h-4 mr-2"}),i[76]||(i[76]=I(" Salvar ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),P(x(K),{open:H.value,"onUpdate:open":i[28]||(i[28]=e=>H.value=e)},{default:z(()=>[P(x(W),{class:"max-w-md"},{default:z(()=>[P(x(G),null,{default:z(()=>[P(x(J),{class:"flex items-center gap-2"},{default:z(()=>[P(x(B),{class:"w-5 h-5 text-destructive"}),i[77]||(i[77]=I(" Confirmar Exclusão ",-1))]),_:1})]),_:1}),w("div",va,[O.value&&ba.value>0?(v(),M(x(le),{key:0,variant:"warning"},{default:z(()=>[P(x(B),{class:"w-4 h-4"}),P(x(r),null,{default:z(()=>[...i[78]||(i[78]=[I("Atenção!",-1)])]),_:1}),P(x(te),null,{default:z(()=>[i[79]||(i[79]=I(" Este item está sendo usado em ",-1)),w("strong",null,k(ba.value),1),I(" "+k(1===ba.value?"metadado":"metadados")+". ",1)]),_:1})]),_:1})):y("",!0),O.value&&ba.value>0?(v(),m("p",fa,[...i[80]||(i[80]=[I(" Você não pode excluir este item pois ele está em uso. Deseja marcá-lo como ",-1),w("strong",null,"inativo",-1),I(" em vez disso? ",-1)])])):(v(),m("p",pa,[i[81]||(i[81]=I(" Tem certeza que deseja excluir ",-1)),w("strong",null,k(O.value?.value),1),i[82]||(i[82]=I("? ",-1))]))]),P(x(Q),null,{default:z(()=>[P(x(T),{variant:"ghost",onClick:i[27]||(i[27]=e=>H.value=!1)},{default:z(()=>[...i[83]||(i[83]=[I(" Cancelar ",-1)])]),_:1}),ba.value>0?(v(),M(x(T),{key:0,variant:"secondary",onClick:qa},{default:z(()=>[...i[84]||(i[84]=[I(" Marcar como Inativo ",-1)])]),_:1})):(v(),M(x(T),{key:1,variant:"destructive",onClick:Fa},{default:z(()=>[P(x(ye),{class:"w-4 h-4 mr-2"}),i[85]||(i[85]=I(" Excluir ",-1))]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}},ha={key:0,class:"border rounded-lg p-4 bg-card hover:bg-accent/50 transition-colors"},ga={class:"flex items-center justify-between"},ya={class:"flex items-center gap-3"},wa={class:"p-2 rounded-lg bg-primary/10"},ka={class:"text-xs text-muted-foreground"},Ca={class:"flex items-center gap-2"},ba={class:"flex items-center justify-between"},Da={class:"flex items-center gap-2"},Ma={class:"space-y-3"},za={class:"flex items-center gap-3"},Pa={key:2,class:"p-4 border rounded-lg bg-muted/30 space-y-2"},ja={class:"flex items-center justify-between"},Ta={class:"flex items-center gap-2"},Ia={class:"text-sm font-medium"},Va={__name:"UploadClassesProcessuais",setup(t){const o=C(),u=D(null),d=D(null),c=D(!1),f=D(!1),p=D(!1);function _(){u.value?.click()}function h(e){const a=e.target.files?.[0];if(a){try{n(a)}catch(s){return S.error(s.message),void(u.value&&(u.value.value=""))}if(!a.name.endsWith(".txt"))return S.error("Por favor, selecione um arquivo .txt"),void(u.value&&(u.value.value=""));d.value=a}}async function g(){if(d.value)try{c.value=!0;const e=await o.importClassesFile(d.value);S.success(`${e} classes processuais importadas com sucesso`),d.value=null,u.value&&(u.value.value="")}catch(e){S.error("Erro ao importar arquivo: "+e.message)}finally{c.value=!1}}function b(){f.value=!0}async function U(){try{c.value=!0,await o.clearClassesProcessuais(),f.value=!1,d.value=null,u.value&&(u.value.value=""),S.success("Classes processuais removidas com sucesso")}catch(e){S.error("Erro ao remover classes: "+e.message)}finally{c.value=!1}}return(t,n)=>(v(),m(j,null,[x(o).hasClassesProcessuais&&!p.value?(v(),m("div",ha,[w("div",ga,[w("div",ya,[w("div",wa,[P(x(fe),{class:"w-4 h-4 text-primary"})]),w("div",null,[n[4]||(n[4]=w("h3",{class:"font-semibold text-sm"},"Classes Processuais",-1)),w("p",ka,k(x(o).classesProcessuais.length)+" classes carregadas ",1)])]),w("div",Ca,[P(x(T),{variant:"ghost",size:"sm",onClick:n[0]||(n[0]=e=>p.value=!0)},{default:z(()=>[P(x(H),{class:"w-4 h-4"})]),_:1})])])])):(v(),M(x(a),{key:1},{default:z(()=>[P(x(s),null,{default:z(()=>[w("div",ba,[w("div",Da,[P(x(fe),{class:"w-5 h-5"}),P(x(l),null,{default:z(()=>[...n[5]||(n[5]=[I("Classes Processuais",-1)])]),_:1})]),x(o).hasClassesProcessuais?(v(),M(x(T),{key:0,variant:"ghost",size:"sm",onClick:n[1]||(n[1]=e=>p.value=!1)},{default:z(()=>[P(x(O),{class:"w-4 h-4"})]),_:1})):y("",!0)]),P(x(De),null,{default:z(()=>[...n[6]||(n[6]=[I(" Importe o arquivo de classes processuais para habilitar a seleção no cadastro de metadados ",-1)])]),_:1})]),_:1}),P(x(e),{class:"space-y-4"},{default:z(()=>[x(o).hasClassesProcessuais?(v(),M(x(le),{key:0},{default:z(()=>[P(x(we),{class:"w-4 h-4"}),P(x(r),null,{default:z(()=>[...n[7]||(n[7]=[I("Classes Carregadas",-1)])]),_:1}),P(x(te),null,{default:z(()=>[I(k(x(o).classesProcessuais.length)+" classes processuais disponíveis para seleção ",1)]),_:1})]),_:1})):(v(),M(x(le),{key:1},{default:z(()=>[P(x(B),{class:"w-4 h-4"}),P(x(r),null,{default:z(()=>[...n[8]||(n[8]=[I("Nenhuma classe carregada",-1)])]),_:1}),P(x(te),null,{default:z(()=>[...n[9]||(n[9]=[I(" Faça upload do arquivo ",-1),w("code",{class:"px-1 py-0.5 bg-muted rounded text-xs"},"classes_processuais_simplificado.txt",-1),I(" para habilitar a funcionalidade ",-1)])]),_:1})]),_:1})),w("div",Ma,[w("div",za,[w("input",{ref_key:"fileInput",ref:u,type:"file",accept:".txt",class:"hidden",onChange:h},null,544),P(x(T),{onClick:_,disabled:c.value},{default:z(()=>[P(x(i),{class:"w-4 h-4 mr-2"}),I(" "+k(x(o).hasClassesProcessuais?"Reimportar Arquivo":"Selecionar Arquivo"),1)]),_:1},8,["disabled"]),x(o).hasClassesProcessuais?(v(),M(x(T),{key:0,variant:"destructive",onClick:b,disabled:c.value},{default:z(()=>[P(x(ye),{class:"w-4 h-4 mr-2"}),n[10]||(n[10]=I(" Remover Classes ",-1))]),_:1},8,["disabled"])):y("",!0)]),n[11]||(n[11]=w("p",{class:"text-xs text-muted-foreground"},[I(" O arquivo deve conter uma classe por linha no formato: "),w("code",{class:"px-1 py-0.5 bg-muted rounded"},"numero descricao")],-1))]),d.value?(v(),m("div",Pa,[w("div",ja,[w("div",Ta,[P(x(ve),{class:"w-4 h-4 text-muted-foreground"}),w("span",Ia,k(d.value.name),1)]),P(x(V),{variant:"secondary"},{default:z(()=>{return[I(k((e=d.value.size,e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB")),1)];var e}),_:1})]),P(x(T),{onClick:g,disabled:c.value,class:"w-full"},{default:z(()=>[P(x(we),{class:"w-4 h-4 mr-2"}),I(" "+k(c.value?"Importando...":"Confirmar Importação"),1)]),_:1},8,["disabled"])])):y("",!0)]),_:1})]),_:1})),P(x(K),{open:f.value,"onUpdate:open":n[3]||(n[3]=e=>f.value=e)},{default:z(()=>[P(x(W),null,{default:z(()=>[P(x(G),null,{default:z(()=>[P(x(J),{class:"flex items-center gap-2"},{default:z(()=>[P(x(B),{class:"w-5 h-5 text-destructive"}),n[12]||(n[12]=I(" Confirmar Remoção ",-1))]),_:1})]),_:1}),n[15]||(n[15]=w("p",{class:"text-sm"}," Tem certeza que deseja remover todas as classes processuais carregadas? Isso afetará apenas a lista de seleção, os metadados já cadastrados permanecerão intactos. ",-1)),P(x(Q),null,{default:z(()=>[P(x(T),{variant:"ghost",onClick:n[2]||(n[2]=e=>f.value=!1)},{default:z(()=>[...n[13]||(n[13]=[I(" Cancelar ",-1)])]),_:1}),P(x(T),{variant:"destructive",onClick:U},{default:z(()=>[P(x(ye),{class:"w-4 h-4 mr-2"}),n[14]||(n[14]=I(" Remover ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}},Ua={key:0,class:"border rounded-lg p-4 bg-card hover:bg-accent/50 transition-colors"},Aa={class:"flex items-center justify-between"},La={class:"flex items-center gap-3"},Fa={class:"p-2 rounded-lg bg-primary/10"},qa={class:"text-xs text-muted-foreground"},Ea={class:"flex items-center gap-2"},Ba={class:"flex items-center justify-between"},Sa={class:"flex items-center gap-2"},Na={class:"space-y-3"},Ra={class:"flex items-center gap-3"},Ha={key:2,class:"p-4 border rounded-lg bg-muted/30 space-y-2"},Oa={class:"flex items-center justify-between"},$a={class:"flex items-center gap-2"},Ka={class:"text-sm font-medium"},Wa={__name:"UploadTiposDocumentos",setup(t){const o=C(),u=D(null),d=D(null),c=D(!1),f=D(!1),p=D(!1);function _(){u.value?.click()}function h(e){const a=e.target.files?.[0];if(a){try{n(a)}catch(s){return S.error(s.message),void(u.value&&(u.value.value=""))}if(!a.name.endsWith(".txt"))return S.error("Por favor, selecione um arquivo .txt"),void(u.value&&(u.value.value=""));d.value=a}}async function g(){if(d.value)try{c.value=!0;const e=await o.importTiposDocumentosFile(d.value);S.success(`${e} tipos de documentos importados com sucesso`),d.value=null,u.value&&(u.value.value="")}catch(e){S.error("Erro ao importar arquivo: "+e.message)}finally{c.value=!1}}function b(){f.value=!0}async function U(){try{c.value=!0,await o.clearTiposDocumentosImportados(),f.value=!1,d.value=null,u.value&&(u.value.value=""),S.success("Tipos de documentos importados removidos. Lista padrão restaurada.")}catch(e){S.error("Erro ao remover tipos de documentos: "+e.message)}finally{c.value=!1}}return(t,n)=>(v(),m(j,null,[x(o).hasTiposDocumentosImportados&&!p.value?(v(),m("div",Ua,[w("div",Aa,[w("div",La,[w("div",Fa,[P(x(ve),{class:"w-4 h-4 text-primary"})]),w("div",null,[n[4]||(n[4]=w("h3",{class:"font-semibold text-sm"},"Tipos de Documentos",-1)),w("p",qa,k(x(o).tiposDocumentosImportados.length)+" tipos carregados ",1)])]),w("div",Ea,[P(x(T),{variant:"ghost",size:"sm",onClick:n[0]||(n[0]=e=>p.value=!0)},{default:z(()=>[P(x(H),{class:"w-4 h-4"})]),_:1})])])])):(v(),M(x(a),{key:1},{default:z(()=>[P(x(s),null,{default:z(()=>[w("div",Ba,[w("div",Sa,[P(x(ve),{class:"w-5 h-5"}),P(x(l),null,{default:z(()=>[...n[5]||(n[5]=[I("Tipos de Documentos",-1)])]),_:1})]),x(o).hasTiposDocumentosImportados?(v(),M(x(T),{key:0,variant:"ghost",size:"sm",onClick:n[1]||(n[1]=e=>p.value=!1)},{default:z(()=>[P(x(O),{class:"w-4 h-4"})]),_:1})):y("",!0)]),P(x(De),null,{default:z(()=>[...n[6]||(n[6]=[I(" Importe o arquivo de tipos de documentos para substituir a lista de seleção no cadastro de metadados ",-1)])]),_:1})]),_:1}),P(x(e),{class:"space-y-4"},{default:z(()=>[x(o).hasTiposDocumentosImportados?(v(),M(x(le),{key:0},{default:z(()=>[P(x(we),{class:"w-4 h-4"}),P(x(r),null,{default:z(()=>[...n[7]||(n[7]=[I("Tipos de Documentos Carregados",-1)])]),_:1}),P(x(te),null,{default:z(()=>[I(k(x(o).tiposDocumentosImportados.length)+" tipos de documentos disponíveis para seleção ",1)]),_:1})]),_:1})):(v(),M(x(le),{key:1},{default:z(()=>[P(x(B),{class:"w-4 h-4"}),P(x(r),null,{default:z(()=>[...n[8]||(n[8]=[I("Lista padrão em uso",-1)])]),_:1}),P(x(te),null,{default:z(()=>[...n[9]||(n[9]=[I(" Faça upload do arquivo ",-1),w("code",{class:"px-1 py-0.5 bg-muted rounded text-xs"},"tipos_documentos_formatados.txt",-1),I(" para substituir a lista padrão de 10 tipos por uma lista completa com 320+ tipos ",-1)])]),_:1})]),_:1})),w("div",Na,[w("div",Ra,[w("input",{ref_key:"fileInput",ref:u,type:"file",accept:".txt",class:"hidden",onChange:h},null,544),P(x(T),{onClick:_,disabled:c.value},{default:z(()=>[P(x(i),{class:"w-4 h-4 mr-2"}),I(" "+k(x(o).hasTiposDocumentosImportados?"Reimportar Arquivo":"Selecionar Arquivo"),1)]),_:1},8,["disabled"]),x(o).hasTiposDocumentosImportados?(v(),M(x(T),{key:0,variant:"destructive",onClick:b,disabled:c.value},{default:z(()=>[P(x(ye),{class:"w-4 h-4 mr-2"}),n[10]||(n[10]=I(" Voltar à Lista Padrão ",-1))]),_:1},8,["disabled"])):y("",!0)]),n[11]||(n[11]=w("p",{class:"text-xs text-muted-foreground"}," O arquivo deve conter um tipo de documento por linha. Após a importação, a lista substituirá os 10 tipos padrão. ",-1))]),d.value?(v(),m("div",Ha,[w("div",Oa,[w("div",$a,[P(x(ve),{class:"w-4 h-4 text-muted-foreground"}),w("span",Ka,k(d.value.name),1)]),P(x(V),{variant:"secondary"},{default:z(()=>{return[I(k((e=d.value.size,e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB")),1)];var e}),_:1})]),P(x(T),{onClick:g,disabled:c.value,class:"w-full"},{default:z(()=>[P(x(we),{class:"w-4 h-4 mr-2"}),I(" "+k(c.value?"Importando...":"Confirmar Importação"),1)]),_:1},8,["disabled"])])):y("",!0)]),_:1})]),_:1})),P(x(K),{open:f.value,"onUpdate:open":n[3]||(n[3]=e=>f.value=e)},{default:z(()=>[P(x(W),null,{default:z(()=>[P(x(G),null,{default:z(()=>[P(x(J),{class:"flex items-center gap-2"},{default:z(()=>[P(x(B),{class:"w-5 h-5 text-destructive"}),n[12]||(n[12]=I(" Confirmar Remoção ",-1))]),_:1})]),_:1}),n[15]||(n[15]=w("p",{class:"text-sm"}," Tem certeza que deseja remover todos os tipos de documentos importados? Isso restaurará a lista padrão de 10 tipos. Os metadados já cadastrados permanecerão intactos. ",-1)),P(x(Q),null,{default:z(()=>[P(x(T),{variant:"ghost",onClick:n[2]||(n[2]=e=>f.value=!1)},{default:z(()=>[...n[13]||(n[13]=[I(" Cancelar ",-1)])]),_:1}),P(x(T),{variant:"destructive",onClick:U},{default:z(()=>[P(x(ye),{class:"w-4 h-4 mr-2"}),n[14]||(n[14]=I(" Voltar à Lista Padrão ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}},Ga={class:"space-y-6"},Ja={class:"space-y-3"},Qa={__name:"Configuracoes",setup:e=>(e,a)=>(v(),m("div",Ga,[a[1]||(a[1]=w("div",null,[w("h1",{class:"text-3xl font-bold"},"Configurações"),w("p",{class:"text-muted-foreground"},"Gerencie as listas controladas do sistema")],-1)),P(_a),w("div",Ja,[a[0]||(a[0]=w("div",{class:"flex items-center gap-2 text-sm text-muted-foreground"},[w("div",{class:"h-px flex-1 bg-border"}),w("span",{class:"font-medium"},"Arquivos Importados"),w("div",{class:"h-px flex-1 bg-border"})],-1)),P(Va),P(Wa)])]))};
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{Qa as default};
