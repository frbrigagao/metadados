import{b as E,c as A,_ as w,a as C}from"./CardTitle-CWKSSXXS.js";import{_ as ee,C as pe}from"./CardDescription-BCcB0898.js";import{_ as ve,a as _e,b as z,c as N}from"./TabsTrigger-B2r1nvCz.js";import{_ as R,a as H,b as k,c as Q,d as m,i as xe,e as ye,f as ge,g as be,h as he}from"./TableRow-Db4Azdq9.js";import{C as we,_ as G,a as v}from"./TableHeader-Bj77q6Xe.js";import{c as K,_ as Ce,l as ke,r as $,b as F,e as p,f as i,g as a,k as l,u as s,m as o,z as d,a6 as U,y as r,J as y,A as g,j as _,F as D,p as S,ab as se,q as De,ac as te}from"./index-BCE6yiAx.js";import{F as Se,T as je,_ as Me,u as M,w as $e}from"./xlsx-OYLTnVdd.js";import{S as J}from"./search-BOYfoAgP.js";import{I as le}from"./info-CN8VvO1h.js";import{B as ae}from"./building-CNhRErac.js";/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=K("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=K("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=K("table-2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]),Ae={class:"flex items-center justify-between w-full"},Fe={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4"},Ve={class:"text-2xl font-bold mt-2"},Pe={class:"text-2xl font-bold mt-2"},ze={class:"text-2xl font-bold mt-2"},Ne={class:"text-2xl font-bold mt-2"},Ue={class:"relative"},Ie={class:"rounded-md border"},Le={class:"flex flex-col items-center gap-2"},Be={class:"text-sm text-muted-foreground"},Re={class:"flex items-center gap-2"},He={class:"text-xs text-muted-foreground"},Qe={class:"relative"},Ge={class:"rounded-md border"},Je={class:"flex flex-col items-center gap-2"},Ke={class:"text-sm text-muted-foreground"},We={class:"flex gap-1 flex-wrap"},Xe={class:"text-sm text-muted-foreground"},Ye={class:"text-sm text-muted-foreground"},Ze={class:"relative"},qe={class:"rounded-md border"},es={class:"flex flex-col items-center gap-2"},ss={class:"text-sm text-muted-foreground"},ts={class:"overflow-x-auto"},ls={class:"matrix-table"},as={class:"sticky-col font-semibold"},os={class:"text-center font-semibold"},ns={class:"total-row"},ds={class:"text-center font-semibold"},us={key:0,class:"space-y-4"},is={class:"flex items-center gap-2 text-sm text-muted-foreground"},rs={class:"space-y-3"},fs={class:"flex items-start gap-3"},cs={class:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10"},ms={class:"flex-1 space-y-2"},ps={class:"font-semibold"},vs={class:"space-y-1 text-sm"},_s={class:"flex items-start gap-2"},xs={class:"flex flex-wrap gap-1"},ys={key:0,class:"flex items-start gap-2"},gs={class:"text-muted-foreground"},bs={key:1,class:"flex items-start gap-2"},hs={class:"text-muted-foreground"},ws={__name:"RelatorioSobreposicao",setup(oe){const O=ke(),T=$("sobreposicao"),W=$(""),X=$(""),Y=$(""),V=$(!1),j=$(null);function ne(n){const e=[];return n.forEach(t=>{Array.isArray(t.tipoDocumento)?t.tipoDocumento.forEach(u=>{e.push({...t,tipoDocumento:u,_originalTipoDocumento:t.tipoDocumento})}):e.push(t)}),e}const b=F(()=>{const n=P();return{total:O.metadados.length,withOverlap:n.filter(e=>e.solicitacoes>1).length,conflicts:n.filter(e=>e.hasClasseOverlap?e.conflito:e.conflito&&e.solicitacoes>1).length,orphans:n.filter(e=>e.solicitacoes===1&&!e.hasClasseOverlap&&!e.conflito).length}}),I=F(()=>P().filter(n=>n.solicitacoes>1)),L=F(()=>P().filter(n=>n.hasClasseOverlap?n.conflito:n.conflito&&n.solicitacoes>1)),B=F(()=>P().filter(e=>e.solicitacoes===1&&!e.hasClasseOverlap&&!e.conflito).map(e=>({nome:e.nome,unidade:e.unidades[0],tiposDocumento:de(e.items),count:e.items.length,items:e.items}))),h=F(()=>{const n=ne(O.metadados),e=[...new Set(n.map(f=>f.tipoDocumento))].sort(),t=[...new Set(n.map(f=>f.unidade))].sort(),u={};return e.forEach(f=>{u[f]={},t.forEach(x=>{u[f][x]=0})}),n.forEach(f=>{u[f.tipoDocumento]&&u[f.tipoDocumento][f.unidade]!==void 0&&u[f.tipoDocumento][f.unidade]++}),{matrix:u,tiposDoc:e,unidades:t}});function P(){const n={};O.metadados.forEach(t=>{const u=t.nomeMetadado?.toLowerCase()||"sem nome",f=t.classeProcessual||"N√£o informado",x=`${u}::${f}`;n[x]||(n[x]={nome:t.nomeMetadado,classeProcessual:f,unidades:new Set,items:[],formatos:new Set,objetivos:new Set}),n[x].unidades.add(t.unidade),n[x].items.push(t),t.formatoMetadado&&t.formatoMetadado!=="N√ÉO ESPECIFICADO"&&n[x].formatos.add(t.formatoMetadado),t.objetivoMetadado&&t.objetivoMetadado!=="N√ÉO ESPECIFICADO"&&n[x].objetivos.add(t.objetivoMetadado)});const e={};return Object.values(n).forEach(t=>{const u=t.nome?.toLowerCase()||"sem nome";e[u]||(e[u]=[]),e[u].push(t)}),Object.values(e).forEach(t=>{const u=t.some(x=>x.classeProcessual==="N√£o informado"),f=t.some(x=>x.classeProcessual!=="N√£o informado");u&&f&&t.forEach(x=>{x.hasClasseOverlap=!0})}),Object.values(n).map(t=>({nome:t.nome,classeProcessual:t.classeProcessual,unidades:Array.from(t.unidades),solicitacoes:t.items.length,conflito:t.formatos.size>1||t.objetivos.size>1||t.hasClasseOverlap,hasFormatoConflict:t.formatos.size>1,hasObjetivoConflict:t.objetivos.size>1,hasClasseOverlap:t.hasClasseOverlap||!1,intensidade:t.items.length/O.metadados.length,formatos:t.formatos,objetivos:t.objetivos,items:t.items})).sort((t,u)=>u.solicitacoes-t.solicitacoes)}function de(n){const e=new Set;return n.forEach(t=>{Array.isArray(t.tipoDocumento)?t.tipoDocumento.forEach(u=>e.add(u)):e.add(t.tipoDocumento)}),Array.from(e)}function ue(n){if(!n||n===0)return{background:"transparent"};const e=Math.max(...Object.values(h.value.matrix).flatMap(u=>Object.values(u))),t=n/e;return{background:`rgba(37, 99, 235, ${t})`,color:t>.5?"white":"inherit"}}function ie(n){return h.value.unidades.reduce((e,t)=>e+(h.value.matrix[n]?.[t]||0),0)}function re(n){return h.value.tiposDoc.reduce((e,t)=>e+(h.value.matrix[t]?.[n]||0),0)}function Z(n){j.value=n,V.value=!0}function fe(){if(!j.value||j.value.items.length===0)return new Set;const n=j.value.items.map(t=>Array.isArray(t.tipoDocumento)?new Set(t.tipoDocumento):new Set([t.tipoDocumento])),e=new Set(n[0]);for(let t=1;t<n.length;t++)for(const u of e)n[t].has(u)||e.delete(u);return e}function q(n){return fe().has(n)}function ce(){try{const n=M.book_new(),e=I.value.map(c=>({Metadado:c.nome,"Classe Processual":c.classeProcessual,Unidades:c.unidades.join(", "),"Total Unidades":c.unidades.length,"Total Solicita√ß√µes":c.solicitacoes,"Tem Conflito":c.conflito?"Sim":"N√£o","Intensidade (%)":(c.intensidade*100).toFixed(1)})),t=M.json_to_sheet(e);M.book_append_sheet(n,t,"Sobreposi√ß√µes");const u=L.value.map(c=>({Metadado:c.nome,"Classe Processual":c.classeProcessual,Unidades:c.unidades.join(", "),Formatos:Array.from(c.formatos).join(", "),"Conflito de Formato":c.hasFormatoConflict?"Sim":"N√£o","Conflito de Objetivo":c.hasObjetivoConflict?"Sim":"N√£o","Sobreposi√ß√£o de Classes":c.hasClasseOverlap?"Sim":"N√£o"})),f=M.json_to_sheet(u);M.book_append_sheet(n,f,"Conflitos");const x=B.value.map(c=>({Metadado:c.nome,Unidade:c.unidade,"Tipos de Documento":c.tiposDocumento.join(", "),Quantidade:c.count})),me=M.json_to_sheet(x);M.book_append_sheet(n,me,"√ìrf√£os"),$e(n,`relatorio_completo_${new Date().toISOString().split("T")[0]}.xlsx`),te.success("Excel exportado com sucesso!")}catch(n){te.error("Erro ao exportar Excel: "+n.message)}}return(n,e)=>(i(),p(s(C),null,{default:a(()=>[l(s(E),null,{default:a(()=>[o("div",Ae,[l(s(A),null,{default:a(()=>[...e[6]||(e[6]=[d("An√°lise de Relat√≥rios",-1)])]),_:1}),l(s(U),{variant:"default",onClick:ce},{default:a(()=>[l(s(Se),{class:"w-4 h-4 mr-2"}),e[7]||(e[7]=d(" Exportar Excel ",-1))]),_:1})])]),_:1}),l(s(w),{class:"space-y-6"},{default:a(()=>[o("div",Fe,[l(s(C),null,{default:a(()=>[l(s(w),{class:"p-6"},{default:a(()=>[e[8]||(e[8]=o("div",{class:"text-sm font-medium text-muted-foreground"},"Total de Metadados",-1)),o("div",Ve,r(b.value.total),1)]),_:1})]),_:1}),l(s(C),null,{default:a(()=>[l(s(w),{class:"p-6"},{default:a(()=>[e[9]||(e[9]=o("div",{class:"text-sm font-medium text-muted-foreground"},"Com Sobreposi√ß√£o",-1)),o("div",Pe,r(b.value.withOverlap),1)]),_:1})]),_:1}),l(s(C),null,{default:a(()=>[l(s(w),{class:"p-6"},{default:a(()=>[e[10]||(e[10]=o("div",{class:"text-sm font-medium text-muted-foreground"},"Com Conflitos",-1)),o("div",ze,r(b.value.conflicts),1)]),_:1})]),_:1}),l(s(C),null,{default:a(()=>[l(s(w),{class:"p-6"},{default:a(()=>[e[11]||(e[11]=o("div",{class:"text-sm font-medium text-muted-foreground"},"Exclusivos (1 unidade)",-1)),o("div",Ne,r(b.value.orphans),1)]),_:1})]),_:1})]),l(s(ve),{modelValue:T.value,"onUpdate:modelValue":e[3]||(e[3]=t=>T.value=t),class:"w-full"},{default:a(()=>[l(s(_e),{class:"grid w-full grid-cols-4"},{default:a(()=>[l(s(z),{value:"sobreposicao",class:"flex items-center gap-2"},{default:a(()=>[l(s(Oe),{class:"w-4 h-4"}),e[12]||(e[12]=o("span",{class:"hidden sm:inline"},"Sobreposi√ß√µes",-1)),b.value.withOverlap>0?(i(),p(s(g),{key:0,variant:"secondary",class:"ml-1 hidden md:inline-flex"},{default:a(()=>[d(r(b.value.withOverlap),1)]),_:1})):y("",!0)]),_:1}),l(s(z),{value:"conflitos",class:"flex items-center gap-2"},{default:a(()=>[l(s(we),{class:"w-4 h-4"}),e[13]||(e[13]=o("span",{class:"hidden sm:inline"},"Conflitos",-1)),b.value.conflicts>0?(i(),p(s(g),{key:0,variant:"destructive",class:"ml-1 hidden md:inline-flex"},{default:a(()=>[d(r(b.value.conflicts),1)]),_:1})):y("",!0)]),_:1}),l(s(z),{value:"orfaos",class:"flex items-center gap-2"},{default:a(()=>[l(s(Te),{class:"w-4 h-4"}),e[14]||(e[14]=o("span",{class:"hidden sm:inline"},"Exclusivos",-1)),b.value.orphans>0?(i(),p(s(g),{key:0,variant:"secondary",class:"ml-1 hidden md:inline-flex"},{default:a(()=>[d(r(b.value.orphans),1)]),_:1})):y("",!0)]),_:1}),l(s(z),{value:"matriz",class:"flex items-center gap-2"},{default:a(()=>[l(s(Ee),{class:"w-4 h-4"}),e[15]||(e[15]=o("span",{class:"hidden sm:inline"},"Matriz",-1))]),_:1})]),_:1}),l(s(N),{value:"sobreposicao",class:"space-y-4"},{default:a(()=>[l(s(C),null,{default:a(()=>[l(s(E),null,{default:a(()=>[l(s(A),{class:"text-lg"},{default:a(()=>[...e[16]||(e[16]=[d("Metadados com Sobreposi√ß√£o",-1)])]),_:1})]),_:1}),l(s(w),{class:"space-y-4"},{default:a(()=>[o("div",Ue,[l(s(J),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l(s(R),{modelValue:W.value,"onUpdate:modelValue":e[0]||(e[0]=t=>W.value=t),placeholder:"Buscar metadado...",class:"pl-9"},null,8,["modelValue"])]),o("div",Ie,[l(s(H),null,{default:a(()=>[l(s(G),null,{default:a(()=>[l(s(k),null,{default:a(()=>[l(s(v),null,{default:a(()=>[...e[17]||(e[17]=[d("Metadado",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[18]||(e[18]=[d("Classe Processual",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[19]||(e[19]=[d("Unidades",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[20]||(e[20]=[d("Solicita√ß√µes",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[21]||(e[21]=[d("Conflito",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[22]||(e[22]=[d("Intensidade",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[23]||(e[23]=[d("A√ß√µes",-1)])]),_:1})]),_:1})]),_:1}),l(s(Q),null,{default:a(()=>[I.value.length===0?(i(),p(s(k),{key:0},{default:a(()=>[l(s(m),{colspan:7,class:"text-center py-8"},{default:a(()=>[o("div",Le,[l(s(le),{class:"w-16 h-16 text-muted-foreground"}),e[24]||(e[24]=o("p",{class:"text-muted-foreground"},"Nenhuma sobreposi√ß√£o encontrada",-1))])]),_:1})]),_:1})):y("",!0),(i(!0),_(D,null,S(I.value,t=>(i(),p(s(k),{key:`${t.nome}-${t.classeProcessual}`,class:"hover:bg-muted/50"},{default:a(()=>[l(s(m),{class:"font-medium"},{default:a(()=>[d(r(t.nome),1)]),_:2},1024),l(s(m),null,{default:a(()=>[o("div",Be,r(t.classeProcessual),1)]),_:2},1024),l(s(m),null,{default:a(()=>[l(s(g),{variant:"secondary"},{default:a(()=>[d(r(t.unidades.length)+" unidades",1)]),_:2},1024)]),_:2},1024),l(s(m),null,{default:a(()=>[o("strong",null,r(t.solicitacoes),1)]),_:2},1024),l(s(m),null,{default:a(()=>[t.conflito?(i(),p(s(g),{key:0,variant:"destructive",class:"flex items-center gap-1 w-fit"},{default:a(()=>[l(s(je),{class:"w-3 h-3"}),e[25]||(e[25]=d(" Sim ",-1))]),_:1})):(i(),p(s(g),{key:1,variant:"outline",class:"text-green-600 border-green-600"},{default:a(()=>[...e[26]||(e[26]=[d("N√£o",-1)])]),_:1}))]),_:2},1024),l(s(m),null,{default:a(()=>[o("div",Re,[l(s(Me),{"model-value":t.intensidade*100,class:se(["w-20",t.intensidade>.1?"[&>div]:bg-red-500":t.intensidade>.05?"[&>div]:bg-yellow-500":"[&>div]:bg-green-500"])},null,8,["model-value","class"]),o("span",He,r((t.intensidade*100).toFixed(0))+"%",1)])]),_:2},1024),l(s(m),null,{default:a(()=>[l(s(U),{variant:"ghost",size:"sm",onClick:u=>Z(t)},{default:a(()=>[...e[27]||(e[27]=[d(" Detalhes ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),l(s(N),{value:"conflitos",class:"space-y-4"},{default:a(()=>[l(s(C),null,{default:a(()=>[l(s(E),null,{default:a(()=>[l(s(A),{class:"text-lg"},{default:a(()=>[...e[28]||(e[28]=[d("Metadados com Conflitos",-1)])]),_:1}),l(s(ee),null,{default:a(()=>[...e[29]||(e[29]=[d("Metadados com defini√ß√µes diferentes entre unidades",-1)])]),_:1})]),_:1}),l(s(w),{class:"space-y-4"},{default:a(()=>[o("div",Qe,[l(s(J),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l(s(R),{modelValue:X.value,"onUpdate:modelValue":e[1]||(e[1]=t=>X.value=t),placeholder:"Buscar conflitos...",class:"pl-9"},null,8,["modelValue"])]),o("div",Ge,[l(s(H),null,{default:a(()=>[l(s(G),null,{default:a(()=>[l(s(k),null,{default:a(()=>[l(s(v),null,{default:a(()=>[...e[30]||(e[30]=[d("Metadado",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[31]||(e[31]=[d("Classe Processual",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[32]||(e[32]=[d("Tipo de Conflito",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[33]||(e[33]=[d("Unidades",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[34]||(e[34]=[d("Formatos",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[35]||(e[35]=[d("A√ß√µes",-1)])]),_:1})]),_:1})]),_:1}),l(s(Q),null,{default:a(()=>[L.value.length===0?(i(),p(s(k),{key:0},{default:a(()=>[l(s(m),{colspan:6,class:"text-center py-8"},{default:a(()=>[o("div",Je,[l(s(pe),{class:"w-16 h-16 text-green-500"}),e[36]||(e[36]=o("p",{class:"text-muted-foreground"},"Nenhum conflito encontrado! üéâ",-1))])]),_:1})]),_:1})):y("",!0),(i(!0),_(D,null,S(L.value,t=>(i(),p(s(k),{key:`${t.nome}-${t.classeProcessual}`,class:"hover:bg-muted/50"},{default:a(()=>[l(s(m),{class:"font-medium"},{default:a(()=>[d(r(t.nome),1)]),_:2},1024),l(s(m),null,{default:a(()=>[o("div",Ke,r(t.classeProcessual),1)]),_:2},1024),l(s(m),null,{default:a(()=>[o("div",We,[t.hasFormatoConflict?(i(),p(s(g),{key:0,variant:"destructive",class:"text-xs"},{default:a(()=>[...e[37]||(e[37]=[d(" Formato ",-1)])]),_:1})):y("",!0),t.hasObjetivoConflict?(i(),p(s(g),{key:1,variant:"secondary",class:"text-xs bg-yellow-500/20 text-yellow-700 dark:text-yellow-500"},{default:a(()=>[...e[38]||(e[38]=[d(" Objetivo ",-1)])]),_:1})):y("",!0),t.hasClasseOverlap?(i(),p(s(g),{key:2,variant:"secondary",class:"text-xs bg-orange-500/20 text-orange-700 dark:text-orange-500"},{default:a(()=>[...e[39]||(e[39]=[d(" Sobreposi√ß√£o de Classes ",-1)])]),_:1})):y("",!0)])]),_:2},1024),l(s(m),null,{default:a(()=>[o("div",Xe,r(t.unidades.join(", ")),1)]),_:2},1024),l(s(m),null,{default:a(()=>[o("div",Ye,r(Array.from(t.formatos).join(", ")),1)]),_:2},1024),l(s(m),null,{default:a(()=>[l(s(U),{variant:"ghost",size:"sm",onClick:u=>Z(t)},{default:a(()=>[...e[40]||(e[40]=[d(" Detalhes ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),l(s(N),{value:"orfaos",class:"space-y-4"},{default:a(()=>[l(s(C),null,{default:a(()=>[l(s(E),null,{default:a(()=>[l(s(A),{class:"text-lg"},{default:a(()=>[...e[41]||(e[41]=[d("Metadados Exclusivos",-1)])]),_:1}),l(s(ee),null,{default:a(()=>[...e[42]||(e[42]=[d("Metadados solicitados exclusivamente por uma unidade",-1)])]),_:1})]),_:1}),l(s(w),{class:"space-y-4"},{default:a(()=>[o("div",Ze,[l(s(J),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l(s(R),{modelValue:Y.value,"onUpdate:modelValue":e[2]||(e[2]=t=>Y.value=t),placeholder:"Buscar exclusivos...",class:"pl-9"},null,8,["modelValue"])]),o("div",qe,[l(s(H),null,{default:a(()=>[l(s(G),null,{default:a(()=>[l(s(k),null,{default:a(()=>[l(s(v),null,{default:a(()=>[...e[43]||(e[43]=[d("Metadado",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[44]||(e[44]=[d("Unidade",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[45]||(e[45]=[d("Tipos de Documento",-1)])]),_:1}),l(s(v),null,{default:a(()=>[...e[46]||(e[46]=[d("Quantidade",-1)])]),_:1})]),_:1})]),_:1}),l(s(Q),null,{default:a(()=>[B.value.length===0?(i(),p(s(k),{key:0},{default:a(()=>[l(s(m),{colspan:4,class:"text-center py-8"},{default:a(()=>[o("div",es,[l(s(le),{class:"w-16 h-16 text-muted-foreground"}),e[47]||(e[47]=o("p",{class:"text-muted-foreground"},"Nenhum metadado exclusivo encontrado",-1))])]),_:1})]),_:1})):y("",!0),(i(!0),_(D,null,S(B.value,t=>(i(),p(s(k),{key:t.nome,class:"hover:bg-muted/50"},{default:a(()=>[l(s(m),{class:"font-medium"},{default:a(()=>[d(r(t.nome),1)]),_:2},1024),l(s(m),null,{default:a(()=>[l(s(g),{variant:"secondary"},{default:a(()=>[d(r(t.unidade),1)]),_:2},1024)]),_:2},1024),l(s(m),null,{default:a(()=>[o("div",ss,r(t.tiposDocumento.join(", ")),1)]),_:2},1024),l(s(m),null,{default:a(()=>[d(r(t.count),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1}),l(s(N),{value:"matriz",class:"space-y-4"},{default:a(()=>[l(s(C),null,{default:a(()=>[l(s(E),null,{default:a(()=>[l(s(A),{class:"text-lg"},{default:a(()=>[...e[48]||(e[48]=[d("Matriz: Tipos de Documento vs Unidades",-1)])]),_:1})]),_:1}),l(s(w),null,{default:a(()=>[o("div",ts,[o("table",ls,[o("thead",null,[o("tr",null,[e[49]||(e[49]=o("th",{class:"sticky-col"},"Tipo de Documento",-1)),(i(!0),_(D,null,S(h.value.unidades,t=>(i(),_("th",{key:t},r(t),1))),128)),e[50]||(e[50]=o("th",null,"Total",-1))])]),o("tbody",null,[(i(!0),_(D,null,S(h.value.tiposDoc,t=>(i(),_("tr",{key:t},[o("td",as,r(t),1),(i(!0),_(D,null,S(h.value.unidades,u=>(i(),_("td",{key:u,class:"text-center",style:De(ue(h.value.matrix[t]?.[u]||0))},r(h.value.matrix[t]?.[u]||"-"),5))),128)),o("td",os,r(ie(t)),1)]))),128)),o("tr",ns,[e[51]||(e[51]=o("td",{class:"sticky-col font-semibold"},"Total",-1)),(i(!0),_(D,null,S(h.value.unidades,t=>(i(),_("td",{key:t,class:"text-center font-semibold"},r(re(t)),1))),128)),o("td",ds,r(b.value.total),1)])])])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(s(xe),{open:V.value,"onUpdate:open":e[5]||(e[5]=t=>V.value=t)},{default:a(()=>[l(s(ye),{class:"max-w-3xl max-h-[80vh] overflow-y-auto"},{default:a(()=>[l(s(ge),null,{default:a(()=>[l(s(be),null,{default:a(()=>[d("Detalhes: "+r(j.value?.nome),1)]),_:1})]),_:1}),j.value?(i(),_("div",us,[o("div",is,[l(s(ae),{class:"w-4 h-4"}),o("span",null,"Solicita√ß√µes ("+r(j.value.items.length)+")",1)]),o("div",rs,[(i(!0),_(D,null,S(j.value.items,(t,u)=>(i(),p(s(C),{key:u,class:"border-l-4 border-l-primary"},{default:a(()=>[l(s(w),{class:"pt-4"},{default:a(()=>[o("div",fs,[o("div",cs,[l(s(ae),{class:"w-5 h-5 text-primary"})]),o("div",ms,[o("div",ps,r(t.unidade),1),o("div",vs,[o("div",_s,[e[52]||(e[52]=o("span",{class:"font-medium min-w-[120px]"},"Tipo Documento:",-1)),o("div",xs,[Array.isArray(t.tipoDocumento)?(i(!0),_(D,{key:0},S(t.tipoDocumento,f=>(i(),p(s(g),{key:f,variant:q(f)?"default":"secondary",class:se(q(f)?"bg-blue-600 hover:bg-blue-700":"")},{default:a(()=>[d(r(f),1)]),_:2},1032,["variant","class"]))),128)):(i(),p(s(g),{key:1,variant:"secondary"},{default:a(()=>[d(r(t.tipoDocumento),1)]),_:2},1024))])]),t.formatoMetadado?(i(),_("div",ys,[e[53]||(e[53]=o("span",{class:"font-medium min-w-[120px]"},"Formato:",-1)),o("span",gs,r(t.formatoMetadado),1)])):y("",!0),t.objetivoMetadado?(i(),_("div",bs,[e[54]||(e[54]=o("span",{class:"font-medium min-w-[120px]"},"Objetivo:",-1)),o("span",hs,r(t.objetivoMetadado),1)])):y("",!0)])])])]),_:2},1024)]),_:2},1024))),128))])])):y("",!0),l(s(he),null,{default:a(()=>[l(s(U),{variant:"outline",onClick:e[4]||(e[4]=t=>V.value=!1)},{default:a(()=>[...e[55]||(e[55]=[d(" Fechar ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}},Cs=Ce(ws,[["__scopeId","data-v-8f9cfe49"]]),ks={class:"space-y-6"},Vs={__name:"Relatorios",setup(oe){return(O,T)=>(i(),_("div",ks,[T[0]||(T[0]=o("div",null,[o("h1",{class:"text-3xl font-bold"},"Relat√≥rios"),o("p",{class:"text-muted-foreground"},"An√°lises avan√ßadas de metadados")],-1)),l(Cs)]))}};export{Vs as default};
