import{_ as e,a,b as s,c as l}from"./CardTitle-CA_tOuq7.js";import{_ as t,a as o,b as u,c as d,d as r,U as i,v as c}from"./importHelpers-BLoCKsiY.js";import{c as n,j as m,f as v,J as f,a8 as p,l as _,ai as x,u as h,m as g,r as y,b as w,e as k,g as C,k as b,p as D,F as M,K as P,a7 as j,B as z,E as T,z as I,q as V,ab as U,ac as L,ad as A,y as F,ae as q,C as E,af as B,n as S,am as N,an as R,ao as K}from"./index-Fg9cHY2_.js";import{X as O,d as $,_ as H,a as W,b as G,c as J}from"./DialogTitle-DGuBS--S.js";import{_ as Q,a as X,b as Y,c as Z,d as ee}from"./TableRow-DhYyDVJA.js";import{_ as ae}from"./Label-C7JGWxrV.js";import{_ as se,a as le}from"./index-BRchWkQG.js";import{a as te,b as oe,P as ue,F as de,S as re}from"./Spinner-CN09qmCE.js";import{_ as ie,a as ce,b as ne,c as me,d as ve}from"./SelectValue-CHRZw4Vh.js";import{_ as fe,a as pe}from"./TableHeader-BBl_OajO.js";import{B as _e}from"./building-CrTTzlcw.js";import{F as xe,S as he}from"./scale-ZuvAEhpo.js";import{S as ge}from"./search-C2IzgxC2.js";import{T as ye}from"./trash-2-CiNjdsOF.js";import{C as we}from"./circle-check-CZ35gRI6.js";import"./Collection-B1R5ygks.js";import"./utils-mp71cqCu.js";import"./nullish-aV-w2MPu.js";
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=n("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ce=n("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),be=n("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),De={__name:"CardDescription",props:{class:{type:null,required:!1}},setup(e){const a=e;return(e,s)=>(v(),m("p",{class:p(_(x)("text-sm text-muted-foreground",a.class))},[f(e.$slots,"default")],2))}},Me={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},Pe={class:"flex items-center justify-between"},je={class:"relative"},ze={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},Te={key:0,class:"text-amber-600 dark:text-amber-400"},Ie={class:"rounded-md border"},Ve={class:"text-sm text-muted-foreground"},Ue={class:"flex items-center justify-end gap-2"},Le={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},Ae={class:"flex items-center justify-between gap-4"},Fe={class:"flex items-center gap-3"},qe={class:"flex items-center gap-2"},Ee={class:"relative"},Be={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},Se={key:0,class:"text-amber-600 dark:text-amber-400"},Ne={class:"rounded-md border"},Re={class:"text-sm text-muted-foreground"},Ke={class:"flex items-center justify-end gap-2"},Oe={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},$e={class:"flex items-center justify-between gap-4"},He={class:"flex items-center gap-3"},We={class:"flex items-center gap-2"},Ge={class:"relative"},Je={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},Qe={key:0,class:"text-amber-600 dark:text-amber-400"},Xe={class:"rounded-md border"},Ye={class:"text-sm text-muted-foreground"},Ze={class:"flex items-center justify-end gap-2"},ea={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},aa={class:"flex items-center justify-between gap-4"},sa={class:"flex items-center gap-3"},la={class:"flex items-center gap-2"},ta={class:"relative"},oa={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},ua={key:0,class:"text-amber-600 dark:text-amber-400"},da={class:"rounded-md border"},ra={class:"text-sm text-muted-foreground"},ia={class:"flex items-center justify-end gap-1"},ca={class:"space-y-4"},na={class:"space-y-2"},ma={class:"space-y-4"},va={key:1,class:"text-sm"},fa={key:2,class:"text-sm"},pa=100,_a={__name:"ConfigTabs",setup(s){const l=h(),i=g(),c=y("unidades"),n=y(!1),f=y(""),x=y(null),R=y(""),K=y(!1),we=y(null),De=y(""),_a=y("todos"),xa=y("todos"),ha=y("todos"),ga=y(""),ya=y(""),wa=y(""),ka=y(""),Ca=w(()=>{const e={unidades:{},tiposDocumento:{},formatosMetadado:{},classesProcessuais:{}};return i.metadados.forEach(a=>{if(a.unidade&&(e.unidades[a.unidade]=(e.unidades[a.unidade]||0)+1),a.tipoDocumento){(Array.isArray(a.tipoDocumento)?a.tipoDocumento:[a.tipoDocumento]).forEach(a=>{e.tiposDocumento[a]=(e.tiposDocumento[a]||0)+1})}a.formatoMetadado&&(e.formatosMetadado[a.formatoMetadado]=(e.formatosMetadado[a.formatoMetadado]||0)+1),a.classeProcessual&&"Não informado"!==a.classeProcessual&&(e.classesProcessuais[a.classeProcessual]=(e.classesProcessuais[a.classeProcessual]||0)+1)}),e}),ba=w(()=>{if(!we.value||!De.value)return 0;const e={unidades:Ca.value.unidades,tiposDocumento:Ca.value.tiposDocumento,formatosMetadado:Ca.value.formatosMetadado,classesProcessuais:Ca.value.classesProcessuais};return"classesProcessuais"===De.value?e[De.value]?.[we.value]||0:e[De.value]?.[we.value.value]||0}),Da=w(()=>{let e=[...l.unidades];if(ga.value.trim()){const a=ga.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return e=e.sort((e,a)=>e.value.localeCompare(a.value,"pt-BR",{sensitivity:"base"})),e.slice(0,pa)}),Ma=w(()=>{let e=[...l.unidades];if(ga.value.trim()){const a=ga.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return e.length>pa}),Pa=w(()=>{let e=[...l.tiposDocumentoComStatus];if(ya.value.trim()){const a=ya.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===_a.value?e=e.filter(e=>(Ca.value.tiposDocumento[e.value]||0)>0):"nao-utilizados"===_a.value&&(e=e.filter(e=>0===(Ca.value.tiposDocumento[e.value]||0))),e=e.sort((e,a)=>e.value.localeCompare(a.value,"pt-BR",{sensitivity:"base"})),e.slice(0,pa)}),ja=w(()=>{let e=[...l.tiposDocumentoComStatus];if(ya.value.trim()){const a=ya.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===_a.value?e=e.filter(e=>(Ca.value.tiposDocumento[e.value]||0)>0):"nao-utilizados"===_a.value&&(e=e.filter(e=>0===(Ca.value.tiposDocumento[e.value]||0))),e.length>pa}),za=w(()=>{let e=[...l.formatosMetadado];if(wa.value.trim()){const a=wa.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===xa.value?e=e.filter(e=>(Ca.value.formatosMetadado[e.value]||0)>0):"nao-utilizados"===xa.value&&(e=e.filter(e=>0===(Ca.value.formatosMetadado[e.value]||0))),e=e.sort((e,a)=>e.value.localeCompare(a.value,"pt-BR",{sensitivity:"base"})),e.slice(0,pa)}),Ta=w(()=>{let e=[...l.formatosMetadado];if(wa.value.trim()){const a=wa.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===xa.value?e=e.filter(e=>(Ca.value.formatosMetadado[e.value]||0)>0):"nao-utilizados"===xa.value&&(e=e.filter(e=>0===(Ca.value.formatosMetadado[e.value]||0))),e.length>pa}),Ia=w(()=>{let e=[...l.classesProcessuais];if(ka.value.trim()){const a=ka.value.toLowerCase().trim();e=e.filter(e=>e.toLowerCase().includes(a))}return"em-uso"===ha.value?e=e.filter(e=>(Ca.value.classesProcessuais[e]||0)>0):"nao-utilizados"===ha.value&&(e=e.filter(e=>0===(Ca.value.classesProcessuais[e]||0))),e=e.sort((e,a)=>e.localeCompare(a,"pt-BR",{sensitivity:"base"})),e.slice(0,pa)}),Va=w(()=>{let e=[...l.classesProcessuais];if(ka.value.trim()){const a=ka.value.toLowerCase().trim();e=e.filter(e=>e.toLowerCase().includes(a))}return"em-uso"===ha.value?e=e.filter(e=>(Ca.value.classesProcessuais[e]||0)>0):"nao-utilizados"===ha.value&&(e=e.filter(e=>0===(Ca.value.classesProcessuais[e]||0))),e.length>pa});function Ua(e,a=null){f.value=e,x.value=a,R.value="classesProcessuais"===e?a||"":a?.value||"",n.value=!0}async function La(){if(R.value.trim())try{const e={unidades:x.value?"updateUnidade":"addUnidade",tiposDocumento:x.value?"updateTipoDocumento":"addTipoDocumento",formatosMetadado:x.value?"updateFormatoMetadado":"addFormatoMetadado",classesProcessuais:x.value?"updateClasseProcessual":"addClasseProcessual"};if(x.value){if("tiposDocumento"===f.value&&x.value.importado)await l.updateTipoDocumentoImportado(x.value.value,{...x.value,value:R.value});else if("classesProcessuais"===f.value)await l.updateClasseProcessual(x.value,R.value);else{const e={unidades:"updateUnidade",tiposDocumento:"updateTipoDocumento",formatosMetadado:"updateFormatoMetadado"};await l[e[f.value]](x.value.value,{...x.value,value:R.value})}n.value=!1,x.value=null,R.value="",f.value="",await S(),B.success("Item atualizado com sucesso")}else{if("tiposDocumento"===f.value&&l.hasTiposDocumentosImportados){const{tiposDocumentosImportados:e}=N();await e.put({value:R.value,active:!0}),await l.loadTiposDocumentosImportados()}else await l[e[f.value]](R.value);n.value=!1,x.value=null,R.value="",f.value="",await S(),B.success("Item adicionado com sucesso")}}catch(e){B.error("Erro ao salvar item: "+e.message)}else B.error("Digite um nome para o item")}function Aa(e,a){we.value=a,De.value=e,K.value=!0}async function Fa(){try{if("tiposDocumento"===De.value&&we.value.importado)await l.removeTipoDocumentoImportado(we.value.value);else{const e={unidades:"removeUnidade",tiposDocumento:"removeTipoDocumento",formatosMetadado:"removeFormatoMetadado",classesProcessuais:"removeClasseProcessual"},a="classesProcessuais"===De.value?we.value:we.value.value;await l[e[De.value]](a)}K.value=!1,we.value=null,De.value="",await S(),B.success("Item excluído com sucesso")}catch(e){B.error("Erro ao excluir item: "+e.message)}}async function qa(){try{const e={unidades:"updateUnidade",tiposDocumento:"updateTipoDocumento",formatosMetadado:"updateFormatoMetadado"};await l[e[De.value]](we.value.value,{...we.value,active:!1}),K.value=!1,we.value=null,De.value="",await S(),B.warning("Item marcado como inativo")}catch(e){B.error("Erro ao desativar item: "+e.message)}}async function Ea(e,a){try{const s=!a.active;if("tiposDocumento"===e&&a.importado)await l.toggleTipoDocumentoImportado(a.value);else{const t={unidades:"updateUnidade",tiposDocumento:"updateTipoDocumento",formatosMetadado:"updateFormatoMetadado"};await l[t[e]](a.value,{...a,active:s})}B.success(s?"Item ativado com sucesso":"Item desativado com sucesso")}catch(s){B.error("Erro ao alterar status: "+s.message)}}async function Ba(e){({unidades:Da.value.length,tiposDocumento:Pa.value.length,formatosMetadado:za.value.length,classesProcessuais:Ia.value.length}[e]||0)>50&&await l.simulateTabLoading(e,400)}return(s,i)=>(v(),k(_(a),null,{default:C(()=>[b(_(t),{modelValue:c.value,"onUpdate:modelValue":[i[23]||(i[23]=e=>c.value=e),Ba],class:"w-full"},{default:C(()=>[b(_(o),{class:"grid w-full grid-cols-2 md:grid-cols-4"},{default:C(()=>[b(_(u),{value:"unidades",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[0]||(i[0]=e=>{}),onMouseleave:i[1]||(i[1]=e=>{})},{default:C(()=>[b(_(_e),{class:"w-4 h-4"}),i[29]||(i[29]=D("span",{class:"text-xs sm:text-sm"},"Unidades",-1))]),_:1}),b(_(u),{value:"tiposDocumento",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[2]||(i[2]=e=>{}),onMouseleave:i[3]||(i[3]=e=>{})},{default:C(()=>[b(_(xe),{class:"w-4 h-4"}),i[30]||(i[30]=D("span",{class:"text-xs sm:text-sm"},"Tipos de Documento",-1))]),_:1}),b(_(u),{value:"formatosMetadado",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[4]||(i[4]=e=>{}),onMouseleave:i[5]||(i[5]=e=>{})},{default:C(()=>[b(_(be),{class:"w-4 h-4"}),i[31]||(i[31]=D("span",{class:"text-xs sm:text-sm"},"Formatos de Metadado",-1))]),_:1}),b(_(u),{value:"classesProcessuais",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[6]||(i[6]=e=>{}),onMouseleave:i[7]||(i[7]=e=>{})},{default:C(()=>[b(_(he),{class:"w-4 h-4"}),i[32]||(i[32]=D("span",{class:"text-xs sm:text-sm"},"Classes Processuais",-1))]),_:1})]),_:1}),b(_(e),{class:"pt-6"},{default:C(()=>[b(_(d),{value:"unidades",class:"space-y-4"},{default:C(()=>[_(l).loadingTabs.unidades?(v(),m("div",Me,[b(_(te),{size:"lg"}),i[33]||(i[33]=D("p",{class:"text-sm text-muted-foreground"},"Carregando unidades...",-1))])):(v(),m(M,{key:1},[D("div",Pe,[i[35]||(i[35]=D("h3",{class:"text-lg font-semibold"},"Unidades",-1)),b(_(j),{onClick:i[8]||(i[8]=e=>Ua("unidades"))},{default:C(()=>[b(_(oe),{class:"w-4 h-4 mr-2"}),i[34]||(i[34]=z(" Adicionar ",-1))]),_:1})]),D("div",je,[b(_(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),b(_(Q),{modelValue:ga.value,"onUpdate:modelValue":i[9]||(i[9]=e=>ga.value=e),placeholder:"Buscar unidades...",class:"pl-10 pr-10"},null,8,["modelValue"]),ga.value?(v(),k(_(j),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[10]||(i[10]=e=>ga.value="")},{default:C(()=>[b(_(O),{class:"w-4 h-4"})]),_:1})):P("",!0)]),ga.value||Ma.value?(v(),m("div",ze,[b(_(T),{variant:"secondary"},{default:C(()=>[z(" Mostrando "+I(Da.value.length)+" de "+I(_(l).unidades.length),1)]),_:1}),Ma.value?(v(),m("span",Te," Lista limitada a 100 itens. Use a busca para refinar. ")):P("",!0)])):P("",!0),D("div",Ie,[b(_(X),null,{default:C(()=>[b(_(fe),null,{default:C(()=>[b(_(Y),null,{default:C(()=>[b(_(pe),null,{default:C(()=>[...i[36]||(i[36]=[z("Nome",-1)])]),_:1}),b(_(pe),null,{default:C(()=>[...i[37]||(i[37]=[z("Status",-1)])]),_:1}),b(_(pe),null,{default:C(()=>[...i[38]||(i[38]=[z("Usos",-1)])]),_:1}),b(_(pe),{class:"text-right"},{default:C(()=>[...i[39]||(i[39]=[z("Ações",-1)])]),_:1})]),_:1})]),_:1}),b(_(Z),null,{default:C(()=>[0===Da.value.length?(v(),k(_(Y),{key:0},{default:C(()=>[b(_(ee),{colspan:"4",class:"text-center text-muted-foreground py-8"},{default:C(()=>[...i[40]||(i[40]=[z(" Nenhuma unidade cadastrada ",-1)])]),_:1})]),_:1})):P("",!0),(v(!0),m(M,null,V(Da.value,e=>(v(),k(_(Y),{key:e.value},{default:C(()=>[b(_(ee),{class:p(e.active?"font-medium":"text-muted-foreground line-through")},{default:C(()=>[z(I(e.value),1)]),_:2},1032,["class"]),b(_(ee),null,{default:C(()=>[b(_(T),{variant:e.active?"default":"secondary",class:"text-xs"},{default:C(()=>[z(I(e.active?"Ativo":"Inativo"),1)]),_:2},1032,["variant"])]),_:2},1024),b(_(ee),null,{default:C(()=>[D("span",Ve,I(Ca.value.unidades[e.value]||0),1)]),_:2},1024),b(_(ee),{class:"text-right"},{default:C(()=>[D("div",Ue,[b(_(U),null,{default:C(()=>[b(_(L),null,{default:C(()=>[b(_(A),{"as-child":""},{default:C(()=>[b(_(j),{variant:"ghost",size:"sm",onClick:a=>Ea("unidades",e)},{default:C(()=>[(v(),k(F(e.active?_(Ce):_(ke)),{class:"w-4 h-4"}))]),_:2},1032,["onClick"])]),_:2},1024),b(_(q),null,{default:C(()=>[z(I(e.active?"Desativar":"Ativar"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),b(_(j),{variant:"ghost",size:"sm",onClick:a=>Ua("unidades",e)},{default:C(()=>[b(_(ue),{class:"w-4 h-4"})]),_:1},8,["onClick"]),b(_(j),{variant:"ghost",size:"sm",onClick:a=>Aa("unidades",e)},{default:C(()=>[b(_(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1}),b(_(d),{value:"tiposDocumento",class:"space-y-4"},{default:C(()=>[_(l).loadingTabs.tiposDocumento?(v(),m("div",Le,[b(_(te),{size:"lg"}),i[41]||(i[41]=D("p",{class:"text-sm text-muted-foreground"},"Carregando tipos de documento...",-1))])):(v(),m(M,{key:1},[D("div",Ae,[i[46]||(i[46]=D("h3",{class:"text-lg font-semibold"},"Tipos de Documento",-1)),D("div",Fe,[D("div",qe,[b(_(de),{class:"w-4 h-4 text-muted-foreground"}),b(_(ie),{modelValue:_a.value,"onUpdate:modelValue":i[11]||(i[11]=e=>_a.value=e)},{default:C(()=>[b(_(ce),{class:"w-[180px]"},{default:C(()=>[b(_(ne),{placeholder:"Filtrar por uso"})]),_:1}),b(_(me),null,{default:C(()=>[b(_(ve),{value:"todos"},{default:C(()=>[...i[42]||(i[42]=[z("Todos",-1)])]),_:1}),b(_(ve),{value:"em-uso"},{default:C(()=>[...i[43]||(i[43]=[z("Em uso",-1)])]),_:1}),b(_(ve),{value:"nao-utilizados"},{default:C(()=>[...i[44]||(i[44]=[z("Não utilizados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),b(_(j),{onClick:i[12]||(i[12]=e=>Ua("tiposDocumento"))},{default:C(()=>[b(_(oe),{class:"w-4 h-4 mr-2"}),i[45]||(i[45]=z(" Adicionar ",-1))]),_:1})])]),D("div",Ee,[b(_(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),b(_(Q),{modelValue:ya.value,"onUpdate:modelValue":i[13]||(i[13]=e=>ya.value=e),placeholder:"Buscar tipos de documento...",class:"pl-10 pr-10"},null,8,["modelValue"]),ya.value?(v(),k(_(j),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[14]||(i[14]=e=>ya.value="")},{default:C(()=>[b(_(O),{class:"w-4 h-4"})]),_:1})):P("",!0)]),ya.value||"todos"!==_a.value||ja.value?(v(),m("div",Be,[b(_(T),{variant:"secondary"},{default:C(()=>[z(" Mostrando "+I(Pa.value.length)+" de "+I(_(l).tiposDocumentoComStatus.length),1)]),_:1}),ja.value?(v(),m("span",Se," Lista limitada a 100 itens. Use a busca para refinar. ")):P("",!0)])):P("",!0),D("div",Ne,[b(_(X),null,{default:C(()=>[b(_(fe),null,{default:C(()=>[b(_(Y),null,{default:C(()=>[b(_(pe),null,{default:C(()=>[...i[47]||(i[47]=[z("Nome",-1)])]),_:1}),b(_(pe),null,{default:C(()=>[...i[48]||(i[48]=[z("Status",-1)])]),_:1}),b(_(pe),null,{default:C(()=>[...i[49]||(i[49]=[z("Usos",-1)])]),_:1}),b(_(pe),{class:"text-right"},{default:C(()=>[...i[50]||(i[50]=[z("Ações",-1)])]),_:1})]),_:1})]),_:1}),b(_(Z),null,{default:C(()=>[0===Pa.value.length?(v(),k(_(Y),{key:0},{default:C(()=>[b(_(ee),{colspan:"4",class:"text-center text-muted-foreground py-8"},{default:C(()=>[...i[51]||(i[51]=[z(" Nenhum tipo de documento cadastrado ",-1)])]),_:1})]),_:1})):P("",!0),(v(!0),m(M,null,V(Pa.value,e=>(v(),k(_(Y),{key:e.value},{default:C(()=>[b(_(ee),{class:p(e.active?"font-medium":"text-muted-foreground line-through")},{default:C(()=>[z(I(e.value)+" ",1),e.importado?(v(),k(_(T),{key:0,variant:"outline",class:"ml-2 text-xs"},{default:C(()=>[...i[52]||(i[52]=[z(" Importado ",-1)])]),_:1})):P("",!0)]),_:2},1032,["class"]),b(_(ee),null,{default:C(()=>[b(_(T),{variant:e.active?"default":"secondary",class:"text-xs"},{default:C(()=>[z(I(e.active?"Ativo":"Inativo"),1)]),_:2},1032,["variant"])]),_:2},1024),b(_(ee),null,{default:C(()=>[D("span",Re,I(Ca.value.tiposDocumento[e.value]||0),1)]),_:2},1024),b(_(ee),{class:"text-right"},{default:C(()=>[D("div",Ke,[b(_(U),null,{default:C(()=>[b(_(L),null,{default:C(()=>[b(_(A),{"as-child":""},{default:C(()=>[b(_(j),{variant:"ghost",size:"sm",onClick:a=>Ea("tiposDocumento",e)},{default:C(()=>[(v(),k(F(e.active?_(Ce):_(ke)),{class:"w-4 h-4"}))]),_:2},1032,["onClick"])]),_:2},1024),b(_(q),null,{default:C(()=>[z(I(e.active?"Desativar":"Ativar")+I(e.importado?" (importado)":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),b(_(U),null,{default:C(()=>[b(_(L),null,{default:C(()=>[b(_(A),{"as-child":""},{default:C(()=>[b(_(j),{variant:"ghost",size:"sm",onClick:a=>Ua("tiposDocumento",e)},{default:C(()=>[b(_(ue),{class:"w-4 h-4"})]),_:1},8,["onClick"])]),_:2},1024),b(_(q),null,{default:C(()=>[z(" Editar"+I(e.importado?" tipo importado":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),b(_(U),null,{default:C(()=>[b(_(L),null,{default:C(()=>[b(_(A),{"as-child":""},{default:C(()=>[b(_(j),{variant:"ghost",size:"sm",onClick:a=>Aa("tiposDocumento",e)},{default:C(()=>[b(_(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])]),_:2},1024),b(_(q),null,{default:C(()=>[z(" Excluir"+I(e.importado?" tipo importado":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1}),b(_(d),{value:"formatosMetadado",class:"space-y-4"},{default:C(()=>[_(l).loadingTabs.formatosMetadado?(v(),m("div",Oe,[b(_(te),{size:"lg"}),i[53]||(i[53]=D("p",{class:"text-sm text-muted-foreground"},"Carregando formatos de metadado...",-1))])):(v(),m(M,{key:1},[D("div",$e,[i[58]||(i[58]=D("h3",{class:"text-lg font-semibold"},"Formatos de Metadado",-1)),D("div",He,[D("div",We,[b(_(de),{class:"w-4 h-4 text-muted-foreground"}),b(_(ie),{modelValue:xa.value,"onUpdate:modelValue":i[15]||(i[15]=e=>xa.value=e)},{default:C(()=>[b(_(ce),{class:"w-[180px]"},{default:C(()=>[b(_(ne),{placeholder:"Filtrar por uso"})]),_:1}),b(_(me),null,{default:C(()=>[b(_(ve),{value:"todos"},{default:C(()=>[...i[54]||(i[54]=[z("Todos",-1)])]),_:1}),b(_(ve),{value:"em-uso"},{default:C(()=>[...i[55]||(i[55]=[z("Em uso",-1)])]),_:1}),b(_(ve),{value:"nao-utilizados"},{default:C(()=>[...i[56]||(i[56]=[z("Não utilizados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),b(_(j),{onClick:i[16]||(i[16]=e=>Ua("formatosMetadado"))},{default:C(()=>[b(_(oe),{class:"w-4 h-4 mr-2"}),i[57]||(i[57]=z(" Adicionar ",-1))]),_:1})])]),D("div",Ge,[b(_(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),b(_(Q),{modelValue:wa.value,"onUpdate:modelValue":i[17]||(i[17]=e=>wa.value=e),placeholder:"Buscar formatos de metadado...",class:"pl-10 pr-10"},null,8,["modelValue"]),wa.value?(v(),k(_(j),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[18]||(i[18]=e=>wa.value="")},{default:C(()=>[b(_(O),{class:"w-4 h-4"})]),_:1})):P("",!0)]),wa.value||"todos"!==xa.value||Ta.value?(v(),m("div",Je,[b(_(T),{variant:"secondary"},{default:C(()=>[z(" Mostrando "+I(za.value.length)+" de "+I(_(l).formatosMetadado.length),1)]),_:1}),Ta.value?(v(),m("span",Qe," Lista limitada a 100 itens. Use a busca para refinar. ")):P("",!0)])):P("",!0),D("div",Xe,[b(_(X),null,{default:C(()=>[b(_(fe),null,{default:C(()=>[b(_(Y),null,{default:C(()=>[b(_(pe),null,{default:C(()=>[...i[59]||(i[59]=[z("Nome",-1)])]),_:1}),b(_(pe),null,{default:C(()=>[...i[60]||(i[60]=[z("Status",-1)])]),_:1}),b(_(pe),null,{default:C(()=>[...i[61]||(i[61]=[z("Usos",-1)])]),_:1}),b(_(pe),{class:"text-right"},{default:C(()=>[...i[62]||(i[62]=[z("Ações",-1)])]),_:1})]),_:1})]),_:1}),b(_(Z),null,{default:C(()=>[0===za.value.length?(v(),k(_(Y),{key:0},{default:C(()=>[b(_(ee),{colspan:"4",class:"text-center text-muted-foreground py-8"},{default:C(()=>[...i[63]||(i[63]=[z(" Nenhum formato de metadado cadastrado ",-1)])]),_:1})]),_:1})):P("",!0),(v(!0),m(M,null,V(za.value,e=>(v(),k(_(Y),{key:e.value},{default:C(()=>[b(_(ee),{class:p(e.active?"font-medium":"text-muted-foreground line-through")},{default:C(()=>[z(I(e.value),1)]),_:2},1032,["class"]),b(_(ee),null,{default:C(()=>[b(_(T),{variant:e.active?"default":"secondary",class:"text-xs"},{default:C(()=>[z(I(e.active?"Ativo":"Inativo"),1)]),_:2},1032,["variant"])]),_:2},1024),b(_(ee),null,{default:C(()=>[D("span",Ye,I(Ca.value.formatosMetadado[e.value]||0),1)]),_:2},1024),b(_(ee),{class:"text-right"},{default:C(()=>[D("div",Ze,[b(_(U),null,{default:C(()=>[b(_(L),null,{default:C(()=>[b(_(A),{"as-child":""},{default:C(()=>[b(_(j),{variant:"ghost",size:"sm",onClick:a=>Ea("formatosMetadado",e)},{default:C(()=>[(v(),k(F(e.active?_(Ce):_(ke)),{class:"w-4 h-4"}))]),_:2},1032,["onClick"])]),_:2},1024),b(_(q),null,{default:C(()=>[z(I(e.active?"Desativar":"Ativar"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),b(_(j),{variant:"ghost",size:"sm",onClick:a=>Ua("formatosMetadado",e)},{default:C(()=>[b(_(ue),{class:"w-4 h-4"})]),_:1},8,["onClick"]),b(_(j),{variant:"ghost",size:"sm",onClick:a=>Aa("formatosMetadado",e)},{default:C(()=>[b(_(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1}),b(_(d),{value:"classesProcessuais",class:"space-y-4"},{default:C(()=>[_(l).loadingTabs.classesProcessuais?(v(),m("div",ea,[b(_(te),{size:"lg"}),i[64]||(i[64]=D("p",{class:"text-sm text-muted-foreground"},"Carregando classes processuais...",-1))])):(v(),m(M,{key:1},[D("div",aa,[i[69]||(i[69]=D("h3",{class:"text-lg font-semibold"},"Classes Processuais",-1)),D("div",sa,[D("div",la,[b(_(de),{class:"w-4 h-4 text-muted-foreground"}),b(_(ie),{modelValue:ha.value,"onUpdate:modelValue":i[19]||(i[19]=e=>ha.value=e)},{default:C(()=>[b(_(ce),{class:"w-[180px]"},{default:C(()=>[b(_(ne),{placeholder:"Filtrar por uso"})]),_:1}),b(_(me),null,{default:C(()=>[b(_(ve),{value:"todos"},{default:C(()=>[...i[65]||(i[65]=[z("Todos",-1)])]),_:1}),b(_(ve),{value:"em-uso"},{default:C(()=>[...i[66]||(i[66]=[z("Em uso",-1)])]),_:1}),b(_(ve),{value:"nao-utilizados"},{default:C(()=>[...i[67]||(i[67]=[z("Não utilizados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),b(_(j),{onClick:i[20]||(i[20]=e=>Ua("classesProcessuais"))},{default:C(()=>[b(_(oe),{class:"w-4 h-4 mr-2"}),i[68]||(i[68]=z(" Adicionar ",-1))]),_:1})])]),D("div",ta,[b(_(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),b(_(Q),{modelValue:ka.value,"onUpdate:modelValue":i[21]||(i[21]=e=>ka.value=e),placeholder:"Buscar classes processuais...",class:"pl-10 pr-10"},null,8,["modelValue"]),ka.value?(v(),k(_(j),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[22]||(i[22]=e=>ka.value="")},{default:C(()=>[b(_(O),{class:"w-4 h-4"})]),_:1})):P("",!0)]),ka.value||"todos"!==ha.value||Va.value?(v(),m("div",oa,[b(_(T),{variant:"secondary"},{default:C(()=>[z(" Mostrando "+I(Ia.value.length)+" de "+I(_(l).classesProcessuais.length),1)]),_:1}),Va.value?(v(),m("span",ua," Lista limitada a 100 itens. Use a busca para refinar. ")):P("",!0)])):P("",!0),D("div",da,[b(_(X),null,{default:C(()=>[b(_(fe),null,{default:C(()=>[b(_(Y),null,{default:C(()=>[b(_(pe),null,{default:C(()=>[...i[70]||(i[70]=[z("Classe",-1)])]),_:1}),b(_(pe),null,{default:C(()=>[...i[71]||(i[71]=[z("Usos",-1)])]),_:1}),b(_(pe),{class:"text-right"},{default:C(()=>[...i[72]||(i[72]=[z("Ações",-1)])]),_:1})]),_:1})]),_:1}),b(_(Z),null,{default:C(()=>[0===Ia.value.length?(v(),k(_(Y),{key:0},{default:C(()=>[b(_(ee),{colspan:"3",class:"text-center text-muted-foreground py-8"},{default:C(()=>[...i[73]||(i[73]=[z(" Nenhuma classe processual cadastrada ",-1)])]),_:1})]),_:1})):P("",!0),(v(!0),m(M,null,V(Ia.value,e=>(v(),k(_(Y),{key:e},{default:C(()=>[b(_(ee),{class:"font-medium"},{default:C(()=>[z(I(e),1)]),_:2},1024),b(_(ee),null,{default:C(()=>[D("span",ra,I(Ca.value.classesProcessuais[e]||0),1)]),_:2},1024),b(_(ee),{class:"text-right"},{default:C(()=>[D("div",ia,[b(_(j),{variant:"ghost",size:"sm",onClick:a=>Ua("classesProcessuais",e)},{default:C(()=>[b(_(ue),{class:"w-4 h-4"})]),_:1},8,["onClick"]),b(_(j),{variant:"ghost",size:"sm",onClick:a=>Aa("classesProcessuais",e)},{default:C(()=>[b(_(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),b(_($),{open:n.value,"onUpdate:open":i[26]||(i[26]=e=>n.value=e)},{default:C(()=>[b(_(H),{class:"max-w-md"},{default:C(()=>[b(_(W),null,{default:C(()=>[b(_(G),null,{default:C(()=>[z(I(x.value?"Editar":"Adicionar")+" Item",1)]),_:1})]),_:1}),D("div",ca,[D("div",na,[b(_(ae),{for:"itemValue"},{default:C(()=>[...i[74]||(i[74]=[z("Nome",-1)])]),_:1}),b(_(Q),{id:"itemValue",modelValue:R.value,"onUpdate:modelValue":i[24]||(i[24]=e=>R.value=e),placeholder:"Digite o nome do item"},null,8,["modelValue"])])]),b(_(J),null,{default:C(()=>[b(_(j),{variant:"ghost",onClick:i[25]||(i[25]=e=>n.value=!1)},{default:C(()=>[...i[75]||(i[75]=[z(" Cancelar ",-1)])]),_:1}),b(_(j),{onClick:La},{default:C(()=>[b(_(re),{class:"w-4 h-4 mr-2"}),i[76]||(i[76]=z(" Salvar ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),b(_($),{open:K.value,"onUpdate:open":i[28]||(i[28]=e=>K.value=e)},{default:C(()=>[b(_(H),{class:"max-w-md"},{default:C(()=>[b(_(W),null,{default:C(()=>[b(_(G),{class:"flex items-center gap-2"},{default:C(()=>[b(_(E),{class:"w-5 h-5 text-destructive"}),i[77]||(i[77]=z(" Confirmar Exclusão ",-1))]),_:1})]),_:1}),D("div",ma,[we.value&&ba.value>0?(v(),k(_(se),{key:0,variant:"warning"},{default:C(()=>[b(_(E),{class:"w-4 h-4"}),b(_(r),null,{default:C(()=>[...i[78]||(i[78]=[z("Atenção!",-1)])]),_:1}),b(_(le),null,{default:C(()=>[i[79]||(i[79]=z(" Este item está sendo usado em ",-1)),D("strong",null,I(ba.value),1),z(" "+I(1===ba.value?"metadado":"metadados")+". ",1)]),_:1})]),_:1})):P("",!0),we.value&&ba.value>0?(v(),m("p",va,[...i[80]||(i[80]=[z(" Você não pode excluir este item pois ele está em uso. Deseja marcá-lo como ",-1),D("strong",null,"inativo",-1),z(" em vez disso? ",-1)])])):(v(),m("p",fa,[i[81]||(i[81]=z(" Tem certeza que deseja excluir ",-1)),D("strong",null,I(we.value?.value),1),i[82]||(i[82]=z("? ",-1))]))]),b(_(J),null,{default:C(()=>[b(_(j),{variant:"ghost",onClick:i[27]||(i[27]=e=>K.value=!1)},{default:C(()=>[...i[83]||(i[83]=[z(" Cancelar ",-1)])]),_:1}),ba.value>0?(v(),k(_(j),{key:0,variant:"secondary",onClick:qa},{default:C(()=>[...i[84]||(i[84]=[z(" Marcar como Inativo ",-1)])]),_:1})):(v(),k(_(j),{key:1,variant:"destructive",onClick:Fa},{default:C(()=>[b(_(ye),{class:"w-4 h-4 mr-2"}),i[85]||(i[85]=z(" Excluir ",-1))]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}},xa={key:0,class:"border rounded-lg p-4 bg-card hover:bg-accent/50 transition-colors"},ha={class:"flex items-center justify-between"},ga={class:"flex items-center gap-3"},ya={class:"p-2 rounded-lg bg-primary/10"},wa={class:"text-xs text-muted-foreground"},ka={class:"flex items-center gap-2"},Ca={class:"flex items-center justify-between"},ba={class:"flex items-center gap-2"},Da={class:"space-y-3"},Ma={class:"flex items-center gap-3"},Pa={key:2,class:"p-4 border rounded-lg bg-muted/30 space-y-2"},ja={class:"flex items-center justify-between"},za={class:"flex items-center gap-2"},Ta={class:"text-sm font-medium"},Ia={__name:"UploadClassesProcessuais",setup(t){const o=h(),u=y(null),d=y(null),n=y(!1),f=y(!1),p=y(!1);function x(){u.value?.click()}function g(e){const a=e.target.files?.[0];if(a){try{c(a)}catch(s){return B.error(s.message),void(u.value&&(u.value.value=""))}if(!a.name.endsWith(".txt"))return B.error("Por favor, selecione um arquivo .txt"),void(u.value&&(u.value.value=""));d.value=a}}async function w(){if(d.value)try{n.value=!0;const e=await o.importClassesFile(d.value);B.success(`${e} classes processuais importadas com sucesso`),d.value=null,u.value&&(u.value.value="")}catch(e){B.error("Erro ao importar arquivo: "+e.message)}finally{n.value=!1}}function V(){f.value=!0}async function U(){try{n.value=!0,await o.clearClassesProcessuais(),f.value=!1,d.value=null,u.value&&(u.value.value=""),B.success("Classes processuais removidas com sucesso")}catch(e){B.error("Erro ao remover classes: "+e.message)}finally{n.value=!1}}return(t,c)=>(v(),m(M,null,[_(o).hasClassesProcessuais&&!p.value?(v(),m("div",xa,[D("div",ha,[D("div",ga,[D("div",ya,[b(_(he),{class:"w-4 h-4 text-primary"})]),D("div",null,[c[4]||(c[4]=D("h3",{class:"font-semibold text-sm"},"Classes Processuais",-1)),D("p",wa,I(_(o).classesProcessuais.length)+" classes carregadas ",1)])]),D("div",ka,[b(_(j),{variant:"ghost",size:"sm",onClick:c[0]||(c[0]=e=>p.value=!0)},{default:C(()=>[b(_(R),{class:"w-4 h-4"})]),_:1})])])])):(v(),k(_(a),{key:1},{default:C(()=>[b(_(s),null,{default:C(()=>[D("div",Ca,[D("div",ba,[b(_(he),{class:"w-5 h-5"}),b(_(l),null,{default:C(()=>[...c[5]||(c[5]=[z("Classes Processuais",-1)])]),_:1})]),_(o).hasClassesProcessuais?(v(),k(_(j),{key:0,variant:"ghost",size:"sm",onClick:c[1]||(c[1]=e=>p.value=!1)},{default:C(()=>[b(_(K),{class:"w-4 h-4"})]),_:1})):P("",!0)]),b(_(De),null,{default:C(()=>[...c[6]||(c[6]=[z(" Importe o arquivo de classes processuais para habilitar a seleção no cadastro de metadados ",-1)])]),_:1})]),_:1}),b(_(e),{class:"space-y-4"},{default:C(()=>[_(o).hasClassesProcessuais?(v(),k(_(se),{key:0},{default:C(()=>[b(_(we),{class:"w-4 h-4"}),b(_(r),null,{default:C(()=>[...c[7]||(c[7]=[z("Classes Carregadas",-1)])]),_:1}),b(_(le),null,{default:C(()=>[z(I(_(o).classesProcessuais.length)+" classes processuais disponíveis para seleção ",1)]),_:1})]),_:1})):(v(),k(_(se),{key:1},{default:C(()=>[b(_(E),{class:"w-4 h-4"}),b(_(r),null,{default:C(()=>[...c[8]||(c[8]=[z("Nenhuma classe carregada",-1)])]),_:1}),b(_(le),null,{default:C(()=>[...c[9]||(c[9]=[z(" Faça upload do arquivo ",-1),D("code",{class:"px-1 py-0.5 bg-muted rounded text-xs"},"classes_processuais_simplificado.txt",-1),z(" para habilitar a funcionalidade ",-1)])]),_:1})]),_:1})),D("div",Da,[D("div",Ma,[D("input",{ref_key:"fileInput",ref:u,type:"file",accept:".txt",class:"hidden",onChange:g},null,544),b(_(j),{onClick:x,disabled:n.value},{default:C(()=>[b(_(i),{class:"w-4 h-4 mr-2"}),z(" "+I(_(o).hasClassesProcessuais?"Reimportar Arquivo":"Selecionar Arquivo"),1)]),_:1},8,["disabled"]),_(o).hasClassesProcessuais?(v(),k(_(j),{key:0,variant:"destructive",onClick:V,disabled:n.value},{default:C(()=>[b(_(ye),{class:"w-4 h-4 mr-2"}),c[10]||(c[10]=z(" Remover Classes ",-1))]),_:1},8,["disabled"])):P("",!0)]),c[11]||(c[11]=D("p",{class:"text-xs text-muted-foreground"},[z(" O arquivo deve conter uma classe por linha no formato: "),D("code",{class:"px-1 py-0.5 bg-muted rounded"},"numero descricao")],-1))]),d.value?(v(),m("div",Pa,[D("div",ja,[D("div",za,[b(_(xe),{class:"w-4 h-4 text-muted-foreground"}),D("span",Ta,I(d.value.name),1)]),b(_(T),{variant:"secondary"},{default:C(()=>{return[z(I((e=d.value.size,e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB")),1)];var e}),_:1})]),b(_(j),{onClick:w,disabled:n.value,class:"w-full"},{default:C(()=>[b(_(we),{class:"w-4 h-4 mr-2"}),z(" "+I(n.value?"Importando...":"Confirmar Importação"),1)]),_:1},8,["disabled"])])):P("",!0)]),_:1})]),_:1})),b(_($),{open:f.value,"onUpdate:open":c[3]||(c[3]=e=>f.value=e)},{default:C(()=>[b(_(H),null,{default:C(()=>[b(_(W),null,{default:C(()=>[b(_(G),{class:"flex items-center gap-2"},{default:C(()=>[b(_(E),{class:"w-5 h-5 text-destructive"}),c[12]||(c[12]=z(" Confirmar Remoção ",-1))]),_:1})]),_:1}),c[15]||(c[15]=D("p",{class:"text-sm"}," Tem certeza que deseja remover todas as classes processuais carregadas? Isso afetará apenas a lista de seleção, os metadados já cadastrados permanecerão intactos. ",-1)),b(_(J),null,{default:C(()=>[b(_(j),{variant:"ghost",onClick:c[2]||(c[2]=e=>f.value=!1)},{default:C(()=>[...c[13]||(c[13]=[z(" Cancelar ",-1)])]),_:1}),b(_(j),{variant:"destructive",onClick:U},{default:C(()=>[b(_(ye),{class:"w-4 h-4 mr-2"}),c[14]||(c[14]=z(" Remover ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}},Va={key:0,class:"border rounded-lg p-4 bg-card hover:bg-accent/50 transition-colors"},Ua={class:"flex items-center justify-between"},La={class:"flex items-center gap-3"},Aa={class:"p-2 rounded-lg bg-primary/10"},Fa={class:"text-xs text-muted-foreground"},qa={class:"flex items-center gap-2"},Ea={class:"flex items-center justify-between"},Ba={class:"flex items-center gap-2"},Sa={class:"space-y-3"},Na={class:"flex items-center gap-3"},Ra={key:2,class:"p-4 border rounded-lg bg-muted/30 space-y-2"},Ka={class:"flex items-center justify-between"},Oa={class:"flex items-center gap-2"},$a={class:"text-sm font-medium"},Ha={__name:"UploadTiposDocumentos",setup(t){const o=h(),u=y(null),d=y(null),n=y(!1),f=y(!1),p=y(!1);function x(){u.value?.click()}function g(e){const a=e.target.files?.[0];if(a){try{c(a)}catch(s){return B.error(s.message),void(u.value&&(u.value.value=""))}if(!a.name.endsWith(".txt"))return B.error("Por favor, selecione um arquivo .txt"),void(u.value&&(u.value.value=""));d.value=a}}async function w(){if(d.value)try{n.value=!0;const e=await o.importTiposDocumentosFile(d.value);B.success(`${e} tipos de documentos importados com sucesso`),d.value=null,u.value&&(u.value.value="")}catch(e){B.error("Erro ao importar arquivo: "+e.message)}finally{n.value=!1}}function V(){f.value=!0}async function U(){try{n.value=!0,await o.clearTiposDocumentosImportados(),f.value=!1,d.value=null,u.value&&(u.value.value=""),B.success("Tipos de documentos importados removidos. Lista padrão restaurada.")}catch(e){B.error("Erro ao remover tipos de documentos: "+e.message)}finally{n.value=!1}}return(t,c)=>(v(),m(M,null,[_(o).hasTiposDocumentosImportados&&!p.value?(v(),m("div",Va,[D("div",Ua,[D("div",La,[D("div",Aa,[b(_(xe),{class:"w-4 h-4 text-primary"})]),D("div",null,[c[4]||(c[4]=D("h3",{class:"font-semibold text-sm"},"Tipos de Documentos",-1)),D("p",Fa,I(_(o).tiposDocumentosImportados.length)+" tipos carregados ",1)])]),D("div",qa,[b(_(j),{variant:"ghost",size:"sm",onClick:c[0]||(c[0]=e=>p.value=!0)},{default:C(()=>[b(_(R),{class:"w-4 h-4"})]),_:1})])])])):(v(),k(_(a),{key:1},{default:C(()=>[b(_(s),null,{default:C(()=>[D("div",Ea,[D("div",Ba,[b(_(xe),{class:"w-5 h-5"}),b(_(l),null,{default:C(()=>[...c[5]||(c[5]=[z("Tipos de Documentos",-1)])]),_:1})]),_(o).hasTiposDocumentosImportados?(v(),k(_(j),{key:0,variant:"ghost",size:"sm",onClick:c[1]||(c[1]=e=>p.value=!1)},{default:C(()=>[b(_(K),{class:"w-4 h-4"})]),_:1})):P("",!0)]),b(_(De),null,{default:C(()=>[...c[6]||(c[6]=[z(" Importe o arquivo de tipos de documentos para substituir a lista de seleção no cadastro de metadados ",-1)])]),_:1})]),_:1}),b(_(e),{class:"space-y-4"},{default:C(()=>[_(o).hasTiposDocumentosImportados?(v(),k(_(se),{key:0},{default:C(()=>[b(_(we),{class:"w-4 h-4"}),b(_(r),null,{default:C(()=>[...c[7]||(c[7]=[z("Tipos de Documentos Carregados",-1)])]),_:1}),b(_(le),null,{default:C(()=>[z(I(_(o).tiposDocumentosImportados.length)+" tipos de documentos disponíveis para seleção ",1)]),_:1})]),_:1})):(v(),k(_(se),{key:1},{default:C(()=>[b(_(E),{class:"w-4 h-4"}),b(_(r),null,{default:C(()=>[...c[8]||(c[8]=[z("Lista padrão em uso",-1)])]),_:1}),b(_(le),null,{default:C(()=>[...c[9]||(c[9]=[z(" Faça upload do arquivo ",-1),D("code",{class:"px-1 py-0.5 bg-muted rounded text-xs"},"tipos_documentos_formatados.txt",-1),z(" para substituir a lista padrão de 10 tipos por uma lista completa com 320+ tipos ",-1)])]),_:1})]),_:1})),D("div",Sa,[D("div",Na,[D("input",{ref_key:"fileInput",ref:u,type:"file",accept:".txt",class:"hidden",onChange:g},null,544),b(_(j),{onClick:x,disabled:n.value},{default:C(()=>[b(_(i),{class:"w-4 h-4 mr-2"}),z(" "+I(_(o).hasTiposDocumentosImportados?"Reimportar Arquivo":"Selecionar Arquivo"),1)]),_:1},8,["disabled"]),_(o).hasTiposDocumentosImportados?(v(),k(_(j),{key:0,variant:"destructive",onClick:V,disabled:n.value},{default:C(()=>[b(_(ye),{class:"w-4 h-4 mr-2"}),c[10]||(c[10]=z(" Voltar à Lista Padrão ",-1))]),_:1},8,["disabled"])):P("",!0)]),c[11]||(c[11]=D("p",{class:"text-xs text-muted-foreground"}," O arquivo deve conter um tipo de documento por linha. Após a importação, a lista substituirá os 10 tipos padrão. ",-1))]),d.value?(v(),m("div",Ra,[D("div",Ka,[D("div",Oa,[b(_(xe),{class:"w-4 h-4 text-muted-foreground"}),D("span",$a,I(d.value.name),1)]),b(_(T),{variant:"secondary"},{default:C(()=>{return[z(I((e=d.value.size,e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB")),1)];var e}),_:1})]),b(_(j),{onClick:w,disabled:n.value,class:"w-full"},{default:C(()=>[b(_(we),{class:"w-4 h-4 mr-2"}),z(" "+I(n.value?"Importando...":"Confirmar Importação"),1)]),_:1},8,["disabled"])])):P("",!0)]),_:1})]),_:1})),b(_($),{open:f.value,"onUpdate:open":c[3]||(c[3]=e=>f.value=e)},{default:C(()=>[b(_(H),null,{default:C(()=>[b(_(W),null,{default:C(()=>[b(_(G),{class:"flex items-center gap-2"},{default:C(()=>[b(_(E),{class:"w-5 h-5 text-destructive"}),c[12]||(c[12]=z(" Confirmar Remoção ",-1))]),_:1})]),_:1}),c[15]||(c[15]=D("p",{class:"text-sm"}," Tem certeza que deseja remover todos os tipos de documentos importados? Isso restaurará a lista padrão de 10 tipos. Os metadados já cadastrados permanecerão intactos. ",-1)),b(_(J),null,{default:C(()=>[b(_(j),{variant:"ghost",onClick:c[2]||(c[2]=e=>f.value=!1)},{default:C(()=>[...c[13]||(c[13]=[z(" Cancelar ",-1)])]),_:1}),b(_(j),{variant:"destructive",onClick:U},{default:C(()=>[b(_(ye),{class:"w-4 h-4 mr-2"}),c[14]||(c[14]=z(" Voltar à Lista Padrão ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}},Wa={class:"space-y-6"},Ga={class:"space-y-3"},Ja={__name:"Configuracoes",setup:e=>(e,a)=>(v(),m("div",Wa,[a[1]||(a[1]=D("div",null,[D("h1",{class:"text-3xl font-bold"},"Configurações"),D("p",{class:"text-muted-foreground"},"Gerencie as listas controladas do sistema")],-1)),b(_a),D("div",Ga,[a[0]||(a[0]=D("div",{class:"flex items-center gap-2 text-sm text-muted-foreground"},[D("div",{class:"h-px flex-1 bg-border"}),D("span",{class:"font-medium"},"Arquivos Importados"),D("div",{class:"h-px flex-1 bg-border"})],-1)),b(Ia),b(Ha)])]))};
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{Ja as default};
