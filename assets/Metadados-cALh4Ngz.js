import{c as e,b as a,l as t,d as l,w as o,e as s,f as d,H as r,V as u,j as i,I as n,F as c,x as p,J as m,K as v,L as f,g,M as y,N as h,O as b,z as x,P as _,k,Q as w,R as q,r as C,n as V,S as M,U as S,W as A,o as B,a as P,X as D,Y as F,Z as j,$ as O,a0 as N,a1 as E,a2 as I,a3 as T,a4 as $,a5 as R,a6 as U,a7 as z,a8 as L,a9 as K,aa as H,m as G,u as W,p as J,q as Z,E as Q,ab as X,A as Y,ac as ee,G as ae,ad as te,_ as le,ae as oe,D as se,af as de,ag as re,ah as ue,ai as ie,aj as ne,T as ce,C as pe,ak as me,al as ve,am as fe,an as ge,ao as ye,ap as he}from"./index-CrRnVzXM.js";import{b as be,c as xe,_ as _e,a as ke}from"./CardTitle-By4bZo67.js";import{_ as we,a as qe,b as Ce,c as Ve,d as Me,e as Se,f as Ae,u as Be,g as Pe}from"./TableHeader-3cHVpvnT.js";import{i as De,u as Fe,e as je,f as Oe,_ as Ne,a as Ee,F as Ie,b as Te,c as $e,d as Re,S as Ue,C as ze}from"./SelectValue-DJf3AP65.js";import{F as Le,u as Ke,a as He}from"./utils-DZgixhoM.js";import{F as Ge,P as We,T as Je,_ as Ze,S as Qe,a as Xe,b as Ye}from"./Spinner-WwFd_rrd.js";import{X as ea,_ as aa,a as ta,b as la,c as oa,d as sa}from"./DialogTitle-C06bV9AU.js";import{S as da}from"./search-C1txTXCY.js";import{B as ra}from"./building-Bt_hg955.js";import{T as ua}from"./tag-DGxpMLLe.js";import{I as ia}from"./info-C6RAOz9S.js";import{_ as na}from"./DialogDescription-BfBxC4Lb.js";import{R as ca,g as pa,_ as ma,a as va,U as fa}from"./index-DDqpsC0i.js";import{_ as ga,D as ya}from"./Separator-pXC5t4-o.js";import{C as ha}from"./chevron-right-DdVUPIjr.js";import{u as ba,a as xa,b as _a}from"./Collection-PwCgZOfS.js";import{i as ka}from"./nullish-aV-w2MPu.js";
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=e("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),qa=e("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),Ca=e("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Va=e("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ma=e("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Sa=e("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),Aa=e("git-compare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]),Ba=e("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Pa=e("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Da=e("save-all",[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]]),Fa=e("shapes",[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]]),ja=e("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Oa=e("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Na(e,a){return!ka(e)&&(Array.isArray(e)?e.some(e=>De(e,a)):De(e,a))}var Ea=l({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const t=e,{primitiveElement:l,currentElement:i}=ba(),n=a(()=>t.checked??t.value);return o(n,(e,a)=>{if(!i.value)return;const t=i.value,l=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(l,"value").set;if(o&&e!==a){const a=new Event("input",{bubbles:!0}),l=new Event("change",{bubbles:!0});o.call(t,e),t.dispatchEvent(a),t.dispatchEvent(l)}}),(e,a)=>(d(),s(u,r({ref_key:"primitiveElement",ref:l},{...t,...e.$attrs},{as:"input"}),null,16))}}),Ia=l({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const t=e,l=a(()=>"object"==typeof t.value&&Array.isArray(t.value)&&0===t.value.length&&t.required),o=a(()=>"string"==typeof t.value||"number"==typeof t.value||"boolean"==typeof t.value||null===t.value||void 0===t.value?[{name:t.name,value:t.value}]:"object"==typeof t.value&&Array.isArray(t.value)?t.value.flatMap((e,a)=>"object"==typeof e?Object.entries(e).map(([e,l])=>({name:`${t.name}[${a}][${e}]`,value:l})):{name:`${t.name}[${a}]`,value:e}):null===t.value||"object"!=typeof t.value||Array.isArray(t.value)?[]:Object.entries(t.value).map(([e,a])=>({name:`${t.name}[${e}]`,value:a})));return(e,a)=>(d(),i(c,null,[n(" We render single input if it's required "),l.value?(d(),s(Ea,r({key:e.name},{...t,...e.$attrs},{name:e.name,value:e.value}),null,16,["name","value"])):(d(!0),i(c,{key:1},p(o.value,a=>(d(),s(Ea,r({key:a.name},{ref_for:!0},{...t,...e.$attrs},{name:a.name,value:a.value}),null,16,["name","value"]))),128))],2112))}});const[Ta]=m("CheckboxGroupRoot");function $a(e){return"indeterminate"===e}function Ra(e){return $a(e)?"indeterminate":e?"checked":"unchecked"}const[Ua,za]=m("CheckboxRoot");var La=l({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:l}){const o=e,u=l,{forwardRef:i,currentElement:c}=v(),p=Ta(null),m=f(o,"modelValue",u,{defaultValue:o.defaultValue,passive:void 0===o.modelValue}),k=a(()=>p?.disabled.value||o.disabled),w=a(()=>ka(p?.modelValue.value)?"indeterminate"===m.value?"indeterminate":m.value:Na(p.modelValue.value,o.value));function q(){if(ka(p?.modelValue.value))m.value=!!$a(m.value)||!m.value;else{const e=[...p.modelValue.value||[]];if(Na(e,o.value)){const a=e.findIndex(e=>De(e,o.value));e.splice(a,1)}else e.push(o.value);p.modelValue.value=e}}const C=Fe(c),V=a(()=>o.id&&c.value?document.querySelector(`[for="${o.id}"]`)?.innerText:void 0);return za({disabled:k,state:w}),(e,a)=>(d(),s(x(t(p)?.rovingFocus.value?t(ca):t(_)),r(e.$attrs,{id:e.id,ref:t(i),role:"checkbox","as-child":e.asChild,as:e.as,type:"button"===e.as?"button":void 0,"aria-checked":t($a)(w.value)?"mixed":w.value,"aria-required":e.required,"aria-label":e.$attrs["aria-label"]||V.value,"data-state":t(Ra)(w.value),"data-disabled":k.value?"":void 0,disabled:k.value,focusable:t(p)?.rovingFocus.value?!k.value:void 0,onKeydown:h(b(()=>{},["prevent"]),["enter"]),onClick:q}),{default:g(()=>[y(e.$slots,"default",{modelValue:t(m),state:w.value}),t(C)&&e.name&&!t(p)?(d(),s(t(Ia),{key:0,type:"checkbox",checked:!!w.value,name:e.name,value:e.value,disabled:k.value,required:e.required},null,8,["checked","name","value","disabled","required"])):n("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),Ka=l({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const{forwardRef:a}=v(),l=Ua();return(e,o)=>(d(),s(t(w),{present:e.forceMount||t($a)(t(l).state.value)||!0===t(l).state.value},{default:g(()=>[k(t(_),r({ref:t(a),"data-state":t(Ra)(t(l).state.value),"data-disabled":t(l).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":e.asChild,as:e.as},e.$attrs),{default:g(()=>[y(e.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}});function Ha(e,a,t){return void 0!==e&&void 0!==a&&("string"==typeof e?e===a:"function"==typeof t?t(e,a):"string"==typeof t?e?.[t]===a?.[t]:De(e,a))}const[Ga,Wa]=m("ListboxRoot");var Ja=l({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{expose:a,emit:l}){const r=e,u=l,{multiple:i,highlightOnHover:c,orientation:p,disabled:m,selectionBehavior:v,dir:h}=q(r),{getItems:b}=xa({isProvider:!0}),{handleTypeaheadSearch:x}=je(),{primitiveElement:k,currentElement:w}=ba(),S={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"},A=_a(h),B=Fe(w),P=C(),D=C(!1),F=C(!0),j=f(r,"modelValue",u,{defaultValue:r.defaultValue??(i.value?[]:void 0),passive:void 0===r.modelValue,deep:!0});const O=C(null),N=C(null),E=C(!1),I=C(!1),T=M(),$=M(),R=M();function U(){return b().map(e=>e.ref).filter(e=>""!==e.dataset.disabled)}function z(e,a=!0){if(!e)return;O.value=e,F.value&&O.value.focus(),a&&O.value.scrollIntoView({block:"nearest"});const t=b().find(a=>a.ref===e);u("highlight",t)}function L(){V(()=>{H(new KeyboardEvent("keydown",{key:"PageUp"}))})}function K(e){const a=O.value;a?.isConnected&&(N.value=a),O.value=null,u("leave",e)}function H(e){const a=pa(e,p.value,A.value);if(!a)return;let t=U();if(O.value){if("last"===a)t.reverse();else if("prev"===a||"next"===a){"prev"===a&&t.reverse();const e=t.indexOf(O.value);t=t.slice(e+1)}!function(e,a){if(E.value||"replace"!==r.selectionBehavior||!i.value||!Array.isArray(j.value))return;const t=e.altKey||e.ctrlKey||e.metaKey;if(t&&!e.shiftKey)return;if(e.shiftKey){const t=b().filter(e=>""!==e.ref.dataset.disabled);let l=t.find(e=>e.ref===a)?.value;if(e.key===S.END?l=t[t.length-1].value:e.key===S.HOME&&(l=t[0].value),!l||!P.value)return;const o=function(e,a,t){const l=e.findIndex(e=>De(e,a)),o=e.findIndex(e=>De(e,t));if(-1===l||-1===o)return[];const[s,d]=[l,o].sort((e,a)=>e-a);return e.slice(s,d+1)}(t.map(e=>e.value),P.value,l);j.value=o}}(e,t[0])}if(t.length){z(t[O.value||"prev"!==a?0:t.length-1])}return E.value?$.trigger(e):void 0}async function G(e){if(await V(),E.value)T.trigger(e);else{const e=U(),a=e.find(e=>"checked"===e.dataset.state);a?z(a):e.length&&z(e[0])}}return o(j,()=>{D.value||V(()=>{G()})},{immediate:!0,deep:!0}),a({highlightedElement:O,highlightItem:function(e){if(E.value)R.trigger(e);else{const a=b().find(a=>Ha(a.value,e,r.by));a&&(O.value=a.ref,z(a.ref))}},highlightFirstItem:L,highlightSelected:G,getItems:b}),Wa({modelValue:j,onValueChange:function(e){if(D.value=!0,r.multiple){const a=Array.isArray(j.value)?[...j.value]:[],t=a.findIndex(a=>Ha(a,e,r.by));"toggle"===r.selectionBehavior?(-1===t?a.push(e):a.splice(t,1),j.value=a):(j.value=[e],P.value=e)}else"toggle"===r.selectionBehavior&&Ha(j.value,e,r.by)?j.value=void 0:j.value=e;setTimeout(()=>{D.value=!1},1)},multiple:i,orientation:p,dir:A,disabled:m,highlightOnHover:c,highlightedElement:O,isVirtual:E,virtualFocusHook:T,virtualKeydownHook:$,virtualHighlightHook:R,by:r.by,firstValue:P,selectionBehavior:v,focusable:F,onLeave:K,onEnter:function(e){const a=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(e.currentTarget?.dispatchEvent(a),u("entryFocus",a),!a.defaultPrevented)if(N.value)z(N.value);else{const e=U()?.[0];z(e)}},changeHighlight:z,onKeydownEnter:function(e){O.value&&O.value.isConnected&&(e.preventDefault(),e.stopPropagation(),I.value||O.value.click())},onKeydownNavigation:H,onKeydownTypeAhead:function(e){if(F.value){if(D.value=!0,E.value)$.trigger(e);else{const a=e.altKey||e.ctrlKey||e.metaKey;if(a&&"a"===e.key&&i.value){const a=b(),t=a.map(e=>e.value);j.value=[...t],e.preventDefault(),z(a[a.length-1].ref)}else if(!a){const a=x(e.key,b());a&&z(a)}}setTimeout(()=>{D.value=!1},1)}},onCompositionStart:function(){I.value=!0},onCompositionEnd:function(){V(()=>{I.value=!1})},highlightFirstItem:L}),(e,a)=>(d(),s(t(_),{ref_key:"primitiveElement",ref:k,as:e.as,"as-child":e.asChild,dir:t(A),"data-disabled":t(m)?"":void 0,onPointerleave:K,onFocusout:a[0]||(a[0]=async e=>{const a=e.relatedTarget||e.target;await V(),O.value&&t(w)&&!t(w).contains(a)&&K(e)})},{default:g(()=>[y(e.$slots,"default",{modelValue:t(j)}),t(B)&&e.name?(d(),s(t(Ia),{key:0,name:e.name,value:t(j),disabled:t(m),required:e.required},null,8,["name","value","disabled","required"])):n("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Za=l({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const{CollectionSlot:a}=xa(),l=Ga(),o=S(!1,10);return(e,r)=>(d(),s(t(a),null,{default:g(()=>[k(t(_),{role:"listbox",as:e.as,"as-child":e.asChild,tabindex:t(l).focusable.value?t(l).highlightedElement.value?"-1":"0":"-1","aria-orientation":t(l).orientation.value,"aria-multiselectable":!!t(l).multiple.value,"data-orientation":t(l).orientation.value,onMousedown:r[0]||(r[0]=b(e=>o.value=!0,["left"])),onFocus:r[1]||(r[1]=e=>{t(o)||t(l).onEnter(e)}),onKeydown:[r[2]||(r[2]=h(e=>{("vertical"!==t(l).orientation.value||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key)&&("horizontal"!==t(l).orientation.value||"ArrowUp"!==e.key&&"ArrowDown"!==e.key)&&(e.preventDefault(),t(l).focusable.value&&t(l).onKeydownNavigation(e))},["down","up","left","right","home","end"])),h(t(l).onKeydownEnter,["enter"]),t(l).onKeydownTypeAhead]},{default:g(()=>[y(e.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),Qa=l({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(e,{emit:l}){const o=e,r=f(o,"modelValue",l,{defaultValue:"",passive:void 0===o.modelValue}),u=Ga(),{primitiveElement:i,currentElement:n}=ba(),c=a(()=>o.disabled||u.disabled.value||!1),p=C();return A(()=>p.value=u.highlightedElement.value?.id),B(()=>{u.focusable.value=!1,setTimeout(()=>{o.autoFocus&&n.value?.focus()},1)}),P(()=>{u.focusable.value=!0}),(e,a)=>(d(),s(t(_),{ref_key:"primitiveElement",ref:i,as:e.as,"as-child":e.asChild,value:t(r),disabled:c.value?"":void 0,"data-disabled":c.value?"":void 0,"aria-disabled":c.value??void 0,"aria-activedescendant":p.value,type:"text",onKeydown:[h(b(t(u).onKeydownNavigation,["prevent"]),["down","up","home","end"]),h(t(u).onKeydownEnter,["enter"])],onInput:a[0]||(a[0]=e=>{r.value=e.target.value,t(u).highlightFirstItem()}),onCompositionstart:t(u).onCompositionStart,onCompositionend:t(u).onCompositionEnd},{default:g(()=>[y(e.$slots,"default",{modelValue:t(r)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}});const[Xa,Ya]=m("ListboxGroup");var et=l({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e,l=D(void 0,"reka-listbox-group");return Ya({id:l}),(e,o)=>(d(),s(t(_),r({role:"group"},a,{"aria-labelledby":t(l)}),{default:g(()=>[y(e.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),at=l({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const a=e,l=Xa({id:""});return(e,o)=>(d(),s(t(_),r(a,{id:t(l).id}),{default:g(()=>[y(e.$slots,"default")]),_:3},16,["id"]))}});const[tt,lt]=m("ListboxItem");var ot=l({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(e,{emit:l}){const o=e,u=l,i=D(void 0,"reka-listbox-item"),{CollectionItem:n}=xa(),{forwardRef:c,currentElement:p}=v(),m=Ga(),f=a(()=>p.value===m.highlightedElement.value),x=a(()=>{return e=m.modelValue.value,a=o.value,t=m.by,void 0!==e&&(Array.isArray(e)?e.some(e=>Ha(e,a,t)):Ha(e,a,t));var e,a,t}),w=a(()=>m.disabled.value||o.disabled);async function q(e){u("select",e),e?.defaultPrevented||!w.value&&e&&(m.onValueChange(o.value),m.changeHighlight(p.value))}function C(e){const a={originalEvent:e,value:o.value};j("listbox.select",q,a)}return lt({isSelected:x}),(e,a)=>(d(),s(t(n),{value:e.value},{default:g(()=>[F([f.value,x.value],()=>k(t(_),r({id:t(i)},e.$attrs,{ref:t(c),role:"option",tabindex:t(m).focusable.value?f.value?"0":"-1":-1,"aria-selected":x.value,as:e.as,"as-child":e.asChild,disabled:w.value?"":void 0,"data-disabled":w.value?"":void 0,"data-highlighted":f.value?"":void 0,"data-state":x.value?"checked":"unchecked",onClick:C,onKeydown:h(b(C,["prevent"]),["space"]),onPointermove:a[0]||(a[0]=()=>{t(m).highlightedElement.value!==t(p)&&t(m).highlightOnHover.value&&!t(m).focusable.value&&t(m).changeHighlight(t(p),!1)})}),{default:g(()=>[y(e.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),a,1)]),_:3},8,["value"]))}});const[st,dt]=m("PopoverRoot");var rt=l({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(e,{emit:a}){const l=e,o=a,{modal:r}=q(l),u=f(l,"open",o,{defaultValue:l.defaultOpen,passive:void 0===l.open}),i=C(),n=C(!1);return dt({contentId:"",triggerId:"",modal:r,open:u,onOpenChange:e=>{u.value=e},onOpenToggle:()=>{u.value=!u.value},triggerElement:i,hasCustomAnchor:n}),(e,a)=>(d(),s(t(O),null,{default:g(()=>[y(e.$slots,"default",{open:t(u),close:()=>u.value=!1})]),_:3}))}}),ut=l({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const l=a,o=N(E(e,"trapFocus","disableOutsidePointerEvents")),{forwardRef:u}=v(),i=st();return Oe(),(e,a)=>(d(),s(t(Le),{"as-child":"",loop:"",trapped:e.trapFocus,onMountAutoFocus:a[5]||(a[5]=e=>l("openAutoFocus",e)),onUnmountAutoFocus:a[6]||(a[6]=e=>l("closeAutoFocus",e))},{default:g(()=>[k(t(I),{"as-child":"","disable-outside-pointer-events":e.disableOutsidePointerEvents,onPointerDownOutside:a[0]||(a[0]=e=>l("pointerDownOutside",e)),onInteractOutside:a[1]||(a[1]=e=>l("interactOutside",e)),onEscapeKeyDown:a[2]||(a[2]=e=>l("escapeKeyDown",e)),onFocusOutside:a[3]||(a[3]=e=>l("focusOutside",e)),onDismiss:a[4]||(a[4]=e=>t(i).onOpenChange(!1))},{default:g(()=>[k(t(T),r(t(o),{id:t(i).contentId,ref:t(u),"data-state":t(i).open.value?"open":"closed","aria-labelledby":t(i).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:g(()=>[y(e.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),it=l({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const l=e,o=a,u=st(),i=C(!1);Ke(!0);const n=$(l,o),{forwardRef:c,currentElement:p}=v();return He(p),(e,a)=>(d(),s(ut,r(t(n),{ref:t(c),"trap-focus":t(u).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:a[0]||(a[0]=b(e=>{o("closeAutoFocus",e),i.value||t(u).triggerElement.value?.focus()},["prevent"])),onPointerDownOutside:a[1]||(a[1]=e=>{o("pointerDownOutside",e);const a=e.detail.originalEvent,t=0===a.button&&!0===a.ctrlKey,l=2===a.button||t;i.value=l}),onFocusOutside:a[2]||(a[2]=b(()=>{},["prevent"]))}),{default:g(()=>[y(e.$slots,"default")]),_:3},16,["trap-focus"]))}}),nt=l({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const l=e,o=a,u=st(),i=C(!1),n=C(!1),c=$(l,o);return(e,a)=>(d(),s(ut,r(t(c),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:a[0]||(a[0]=e=>{o("closeAutoFocus",e),e.defaultPrevented||(i.value||t(u).triggerElement.value?.focus(),e.preventDefault()),i.value=!1,n.value=!1}),onInteractOutside:a[1]||(a[1]=async e=>{o("interactOutside",e),e.defaultPrevented||(i.value=!0,"pointerdown"===e.detail.originalEvent.type&&(n.value=!0));const a=e.target,l=t(u).triggerElement.value?.contains(a);l&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&n.value&&e.preventDefault()})}),{default:g(()=>[y(e.$slots,"default")]),_:3},16))}}),ct=l({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const l=e,o=a,u=st(),i=$(l,o),{forwardRef:n}=v();return u.contentId||=D(void 0,"reka-popover-content"),(e,a)=>(d(),s(t(w),{present:e.forceMount||t(u).open.value},{default:g(()=>[t(u).modal.value?(d(),s(it,r({key:0},t(i),{ref:t(n)}),{default:g(()=>[y(e.$slots,"default")]),_:3},16)):(d(),s(nt,r({key:1},t(i),{ref:t(n)}),{default:g(()=>[y(e.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),pt=l({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const a=e;return(e,l)=>(d(),s(t(z),R(U(a)),{default:g(()=>[y(e.$slots,"default")]),_:3},16))}}),mt=l({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const a=e,l=st(),{forwardRef:o,currentElement:r}=v();return l.triggerId||=D(void 0,"reka-popover-trigger"),B(()=>{l.triggerElement.value=r.value}),(e,r)=>(d(),s(x(t(l).hasCustomAnchor.value?t(_):t(L)),{"as-child":""},{default:g(()=>[k(t(_),{id:t(l).triggerId,ref:t(o),type:"button"===e.as?"button":void 0,"aria-haspopup":"dialog","aria-expanded":t(l).open.value,"aria-controls":t(l).contentId,"data-state":t(l).open.value?"open":"closed",as:e.as,"as-child":a.asChild,onClick:t(l).onOpenToggle},{default:g(()=>[y(e.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}});const[vt,ft]=m("SwitchRoot");var gt=l({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:l}){const o=e,u=l,{disabled:i}=q(o),c=f(o,"modelValue",u,{defaultValue:o.defaultValue,passive:void 0===o.modelValue});function p(){i.value||(c.value=!c.value)}const{forwardRef:m,currentElement:x}=v(),k=Fe(x),w=a(()=>o.id&&x.value?document.querySelector(`[for="${o.id}"]`)?.innerText:void 0);return ft({modelValue:c,toggleCheck:p,disabled:i}),(e,a)=>(d(),s(t(_),r(e.$attrs,{id:e.id,ref:t(m),role:"switch",type:"button"===e.as?"button":void 0,value:e.value,"aria-label":e.$attrs["aria-label"]||w.value,"aria-checked":t(c),"aria-required":e.required,"data-state":t(c)?"checked":"unchecked","data-disabled":t(i)?"":void 0,"as-child":e.asChild,as:e.as,disabled:t(i),onClick:p,onKeydown:h(b(p,["prevent"]),["enter"])}),{default:g(()=>[y(e.$slots,"default",{modelValue:t(c)}),t(k)&&e.name?(d(),s(t(Ia),{key:0,type:"checkbox",name:e.name,disabled:t(i),required:e.required,value:e.value,checked:!!t(c)},null,8,["name","disabled","required","value","checked"])):n("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),yt=l({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const a=vt();return v(),(e,l)=>(d(),s(t(_),{"data-state":t(a).modelValue?.value?"checked":"unchecked","data-disabled":t(a).disabled.value?"":void 0,"as-child":e.asChild,as:e.as},{default:g(()=>[y(e.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}});const ht={__name:"Popover",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:a}){const l=$(e,a);return(e,a)=>(d(),s(t(rt),R(U(t(l))),{default:g(()=>[y(e.$slots,"default")]),_:3},16))}},bt=Object.assign({inheritAttrs:!1},{__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const l=e,o=a,u=K(l,"class"),i=$(u,o);return(e,a)=>(d(),s(t(pt),null,{default:g(()=>[k(t(ct),r({...t(i),...e.$attrs},{class:t(H)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.class)}),{default:g(()=>[y(e.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),xt={__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e;return(e,l)=>(d(),s(t(mt),R(U(a)),{default:g(()=>[y(e.$slots,"default")]),_:3},16))}},_t={class:"flex items-center justify-between w-full"},kt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-4"},wt={class:"relative md:col-span-1 lg:col-span-4"},qt={class:"md:col-span-1 lg:col-span-4"},Ct={class:"md:col-span-2 lg:col-span-4"},Vt={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-12 gap-4"},Mt={class:"md:col-span-1 lg:col-span-2"},St={class:"md:col-span-1 lg:col-span-2"},At={class:"md:col-span-1 lg:col-span-2"},Bt={class:"md:col-span-1 lg:col-span-2"},Pt={class:"md:col-span-1 lg:col-span-2"},Dt={class:"md:col-span-1 lg:col-span-2"},Ft={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-4"},jt={class:"md:col-span-1 lg:col-span-3"},Ot={class:"md:col-span-1 lg:col-span-3"},Nt={key:0,class:"text-muted-foreground"},Et={key:1,class:"truncate"},It={class:"p-2 border-b"},Tt={class:"max-h-60 overflow-y-auto p-1"},$t=["onClick"],Rt={class:"flex-1 text-sm"},Ut={key:1,class:"p-4 text-sm text-center text-muted-foreground"},zt={key:0,class:"flex flex-wrap gap-2"},Lt={key:1,class:"flex items-center gap-2 rounded-lg border bg-background px-4 py-3 text-sm"},Kt={__name:"MetadadosFilters",setup(e){const l=G(),r=W(),u=J(),m=C({busca:l.filters.busca||"",unidade:l.filters.unidade||"",tipoDocumento:l.filters.tipoDocumento||"",tipoMetadados:l.filters.tipoMetadados||"",classeProcessual:l.filters.classeProcessual||"",metadadoDeProcesso:l.filters.metadadoDeProcesso||"",versaoInicialAtende:l.filters.versaoInicialAtende||"",formatoMetadado:l.filters.formatoMetadado||"",objetivoStatus:l.filters.objetivoStatus||"all",precisaRevisao:l.filters.precisaRevisao||"all",tags:l.filters.tags||[]}),v=C(!1),f=C(""),y=a(()=>{if(!f.value)return u.tagsOrdenadas;const e=f.value.toLowerCase();return u.tagsOrdenadas.filter(a=>a.name.toLowerCase().includes(e))});function h(){m.value.tags=[]}o(v,e=>{e||(f.value="")});const b=a(()=>["Todas",...r.unidadesAtivas]),x=a(()=>{const e=new Set;l.metadados.forEach(a=>{Array.isArray(a.tipoDocumento)?a.tipoDocumento.forEach(a=>{a&&e.add(a)}):a.tipoDocumento&&e.add(a.tipoDocumento)});return["Todos",...Array.from(e).sort((e,a)=>e.localeCompare(a,"pt-BR"))]}),_=a(()=>["Todos","Simples","Composto"]),w=a(()=>{const e=new Set;l.metadados.forEach(a=>{a.classeProcessual&&"Não informado"!==a.classeProcessual&&e.add(a.classeProcessual)});return["Todas","Não informado",...Array.from(e).sort((e,a)=>e.localeCompare(a,"pt-BR"))]}),q=a(()=>["Sim","Não","Parcialmente","Não especificado"]),V=a(()=>["Todos","Não especificado",...r.formatosMetadadoAtivos]),M=a(()=>!!(m.value.busca||m.value.unidade||m.value.tipoDocumento||m.value.tipoMetadados||m.value.classeProcessual||m.value.metadadoDeProcesso||m.value.versaoInicialAtende||m.value.formatoMetadado||"all"!==m.value.objetivoStatus||"all"!==m.value.precisaRevisao||m.value.tags&&m.value.tags.length>0)),S=a(()=>l.filteredMetadados.length);function A(){m.value={busca:"",unidade:"",tipoDocumento:"",tipoMetadados:"",classeProcessual:"",metadadoDeProcesso:"",versaoInicialAtende:"",formatoMetadado:"",objetivoStatus:"all",precisaRevisao:"all",tags:[]},l.clearFilters()}return o(m,e=>{l.filters.busca=e.busca||"",l.filters.unidade="Todas"===e.unidade?"":e.unidade||"",l.filters.tipoDocumento="Todos"===e.tipoDocumento?"":e.tipoDocumento||"",l.filters.tipoMetadados="Todos"===e.tipoMetadados?"":e.tipoMetadados||"",l.filters.classeProcessual="Todas"===e.classeProcessual?"":e.classeProcessual||"",l.filters.metadadoDeProcesso=e.metadadoDeProcesso||"",l.filters.versaoInicialAtende=e.versaoInicialAtende||"",l.filters.formatoMetadado="Todos"===e.formatoMetadado?"":e.formatoMetadado||"",l.filters.objetivoStatus=e.objetivoStatus||"all",l.filters.precisaRevisao="all"===e.precisaRevisao?"":e.precisaRevisao||"",l.filters.tags=e.tags||[],l.currentPage=1},{deep:!0}),(e,a)=>(d(),s(t(ke),null,{default:g(()=>[k(t(be),null,{default:g(()=>[Z("div",_t,[k(t(xe),{class:"flex items-center gap-2"},{default:g(()=>[k(t(Ge),{class:"w-5 h-5"}),a[23]||(a[23]=Q(" Filtros ",-1))]),_:1}),M.value?(d(),s(t(X),{key:0,variant:"ghost",size:"sm",onClick:A},{default:g(()=>[k(t(ea),{class:"w-4 h-4 mr-2"}),a[24]||(a[24]=Q(" Limpar Filtros ",-1))]),_:1})):n("",!0)])]),_:1}),k(t(_e),{class:"space-y-4"},{default:g(()=>[Z("div",kt,[Z("div",wt,[k(t(da),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),k(t(we),{modelValue:m.value.busca,"onUpdate:modelValue":a[0]||(a[0]=e=>m.value.busca=e),placeholder:"Nome, objetivo, observação...",class:"pl-9"},null,8,["modelValue"])]),Z("div",qt,[k(t(Ne),{modelValue:m.value.tipoDocumento,"onUpdate:modelValue":a[1]||(a[1]=e=>m.value.tipoDocumento=e)},{default:g(()=>[k(t(Ee),null,{default:g(()=>[k(t(Ie),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Tipo de Documento"})]),_:1}),k(t($e),null,{default:g(()=>[(d(!0),i(c,null,p(x.value,e=>(d(),s(t(Re),{key:e,value:e},{default:g(()=>[Q(Y(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),Z("div",Ct,[k(t(Ne),{modelValue:m.value.classeProcessual,"onUpdate:modelValue":a[2]||(a[2]=e=>m.value.classeProcessual=e)},{default:g(()=>[k(t(Ee),null,{default:g(()=>[k(t(Ue),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Classe Processual"})]),_:1}),k(t($e),null,{default:g(()=>[(d(!0),i(c,null,p(w.value,e=>(d(),s(t(Re),{key:e,value:e},{default:g(()=>[Q(Y(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),Z("div",Vt,[Z("div",Mt,[k(t(Ne),{modelValue:m.value.unidade,"onUpdate:modelValue":a[3]||(a[3]=e=>m.value.unidade=e)},{default:g(()=>[k(t(Ee),null,{default:g(()=>[k(t(ra),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Unidade"})]),_:1}),k(t($e),null,{default:g(()=>[(d(!0),i(c,null,p(b.value,e=>(d(),s(t(Re),{key:e,value:e},{default:g(()=>[Q(Y(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),Z("div",St,[k(t(Ne),{modelValue:m.value.tipoMetadados,"onUpdate:modelValue":a[4]||(a[4]=e=>m.value.tipoMetadados=e)},{default:g(()=>[k(t(Ee),null,{default:g(()=>[k(t(Fa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Tipo de Metadados"})]),_:1}),k(t($e),null,{default:g(()=>[(d(!0),i(c,null,p(_.value,e=>(d(),s(t(Re),{key:e,value:e},{default:g(()=>[Q(Y(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),Z("div",At,[k(t(Ne),{modelValue:m.value.metadadoDeProcesso,"onUpdate:modelValue":a[5]||(a[5]=e=>m.value.metadadoDeProcesso=e)},{default:g(()=>[k(t(Ee),null,{default:g(()=>[k(t(Ca),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Metadado de Processo"})]),_:1}),k(t($e),null,{default:g(()=>[k(t(Re),{value:"true"},{default:g(()=>[...a[25]||(a[25]=[Q("Sim",-1)])]),_:1}),k(t(Re),{value:"false"},{default:g(()=>[...a[26]||(a[26]=[Q("Não",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),Z("div",Bt,[k(t(Ne),{modelValue:m.value.versaoInicialAtende,"onUpdate:modelValue":a[6]||(a[6]=e=>m.value.versaoInicialAtende=e)},{default:g(()=>[k(t(Ee),null,{default:g(()=>[k(t(Ca),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Versão Inicial Atende"})]),_:1}),k(t($e),null,{default:g(()=>[(d(!0),i(c,null,p(q.value,e=>(d(),s(t(Re),{key:e,value:e},{default:g(()=>[Q(Y(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),Z("div",Pt,[k(t(Ne),{modelValue:m.value.formatoMetadado,"onUpdate:modelValue":a[7]||(a[7]=e=>m.value.formatoMetadado=e)},{default:g(()=>[k(t(Ee),null,{default:g(()=>[k(t(Oa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Formato"})]),_:1}),k(t($e),null,{default:g(()=>[(d(!0),i(c,null,p(V.value,e=>(d(),s(t(Re),{key:e,value:e},{default:g(()=>[Q(Y(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),Z("div",Dt,[k(t(Ne),{modelValue:m.value.precisaRevisao,"onUpdate:modelValue":a[8]||(a[8]=e=>m.value.precisaRevisao=e)},{default:g(()=>[k(t(Ee),null,{default:g(()=>[k(t(Sa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Status de Revisão"})]),_:1}),k(t($e),null,{default:g(()=>[k(t(Re),{value:"all"},{default:g(()=>[...a[27]||(a[27]=[Q("Todos",-1)])]),_:1}),k(t(Re),{value:"true"},{default:g(()=>[...a[28]||(a[28]=[Q("Precisa Revisão",-1)])]),_:1}),k(t(Re),{value:"false"},{default:g(()=>[...a[29]||(a[29]=[Q("Revisados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),Z("div",Ft,[Z("div",jt,[k(t(Ne),{modelValue:m.value.objetivoStatus,"onUpdate:modelValue":a[9]||(a[9]=e=>m.value.objetivoStatus=e)},{default:g(()=>[k(t(Ee),null,{default:g(()=>[k(t(Ca),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Status do Objetivo"})]),_:1}),k(t($e),null,{default:g(()=>[k(t(Re),{value:"all"},{default:g(()=>[...a[30]||(a[30]=[Q("Todos",-1)])]),_:1}),k(t(Re),{value:"defined"},{default:g(()=>[...a[31]||(a[31]=[Q("Apenas com objetivo definido",-1)])]),_:1}),k(t(Re),{value:"undefined"},{default:g(()=>[...a[32]||(a[32]=[Q("Apenas sem objetivo (não informado)",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),Z("div",Ot,[k(t(ht),{open:v.value,"onUpdate:open":a[11]||(a[11]=e=>v.value=e)},{default:g(()=>[k(t(xt),{"as-child":""},{default:g(()=>[k(t(X),{variant:"outline",role:"combobox",class:"w-full justify-between font-normal"},{default:g(()=>[k(t(ua),{class:"w-4 h-4 mr-2 text-muted-foreground"}),0===m.value.tags.length?(d(),i("span",Nt," Filtrar por tags ")):(d(),i("span",Et,Y(m.value.tags.length)+" tag(s) selecionada(s) ",1)),k(t(qa),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1})]),_:1}),k(t(bt),{class:"w-full p-0",align:"start"},{default:g(()=>[Z("div",It,[k(t(we),{modelValue:f.value,"onUpdate:modelValue":a[10]||(a[10]=e=>f.value=e),placeholder:"Filtrar tags...",class:"h-9"},null,8,["modelValue"])]),Z("div",Tt,[m.value.tags.length>0?(d(),i("div",{key:0,class:"flex items-center space-x-2 rounded-sm px-2 py-1.5 cursor-pointer hover:bg-accent mb-1",onClick:h},[k(t(ea),{class:"h-4 w-4 text-muted-foreground"}),a[33]||(a[33]=Z("span",{class:"flex-1 text-sm text-muted-foreground"},"Limpar filtro de tags",-1))])):n("",!0),(d(!0),i(c,null,p(y.value,e=>(d(),i("div",{key:e.id,class:"flex items-center space-x-2 rounded-sm px-2 py-1.5 cursor-pointer hover:bg-accent",onClick:a=>function(e){const a=m.value.tags.indexOf(e);m.value.tags=-1===a?[...m.value.tags,e]:m.value.tags.filter(a=>a!==e)}(e.name)},[Z("div",{class:ee(["h-4 w-4 shrink-0 rounded-sm border border-primary shadow grid place-content-center",m.value.tags.includes(e.name)?"bg-primary text-primary-foreground":""])},[m.value.tags.includes(e.name)?(d(),s(t(ze),{key:0,class:"h-4 w-4"})):n("",!0)],2),Z("span",Rt,Y(e.name),1)],8,$t))),128)),0===y.value.length?(d(),i("div",Ut," Nenhuma tag encontrada ")):n("",!0)])]),_:1})]),_:1},8,["open"])])]),M.value?(d(),i("div",zt,[m.value.unidade?(d(),s(t(ae),{key:0,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(ra),{class:"w-3 h-3"}),Q(" "+Y(m.value.unidade)+" ",1),Z("button",{onClick:a[12]||(a[12]=e=>m.value.unidade=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0),m.value.tipoDocumento?(d(),s(t(ae),{key:1,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(Ie),{class:"w-3 h-3"}),Q(" "+Y(m.value.tipoDocumento)+" ",1),Z("button",{onClick:a[13]||(a[13]=e=>m.value.tipoDocumento=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0),m.value.tipoMetadados?(d(),s(t(ae),{key:2,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(Fa),{class:"w-3 h-3"}),Q(" "+Y(m.value.tipoMetadados)+" ",1),Z("button",{onClick:a[14]||(a[14]=e=>m.value.tipoMetadados=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0),m.value.busca?(d(),s(t(ae),{key:3,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(da),{class:"w-3 h-3"}),Q(' "'+Y(m.value.busca)+'" ',1),Z("button",{onClick:a[15]||(a[15]=e=>m.value.busca=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0),m.value.classeProcessual?(d(),s(t(ae),{key:4,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(Ue),{class:"w-3 h-3"}),Q(" "+Y(m.value.classeProcessual)+" ",1),Z("button",{onClick:a[16]||(a[16]=e=>m.value.classeProcessual=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0),m.value.metadadoDeProcesso?(d(),s(t(ae),{key:5,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(Ca),{class:"w-3 h-3"}),Q(" Processo: "+Y("true"===m.value.metadadoDeProcesso?"Sim":"Não")+" ",1),Z("button",{onClick:a[17]||(a[17]=e=>m.value.metadadoDeProcesso=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0),m.value.versaoInicialAtende?(d(),s(t(ae),{key:6,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(Ca),{class:"w-3 h-3"}),Q(" Versão: "+Y(m.value.versaoInicialAtende)+" ",1),Z("button",{onClick:a[18]||(a[18]=e=>m.value.versaoInicialAtende=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0),m.value.formatoMetadado?(d(),s(t(ae),{key:7,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(Oa),{class:"w-3 h-3"}),Q(" "+Y(m.value.formatoMetadado)+" ",1),Z("button",{onClick:a[19]||(a[19]=e=>m.value.formatoMetadado=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0),"all"!==m.value.objetivoStatus?(d(),s(t(ae),{key:8,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(Ca),{class:"w-3 h-3"}),Q(" Objetivo: "+Y("defined"===m.value.objetivoStatus?"Com objetivo":"Sem objetivo")+" ",1),Z("button",{onClick:a[20]||(a[20]=e=>m.value.objetivoStatus="all"),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0),m.value.precisaRevisao?(d(),s(t(ae),{key:9,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(Sa),{class:"w-3 h-3"}),Q(" Revisão: "+Y("true"===m.value.precisaRevisao?"Precisa Revisão":"Revisados")+" ",1),Z("button",{onClick:a[21]||(a[21]=e=>m.value.precisaRevisao=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0),m.value.tags&&m.value.tags.length>0?(d(),s(t(ae),{key:10,variant:"default",class:"flex items-center gap-1 pr-1"},{default:g(()=>[k(t(ua),{class:"w-3 h-3"}),Q(" Tags: "+Y(m.value.tags.length)+" ",1),Z("button",{onClick:a[22]||(a[22]=e=>m.value.tags=[]),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[k(t(ea),{class:"w-3 h-3"})])]),_:1})):n("",!0)])):n("",!0),null!==S.value?(d(),i("div",Lt,[k(t(ia),{class:"w-4 h-4 text-foreground shrink-0"}),Z("span",null,Y(S.value)+" "+Y(1===S.value?"registro encontrado":"registros encontrados"),1)])):n("",!0)]),_:1})]),_:1}))}},Ht=["checked","disabled"],Gt={__name:"CheckboxNative",props:{modelValue:{type:[Boolean,Array],default:!1},value:{type:[String,Number,Boolean],default:null},disabled:{type:Boolean,default:!1},class:{type:String,default:""},checked:{type:[Boolean,Array],default:void 0}},emits:["update:modelValue","update:checked"],setup(e,{emit:l}){const o=e,r=l,u=a(()=>{const e=void 0!==o.checked?o.checked:o.modelValue;return Array.isArray(e)?null!==o.value&&e.includes(o.value):Boolean(e)}),c=a(()=>o.class);function p(e){const a=e.target.checked,t=void 0!==o.checked?o.checked:o.modelValue;if(Array.isArray(t)){const e=[...t],l=e.indexOf(o.value);a&&-1===l?e.push(o.value):!a&&l>-1&&e.splice(l,1),r("update:modelValue",e),void 0!==o.checked&&r("update:checked",e)}else r("update:modelValue",a),void 0!==o.checked&&r("update:checked",a)}return(a,l)=>(d(),i("label",{class:ee(["inline-flex items-center justify-center relative cursor-pointer",{"cursor-not-allowed":e.disabled}])},[Z("input",{type:"checkbox",checked:u.value,disabled:e.disabled,onChange:p,class:"sr-only peer"},null,40,Ht),Z("span",{class:ee(["grid place-content-center h-4 w-4 shrink-0 rounded-sm border border-primary shadow transition-colors duration-200 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring peer-disabled:cursor-not-allowed peer-disabled:opacity-50",[u.value?"bg-primary text-primary-foreground":"bg-background",c.value]])},[u.value?(d(),s(t(ze),{key:0,class:"h-4 w-4 text-current"})):n("",!0)],2)],2))}},Wt={class:"text-sm font-normal text-muted-foreground"},Jt={class:"relative flex items-center justify-center min-h-[400px] max-h-[60vh] bg-muted rounded-lg overflow-hidden"},Zt=["src","alt"],Qt={class:"grid grid-cols-3 gap-4 py-2 text-sm"},Xt=["title"],Yt={class:"font-medium"},el={class:"font-medium"},al=["onClick"],tl=["src","alt"],ll={__name:"ImageGalleryModal",props:{images:{type:Array,required:!0,default:()=>[]},initialIndex:{type:Number,default:0},open:{type:Boolean,default:!1}},emits:["update:open"],setup(e){const l=e,r=C(0),u=C(null),m=a(()=>0===l.images.length?null:l.images[r.value]||null);function v(){r.value>0&&(r.value--,y(r.value))}function f(){r.value<l.images.length-1&&(r.value++,y(r.value))}function y(e){if(!u.value)return;const a=u.value.children;a[e]&&a[e].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}function h(e){if(l.open)switch(e.key){case"ArrowLeft":e.preventDefault(),v();break;case"ArrowRight":e.preventDefault(),f();break;case"Escape":e.preventDefault()}}function b(e){if(!e)return"—";try{return new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"—"}}function x(){if(!m.value)return;const e=document.createElement("a");e.href=m.value.data,e.download=m.value.name,e.click()}return o(()=>l.open,e=>{e&&(r.value=Math.min(l.initialIndex,l.images.length-1),V(()=>{y(r.value)}))}),o(()=>l.open,e=>{e?window.addEventListener("keydown",h):window.removeEventListener("keydown",h)}),(a,l)=>(d(),s(t(sa),{open:e.open,"onUpdate:open":l[1]||(l[1]=e=>a.$emit("update:open",e))},{default:g(()=>[k(t(aa),{class:"max-w-5xl max-h-[95vh] overflow-hidden"},{default:g(()=>{return[k(t(ta),null,{default:g(()=>[k(t(la),{class:"flex items-center justify-between"},{default:g(()=>[Z("span",null," Imagem "+Y(r.value+1)+" de "+Y(e.images.length),1),Z("span",Wt,Y(m.value?.name),1)]),_:1})]),_:1}),Z("div",Jt,[m.value?(d(),i("img",{key:0,src:m.value.data,alt:m.value.name,class:"max-h-full max-w-full object-contain"},null,8,Zt)):n("",!0),e.images.length>1?(d(),i(c,{key:1},[k(t(X),{variant:"secondary",size:"icon",class:"absolute left-4 top-1/2 -translate-y-1/2 shadow-lg",onClick:v,disabled:0===r.value},{default:g(()=>[k(t(wa),{class:"w-5 h-5"})]),_:1},8,["disabled"]),k(t(X),{variant:"secondary",size:"icon",class:"absolute right-4 top-1/2 -translate-y-1/2 shadow-lg",onClick:f,disabled:r.value===e.images.length-1},{default:g(()=>[k(t(ha),{class:"w-5 h-5"})]),_:1},8,["disabled"])],64)):n("",!0),k(t(ae),{variant:"secondary",class:"absolute top-4 left-4 text-sm"},{default:g(()=>[Q(Y(r.value+1)+" / "+Y(e.images.length),1)]),_:1})]),Z("div",Qt,[Z("div",null,[l[2]||(l[2]=Z("p",{class:"text-muted-foreground"},"Nome",-1)),Z("p",{class:"font-medium truncate",title:m.value?.name},Y(m.value?.name),9,Xt)]),Z("div",null,[l[3]||(l[3]=Z("p",{class:"text-muted-foreground"},"Tamanho",-1)),Z("p",Yt,Y((o=m.value?.size,te(o||0))),1)]),Z("div",null,[l[4]||(l[4]=Z("p",{class:"text-muted-foreground"},"Upload",-1)),Z("p",el,Y(b(m.value?.uploadedAt)),1)])]),k(t(ga)),e.images.length>1?(d(),i("div",{key:0,class:"flex gap-2 overflow-x-auto pb-2 scroll-smooth",ref_key:"thumbnailsContainer",ref:u},[(d(!0),i(c,null,p(e.images,(e,a)=>(d(),i("button",{key:e.id,onClick:e=>{return t=a,r.value=t,void y(t);var t},class:ee(["flex-shrink-0 h-20 w-20 rounded overflow-hidden border-2 transition-all hover:opacity-80",{"border-primary ring-2 ring-primary ring-offset-2":a===r.value,"border-border":a!==r.value}])},[Z("img",{src:e.data,alt:e.name,class:"h-full w-full object-cover"},null,8,tl)],10,al))),128))],512)):n("",!0),k(t(oa),{class:"flex-col sm:flex-row gap-2"},{default:g(()=>[k(t(X),{variant:"outline",onClick:x},{default:g(()=>[k(t(ya),{class:"w-4 h-4 mr-2"}),l[5]||(l[5]=Q(" Download ",-1))]),_:1}),k(t(X),{onClick:l[0]||(l[0]=e=>a.$emit("update:open",!1))},{default:g(()=>[...l[6]||(l[6]=[Q(" Fechar ",-1)])]),_:1})]),_:1})];var o}),_:1})]),_:1},8,["open"]))}},ol={class:"space-y-4"},sl={class:"relative overflow-x-auto"},dl={class:"flex flex-col items-center justify-center text-center"},rl=["onClick"],ul={class:"flex items-center gap-1"},il={class:"text-sm"},nl={class:"text-sm"},cl={class:"flex flex-wrap gap-1"},pl={class:"flex items-center gap-2"},ml={class:"text-sm"},vl={key:2,class:"text-muted-foreground text-sm"},fl={key:1,class:"text-muted-foreground text-sm"},gl={class:"flex flex-wrap gap-1"},yl={key:0,class:"text-muted-foreground text-xs"},hl={class:"flex items-center justify-center gap-1"},bl={key:0,class:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50"},xl={class:"font-medium"},_l={key:0,class:"space-y-4 py-4"},kl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},wl={class:"space-y-2"},ql={class:"p-3 bg-muted rounded-md text-sm"},Cl={class:"space-y-2"},Vl={class:"p-3 bg-muted rounded-md text-sm"},Ml={class:"space-y-2"},Sl={class:"p-3 bg-muted rounded-md text-sm"},Al={class:"space-y-2"},Bl={class:"p-3 bg-muted rounded-md"},Pl={class:"flex flex-wrap gap-2"},Dl={class:"space-y-2"},Fl={class:"p-3 bg-muted rounded-md text-sm font-medium"},jl={key:0,class:"space-y-2"},Ol={class:"p-3 bg-muted rounded-md text-sm whitespace-pre-wrap"},Nl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},El={class:"space-y-2"},Il={class:"p-3 bg-muted rounded-md text-sm"},Tl={class:"space-y-2"},$l={class:"p-3 bg-muted rounded-md text-sm"},Rl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ul={class:"space-y-2"},zl={class:"p-3 bg-muted rounded-md text-sm"},Ll={class:"space-y-2"},Kl={class:"p-3 bg-muted rounded-md text-sm"},Hl={key:1,class:"space-y-2"},Gl={class:"p-3 bg-muted rounded-md text-sm whitespace-pre-wrap"},Wl={key:2,class:"space-y-2"},Jl={class:"p-3 bg-muted rounded-md"},Zl={class:"flex flex-wrap gap-2"},Ql={class:"space-y-4"},Xl={key:0,class:"text-sm"},Yl={class:"text-destructive"},eo=le({__name:"MetadadosTable",emits:["edit","duplicate","toggle-review","toggle-selection","select-all","clear-selection","compare"],setup(e,{emit:l}){const o=G(),{selectedForComparison:r}=oe(o),u=l,m=C(!1),v=C(null),f=C(!1),y=C(null),h=C(!1),_=C([]),w=a(()=>r.value.length<5),q=a(()=>r.value.length),V=a({get(){if(0===o.filteredMetadados.length)return!1;const e=o.filteredMetadados.slice(0,5);return e.length>0&&e.every(e=>r.value.includes(e.id))},set(e){if(e){const e=o.filteredMetadados.slice(0,5).map(e=>e.id);o.selectMultiple(e)}else o.clearSelection()}});function M(e){let a=[];if(Array.isArray(e))a=[...e];else if(e){const t=String(e);a=t.includes(";")?t.split(";").map(e=>e.trim()).filter(e=>e):t.includes(",")?t.split(",").map(e=>e.trim()).filter(e=>e):[t]}return a.sort((e,a)=>e.localeCompare(a,"pt-BR"))}function S(e){if(!e||"Não informado"===e)return"-";return e.split(" ")[0]||"-"}function A(e){if(!e||"Não informado"===e)return"";const a=e.split(" ");return a.shift(),a.join(" ")}function B(e){switch(e){case"Sim":return"default";case"Não":return"destructive";case"Parcialmente":return"secondary";default:return"outline"}}async function P(){try{await o.deleteMetadado(y.value.id),me.success(`Metadado "${y.value.nomeMetadado}" excluído com sucesso`),f.value=!1,y.value=null}catch(e){me.error("Erro ao excluir metadado(s)")}}return(e,a)=>(d(),i("div",ol,[k(t(ke),null,{default:g(()=>[k(t(_e),{class:"p-0"},{default:g(()=>[Z("div",sl,[k(t(qe),null,{default:g(()=>[k(t(Ce),null,{default:g(()=>[k(t(Ve),null,{default:g(()=>[k(t(Me),{class:"w-12"},{default:g(()=>[k(Gt,{checked:V.value,"onUpdate:checked":a[0]||(a[0]=e=>V.value=e)},null,8,["checked"])]),_:1}),k(t(Me),{class:"w-20 text-center"},{default:g(()=>[...a[13]||(a[13]=[Q("Revisão",-1)])]),_:1}),k(t(Me),null,{default:g(()=>[...a[14]||(a[14]=[Q("Unidade",-1)])]),_:1}),k(t(Me),null,{default:g(()=>[...a[15]||(a[15]=[Q("Classe",-1)])]),_:1}),k(t(Me),null,{default:g(()=>[...a[16]||(a[16]=[Q("Tipo Documento",-1)])]),_:1}),k(t(Me),null,{default:g(()=>[...a[17]||(a[17]=[Q("Nome Metadado",-1)])]),_:1}),k(t(Me),null,{default:g(()=>[...a[18]||(a[18]=[Q("Formato",-1)])]),_:1}),k(t(Me),null,{default:g(()=>[...a[19]||(a[19]=[Q("Tipo",-1)])]),_:1}),k(t(Me),{class:"text-center"},{default:g(()=>[...a[20]||(a[20]=[Q("Processo?",-1)])]),_:1}),k(t(Me),{class:"text-center"},{default:g(()=>[...a[21]||(a[21]=[Q("Múltiplos?",-1)])]),_:1}),k(t(Me),null,{default:g(()=>[...a[22]||(a[22]=[Q("Versão Inicial",-1)])]),_:1}),k(t(Me),{class:"text-center"},{default:g(()=>[...a[23]||(a[23]=[Q("Imagens",-1)])]),_:1}),k(t(Me),null,{default:g(()=>[...a[24]||(a[24]=[Q("Tags",-1)])]),_:1}),k(t(Me),{class:"text-center"},{default:g(()=>[...a[25]||(a[25]=[Q("Ações",-1)])]),_:1})]),_:1})]),_:1}),t(o).loading?(d(),s(t(Se),{key:0},{default:g(()=>[(d(),i(c,null,p(5,e=>k(t(Ve),{key:e},{default:g(()=>[(d(),i(c,null,p(14,e=>k(t(Ae),{key:e},{default:g(()=>[...a[26]||(a[26]=[Z("div",{class:"h-4 bg-muted animate-pulse rounded"},null,-1)])]),_:1})),64))]),_:1})),64))]),_:1})):0===t(o).filteredMetadados.length?(d(),s(t(Se),{key:1},{default:g(()=>[k(t(Ve),null,{default:g(()=>[k(t(Ae),{colspan:14,class:"h-32"},{default:g(()=>[Z("div",dl,[k(t(se),{class:"w-12 h-12 text-muted-foreground mb-3"}),a[27]||(a[27]=Z("h3",{class:"text-lg font-semibold mb-1"},"Nenhum metadado encontrado",-1)),a[28]||(a[28]=Z("p",{class:"text-sm text-muted-foreground"}," Adicione o primeiro metadado clicando no botão acima ",-1))])]),_:1})]),_:1})]),_:1})):(d(),s(t(Se),{key:2},{default:g(()=>[(d(!0),i(c,null,p(t(o).filteredMetadados,e=>(d(),s(t(Ve),{key:e.id,class:"hover:bg-muted/50 cursor-pointer",onClick:a=>function(e){v.value=e,m.value=!0}(e)},{default:g(()=>[k(t(Ae),{onClick:a[2]||(a[2]=b(()=>{},["stop"]))},{default:g(()=>[k(Gt,{modelValue:t(r),"onUpdate:modelValue":a[1]||(a[1]=e=>de(r)?r.value=e:null),value:e.id,disabled:!t(r).includes(e.id)&&!w.value,class:ee({"opacity-50":!t(r).includes(e.id)&&!w.value})},null,8,["modelValue","value","disabled","class"])]),_:2},1024),k(t(Ae),{class:"text-center",onClick:a[3]||(a[3]=b(()=>{},["stop"]))},{default:g(()=>[k(t(re),null,{default:g(()=>[k(t(ue),null,{default:g(()=>[k(t(ie),{"as-child":""},{default:g(()=>[Z("button",{onClick:a=>u("toggle-review",e.id),class:ee(["transition-transform hover:scale-110",e.precisaRevisao?"text-amber-500 dark:text-amber-400":"text-gray-400 dark:text-gray-600"])},[k(t(Sa),{size:18})],10,rl)]),_:2},1024),k(t(ne),null,{default:g(()=>[Q(Y(e.precisaRevisao?"Desmarcar revisão":"Marcar para revisão"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),k(t(Ae),null,{default:g(()=>[Q(Y(e.unidade),1)]),_:2},1024),k(t(Ae),null,{default:g(()=>[Z("div",ul,[Z("span",il,Y(S(e.classeProcessual)),1),A(e.classeProcessual)?(d(),s(t(re),{key:0},{default:g(()=>[k(t(ue),null,{default:g(()=>[k(t(ie),{"as-child":""},{default:g(()=>[k(t(ia),{class:"w-4 h-4 flex-shrink-0 text-muted-foreground cursor-help"})]),_:1}),k(t(ne),{class:"max-w-xs"},{default:g(()=>[Z("p",nl,Y(A(e.classeProcessual)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):n("",!0)])]),_:2},1024),k(t(Ae),null,{default:g(()=>[Z("div",cl,[(d(!0),i(c,null,p(M(e.tipoDocumento),(e,a)=>(d(),s(t(ae),{key:a,variant:"secondary",class:"text-xs"},{default:g(()=>[Q(Y(e),1)]),_:2},1024))),128))])]),_:2},1024),k(t(Ae),{class:"font-medium"},{default:g(()=>[Z("div",pl,[e.objetivoNaoInformado?(d(),s(t(re),{key:0},{default:g(()=>[k(t(ue),null,{default:g(()=>[k(t(ie),{"as-child":""},{default:g(()=>[k(t(ia),{class:"w-4 h-4 flex-shrink-0 text-destructive cursor-help"})]),_:1}),k(t(ne),null,{default:g(()=>[...a[29]||(a[29]=[Z("p",{class:"text-sm"},"Objetivo não informado",-1)])]),_:1})]),_:1})]),_:1})):e.objetivoMetadado?(d(),s(t(re),{key:1},{default:g(()=>[k(t(ue),null,{default:g(()=>[k(t(ie),{"as-child":""},{default:g(()=>[k(t(ia),{class:"w-4 h-4 flex-shrink-0 text-muted-foreground cursor-help"})]),_:1}),k(t(ne),{class:"max-w-xs"},{default:g(()=>[Z("p",ml,Y(e.objetivoMetadado),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(d(),i("span",vl,"-")),Z("span",null,Y(e.nomeMetadado),1)])]),_:2},1024),k(t(Ae),null,{default:g(()=>[Q(Y(e.formatoMetadado||"-"),1)]),_:2},1024),k(t(Ae),null,{default:g(()=>[k(t(ae),{variant:"Simples"===e.tipoMetadados?"default":"outline"},{default:g(()=>[Q(Y(e.tipoMetadados||"Não especificado"),1)]),_:2},1032,["variant"])]),_:2},1024),k(t(Ae),{class:"text-center"},{default:g(()=>[(d(),s(x(e.metadadoDeProcesso?t(Ca):t(Va)),{class:ee([e.metadadoDeProcesso?"text-emerald-500":"text-gray-400","w-5 h-5 mx-auto"])},null,8,["class"]))]),_:2},1024),k(t(Ae),{class:"text-center"},{default:g(()=>[(d(),s(x(e.admiteMultiplos?t(ze):t(ea)),{class:ee([e.admiteMultiplos?"text-emerald-500":"text-gray-400","w-5 h-5 mx-auto"])},null,8,["class"]))]),_:2},1024),k(t(Ae),null,{default:g(()=>[k(t(ae),{variant:B(e.versaoInicialAtende)},{default:g(()=>[Q(Y(e.versaoInicialAtende||"Não especificado"),1)]),_:2},1032,["variant"])]),_:2},1024),k(t(Ae),{class:"text-center",onClick:a[4]||(a[4]=b(()=>{},["stop"]))},{default:g(()=>[e.imagens&&e.imagens.length>0?(d(),s(t(ae),{key:0,variant:"secondary",class:"cursor-pointer hover:bg-secondary/80 transition-colors",onClick:a=>{return t=e.imagens,_.value=t,void(h.value=!0);var t}},{default:g(()=>[Q(" 📷 "+Y(e.imagens.length),1)]),_:2},1032,["onClick"])):(d(),i("span",fl,"—"))]),_:2},1024),k(t(Ae),null,{default:g(()=>[Z("div",gl,[(d(!0),i(c,null,p(e.tags,e=>(d(),s(t(ae),{key:e,variant:"outline",class:"text-xs"},{default:g(()=>[Q(Y(e),1)]),_:2},1024))),128)),e.tags?.length?n("",!0):(d(),i("span",yl,"-"))])]),_:2},1024),k(t(Ae),{onClick:a[5]||(a[5]=b(()=>{},["stop"]))},{default:g(()=>[Z("div",hl,[k(t(re),null,{default:g(()=>[k(t(ue),null,{default:g(()=>[k(t(ie),{"as-child":""},{default:g(()=>[k(t(X),{variant:"ghost",size:"sm",onClick:a=>function(e){u("edit",e)}(e)},{default:g(()=>[k(t(We),{class:"w-4 h-4"})]),_:1},8,["onClick"])]),_:2},1024),k(t(ne),null,{default:g(()=>[...a[30]||(a[30]=[Q("Editar",-1)])]),_:1})]),_:2},1024)]),_:2},1024),k(t(re),null,{default:g(()=>[k(t(ue),null,{default:g(()=>[k(t(ie),{"as-child":""},{default:g(()=>[k(t(X),{variant:"ghost",size:"sm",onClick:a=>function(e){u("duplicate",e)}(e)},{default:g(()=>[k(t(Ma),{class:"w-4 h-4"})]),_:1},8,["onClick"])]),_:2},1024),k(t(ne),null,{default:g(()=>[...a[31]||(a[31]=[Q("Duplicar",-1)])]),_:1})]),_:2},1024)]),_:2},1024),k(t(re),null,{default:g(()=>[k(t(ue),null,{default:g(()=>[k(t(ie),{"as-child":""},{default:g(()=>[k(t(X),{variant:"ghost",size:"sm",onClick:a=>function(e){y.value=e,f.value=!0}(e)},{default:g(()=>[k(t(Je),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])]),_:2},1024),k(t(ne),null,{default:g(()=>[...a[32]||(a[32]=[Q("Excluir",-1)])]),_:1})]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1})])]),_:1})]),_:1}),k(ce,{name:"slide-up"},{default:g(()=>[q.value>=2?(d(),i("div",bl,[k(t(ke),{class:"shadow-lg border-gray-200 dark:border-gray-700"},{default:g(()=>[k(t(_e),{class:"p-4 flex items-center gap-3"},{default:g(()=>[k(t(Aa),{size:20,class:"text-primary"}),Z("span",xl," Comparar ("+Y(q.value)+" selecionados) ",1),k(t(X),{variant:"ghost",size:"sm",onClick:a[6]||(a[6]=e=>u("clear-selection"))},{default:g(()=>[k(t(ea),{size:16,class:"mr-1"}),a[33]||(a[33]=Q(" Limpar ",-1))]),_:1}),k(t(X),{onClick:a[7]||(a[7]=e=>u("compare")),disabled:q.value<2},{default:g(()=>[...a[34]||(a[34]=[Q(" Comparar ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})])):n("",!0)]),_:1}),k(t(sa),{open:m.value,"onUpdate:open":a[9]||(a[9]=e=>m.value=e)},{default:g(()=>[k(t(aa),{class:"max-w-3xl max-h-[90vh] overflow-y-auto"},{default:g(()=>[k(t(ta),null,{default:g(()=>[k(t(la),null,{default:g(()=>[...a[35]||(a[35]=[Q("Detalhes do Metadado",-1)])]),_:1}),k(t(na),null,{default:g(()=>[...a[36]||(a[36]=[Q(" Visualização completa dos dados do metadado ",-1)])]),_:1})]),_:1}),v.value?(d(),i("div",_l,[Z("div",kl,[Z("div",wl,[k(t(Ze),null,{default:g(()=>[...a[37]||(a[37]=[Q("Unidade",-1)])]),_:1}),Z("div",ql,Y(v.value.unidade),1)]),Z("div",Cl,[k(t(Ze),null,{default:g(()=>[...a[38]||(a[38]=[Q("Metadado de Processo",-1)])]),_:1}),Z("div",Vl,Y(v.value.metadadoDeProcesso?"Sim":"Não"),1)])]),Z("div",Ml,[k(t(Ze),null,{default:g(()=>[...a[39]||(a[39]=[Q("Classe Processual",-1)])]),_:1}),Z("div",Sl,Y(v.value.classeProcessual||"Não informado"),1)]),Z("div",Al,[k(t(Ze),null,{default:g(()=>[...a[40]||(a[40]=[Q("Tipo(s) de Documento",-1)])]),_:1}),Z("div",Bl,[Z("div",Pl,[(d(!0),i(c,null,p(M(v.value.tipoDocumento),(e,a)=>(d(),s(t(ae),{key:a,variant:"secondary"},{default:g(()=>[Q(Y(e),1)]),_:2},1024))),128))])])]),Z("div",Dl,[k(t(Ze),null,{default:g(()=>[...a[41]||(a[41]=[Q("Nome do Metadado",-1)])]),_:1}),Z("div",Fl,Y(v.value.nomeMetadado),1)]),v.value.objetivoMetadado?(d(),i("div",jl,[k(t(Ze),null,{default:g(()=>[...a[42]||(a[42]=[Q("Objetivo do Metadado",-1)])]),_:1}),Z("div",Ol,Y(v.value.objetivoMetadado),1)])):n("",!0),Z("div",Nl,[Z("div",El,[k(t(Ze),null,{default:g(()=>[...a[43]||(a[43]=[Q("Formato do Metadado",-1)])]),_:1}),Z("div",Il,Y(v.value.formatoMetadado||"Não especificado"),1)]),Z("div",Tl,[k(t(Ze),null,{default:g(()=>[...a[44]||(a[44]=[Q("Admite Múltiplos",-1)])]),_:1}),Z("div",$l,Y(v.value.admiteMultiplos?"Sim":"Não"),1)])]),Z("div",Rl,[Z("div",Ul,[k(t(Ze),null,{default:g(()=>[...a[45]||(a[45]=[Q("Tipo de Metadados",-1)])]),_:1}),Z("div",zl,Y(v.value.tipoMetadados),1)]),Z("div",Ll,[k(t(Ze),null,{default:g(()=>[...a[46]||(a[46]=[Q("Versão Inicial Atende",-1)])]),_:1}),Z("div",Kl,Y(v.value.versaoInicialAtende),1)])]),v.value.observacao?(d(),i("div",Hl,[k(t(Ze),null,{default:g(()=>[...a[47]||(a[47]=[Q("Observação",-1)])]),_:1}),Z("div",Gl,Y(v.value.observacao),1)])):n("",!0),v.value.tags&&v.value.tags.length>0?(d(),i("div",Wl,[k(t(Ze),null,{default:g(()=>[...a[48]||(a[48]=[Q("Tags",-1)])]),_:1}),Z("div",Jl,[Z("div",Zl,[(d(!0),i(c,null,p(v.value.tags,e=>(d(),s(t(ae),{key:e,variant:"outline"},{default:g(()=>[Q(Y(e),1)]),_:2},1024))),128))])])])):n("",!0)])):n("",!0),k(t(ga)),k(t(oa),null,{default:g(()=>[k(t(X),{variant:"ghost",onClick:a[8]||(a[8]=e=>m.value=!1)},{default:g(()=>[...a[49]||(a[49]=[Q(" Fechar ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),k(t(sa),{open:f.value,"onUpdate:open":a[11]||(a[11]=e=>f.value=e)},{default:g(()=>[k(t(aa),{class:"max-w-md"},{default:g(()=>[k(t(ta),null,{default:g(()=>[k(t(la),{class:"flex items-center gap-2"},{default:g(()=>[k(t(pe),{class:"w-5 h-5 text-destructive"}),a[50]||(a[50]=Q(" Confirmar Exclusão ",-1))]),_:1})]),_:1}),Z("div",Ql,[y.value?(d(),i("p",Xl,[a[51]||(a[51]=Q(" Tem certeza que deseja excluir o metadado ",-1)),Z("strong",Yl,'"'+Y(y.value.nomeMetadado)+'"',1),a[52]||(a[52]=Q("? ",-1))])):n("",!0),k(t(ma),{variant:"warning"},{default:g(()=>[k(t(pe),{class:"w-4 h-4"}),k(t(va),null,{default:g(()=>[...a[53]||(a[53]=[Z("strong",null,"Atenção:",-1),Q(" Esta ação não pode ser desfeita. ",-1)])]),_:1})]),_:1})]),k(t(oa),null,{default:g(()=>[k(t(X),{variant:"ghost",onClick:a[10]||(a[10]=e=>f.value=!1)},{default:g(()=>[...a[54]||(a[54]=[Q(" Cancelar ",-1)])]),_:1}),k(t(X),{variant:"destructive",onClick:P},{default:g(()=>[k(t(Je),{class:"w-4 h-4 mr-2"}),a[55]||(a[55]=Q(" Excluir ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),k(ll,{open:h.value,"onUpdate:open":a[12]||(a[12]=e=>h.value=e),images:_.value,"initial-index":0},null,8,["open","images"])]))}},[["__scopeId","data-v-afdad1da"]]),ao={__name:"Textarea",props:{class:{type:null,required:!1},defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,o=Be(l,"modelValue",a,{passive:!0,defaultValue:l.defaultValue});return(e,a)=>ve((d(),i("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>de(o)?o.value=e:null),class:ee(t(H)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l.class))},null,2)),[[fe,t(o)]])}},to={__name:"Switch",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,o=a,u=K(l,"class"),i=$(u,o);return(e,a)=>(d(),s(t(gt),r(t(i),{class:t(H)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",l.class)}),{default:g(()=>[k(t(yt),{class:ee(t(H)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"))},{default:g(()=>[y(e.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}},lo={__name:"Checkbox",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1},disabled:{type:Boolean,required:!1},value:{type:null,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,o=a,u=K(l,"class"),i=$(u,o);return(e,a)=>(d(),s(t(La),r(t(i),{class:t(H)("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",l.class)}),{default:g(()=>[k(t(Ka),{class:"grid place-content-center text-current"},{default:g(()=>[y(e.$slots,"default",{},()=>[k(t(ze),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}},oo={__name:"Command",props:{modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{emit:l}){const u=e,i=l,n=K(u,"class"),c=$(n,i),p=C(new Map),m=C(new Map),{contains:v}=function(e){const l=a(()=>t(e)),o=a(()=>new Intl.Collator("en",{usage:"search",...l.value}));return{startsWith:(e,a)=>0===a.length||(e=e.normalize("NFC"),a=a.normalize("NFC"),0===o.value.compare(e.slice(0,a.length),a)),endsWith:(e,a)=>0===a.length||(e=e.normalize("NFC"),a=a.normalize("NFC"),0===o.value.compare(e.slice(-a.length),a)),contains:(e,a)=>{if(0===a.length)return!0;e=e.normalize("NFC");let t=0;const l=(a=a.normalize("NFC")).length;for(;t+l<=e.length;t++){const s=e.slice(t,t+l);if(0===o.value.compare(a,s))return!0}return!1}}}({sensitivity:"base"}),f=ge({search:"",filtered:{count:0,items:new Map,groups:new Set}});return o(()=>f.search,()=>{!function(){if(!f.search)return void(f.filtered.count=p.value.size);f.filtered.groups=new Set;let e=0;for(const[a,t]of p.value){const l=v(t,f.search);f.filtered.items.set(a,l?1:0),l&&e++}for(const[a,t]of m.value)for(const e of t)if(f.filtered.items.get(e)>0){f.filtered.groups.add(a);break}f.filtered.count=e}()}),vo({allItems:p,allGroups:m,filterState:f}),(e,a)=>(d(),s(t(Ja),r(t(c),{class:t(H)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",u.class)}),{default:g(()=>[y(e.$slots,"default")]),_:3},16,["class"]))}},so={__name:"CommandEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const l=e,o=K(l,"class"),{filterState:u}=mo(),i=a(()=>!!u.search&&0===u.filtered.count);return(e,a)=>i.value?(d(),s(t(_),r({key:0},t(o),{class:t(H)("py-6 text-center text-sm",l.class)}),{default:g(()=>[y(e.$slots,"default")]),_:3},16,["class"])):n("",!0)}},ro={__name:"CommandGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},heading:{type:String,required:!1}},setup(e){const l=e,o=K(l,"class"),{allGroups:u,filterState:i}=mo(),c=D(),p=a(()=>!i.search||i.filtered.groups.has(c));return go({id:c}),B(()=>{u.value.has(c)||u.value.set(c,new Set)}),P(()=>{u.value.delete(c)}),(a,u)=>(d(),s(t(et),r(t(o),{id:t(c),class:t(H)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",l.class),hidden:!p.value||void 0}),{default:g(()=>[e.heading?(d(),s(t(at),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:g(()=>[Q(Y(e.heading),1)]),_:1})):n("",!0),y(a.$slots,"default")]),_:3},16,["id","class","hidden"]))}},uo={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},io=Object.assign({inheritAttrs:!1},{__name:"CommandInput",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const a=e,l=K(a,"class"),o=N(l),{filterState:s}=mo();return(e,l)=>(d(),i("div",uo,[k(t(da),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),k(t(Qa),r({...t(o),...e.$attrs},{modelValue:t(s).search,"onUpdate:modelValue":l[0]||(l[0]=e=>t(s).search=e),"auto-focus":"",class:t(H)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a.class)}),null,16,["modelValue","class"])]))}}),no={__name:"CommandItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["select"],setup(e,{emit:l}){const o=e,u=l,i=K(o,"class"),c=$(i,u),p=D(),{filterState:m,allItems:v,allGroups:f}=mo(),h=fo(),b=a(()=>{if(m.search){const e=m.filtered.items.get(p);return void 0===e||e>0}return!0}),x=C(),_=Pe(x);return B(()=>{if(!(_.value instanceof HTMLElement))return;v.value.set(p,_.value.textContent??o?.value.toString());const e=h?.id;e&&(f.value.has(e)?f.value.get(e)?.add(p):f.value.set(e,new Set([p])))}),P(()=>{v.value.delete(p)}),(e,a)=>b.value?(d(),s(t(ot),r({key:0},t(c),{id:t(p),ref_key:"itemRef",ref:x,class:t(H)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:size-4 [&_svg]:shrink-0",o.class),onSelect:a[0]||(a[0]=()=>{t(m).search=""})}),{default:g(()=>[y(e.$slots,"default")]),_:3},16,["id","class"])):n("",!0)}},co={role:"presentation"},po={__name:"CommandList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const a=e,l=K(a,"class"),o=N(l);return(e,l)=>(d(),s(t(Za),r(t(o),{class:t(H)("max-h-[300px] overflow-y-auto overflow-x-hidden",a.class)}),{default:g(()=>[Z("div",co,[y(e.$slots,"default")])]),_:3},16,["class"]))}},[mo,vo]=m("Command"),[fo,go]=m("CommandGroup"),yo={class:"space-y-2"},ho={key:0,class:"text-destructive"},bo={class:"truncate"},xo={class:"truncate"},_o={__name:"ClasseProcessualCombobox",props:{modelValue:{type:String,default:"Não informado"},label:{type:String,default:"Classe Processual"},required:{type:Boolean,default:!1},id:{type:String,default:"classe-processual"}},emits:["update:modelValue"],setup(e,{emit:l}){const r=e,u=l,m=W(),v=C(!1),f=C(""),y=a(()=>m.allClassesProcessuais),h=a(()=>{if(!f.value)return y.value;const e=f.value.toLowerCase();return y.value.filter(a=>a.toLowerCase().includes(e))}),b=a(()=>r.modelValue||"Selecione uma classe processual...");return o(v,e=>{e||(f.value="")}),(a,l)=>{const o=ye("router-link");return d(),i("div",yo,[e.label?(d(),s(t(Ze),{key:0,for:e.id},{default:g(()=>[Q(Y(e.label)+" ",1),e.required?(d(),i("span",ho,"*")):n("",!0)]),_:1},8,["for"])):n("",!0),k(t(ht),{open:v.value,"onUpdate:open":l[1]||(l[1]=e=>v.value=e)},{default:g(()=>[k(t(xt),{"as-child":""},{default:g(()=>[k(t(X),{id:e.id,variant:"outline",role:"combobox","aria-expanded":v.value,class:ee(["w-full justify-between",{"text-muted-foreground":!e.modelValue}])},{default:g(()=>[Z("span",bo,Y(b.value),1),k(t(qa),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["id","aria-expanded","class"])]),_:1}),k(t(bt),{class:"w-full p-0",align:"start"},{default:g(()=>[k(t(oo),null,{default:g(()=>[k(t(io),{modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=e=>f.value=e),placeholder:"Buscar classe processual..."},null,8,["modelValue"]),k(t(so),null,{default:g(()=>[...l[2]||(l[2]=[Q("Nenhuma classe encontrada",-1)])]),_:1}),k(t(po),null,{default:g(()=>[k(t(ro),null,{default:g(()=>[(d(!0),i(c,null,p(h.value,a=>(d(),s(t(no),{key:a,value:a,onSelect:e=>(u("update:modelValue",a),v.value=!1,void(f.value=""))},{default:g(()=>[k(t(ze),{class:ee(["mr-2 h-4 w-4",e.modelValue===a?"opacity-100":"opacity-0"])},null,8,["class"]),Z("span",xo,Y(a),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(m).hasClassesProcessuais?n("",!0):(d(),s(t(ma),{key:1,variant:"warning"},{default:g(()=>[k(t(pe),{class:"h-4 w-4"}),k(t(va),null,{default:g(()=>[l[4]||(l[4]=Q(" Nenhuma classe carregada. Faça upload do arquivo em ",-1)),k(o,{to:"/config",class:"underline font-medium"},{default:g(()=>[...l[3]||(l[3]=[Q("Configurações",-1)])]),_:1}),l[5]||(l[5]=Q(". ",-1))]),_:1})]),_:1}))])}}},ko={class:"space-y-4"},wo={key:1,class:"flex items-center justify-center py-8"},qo={class:"ml-3 text-sm text-muted-foreground"},Co={key:2,class:"space-y-4"},Vo={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},Mo={class:"aspect-square relative overflow-hidden bg-muted"},So=["src","alt"],Ao={class:"p-2 space-y-1"},Bo=["title"],Po={class:"text-xs text-muted-foreground"},Do={class:"flex items-center gap-2 text-sm text-muted-foreground"},Fo={key:0},jo={__name:"ImageUpload",props:{modelValue:{type:Array,default:()=>[]},maxSize:{type:Number,default:10485760},maxFiles:{type:Number,default:20},accept:{type:String,default:"image/*"}},emits:["update:modelValue","error"],setup(e,{emit:l}){const o=e,r=l,u=C(null),m=C(!1),v=C(0),f=C(0),y=a({get:()=>o.modelValue,set:e=>r("update:modelValue",e)});function h(){u.value?.click()}async function b(e){const a=Array.from(e.target.files||[]);if(0===a.length)return;const t=o.maxFiles-y.value.length;if(a.length>t)return void me.error(`Você pode adicionar apenas mais ${t} ${1===t?"imagem":"imagens"}`);m.value=!0,v.value=0,f.value=a.length;const l=[],s=[];for(const r of a)try{const e=await he(r,o.maxSize);l.push(e),v.value++}catch(d){s.push({file:r.name,error:d.message}),v.value++}if(y.value=[...y.value,...l],m.value=!1,l.length>0&&me.success(`${l.length} ${1===l.length?"imagem adicionada":"imagens adicionadas"}`),s.length>0){const e=s.map(e=>`${e.file}: ${e.error}`).join("\n");me.error(`Erro ao processar ${s.length} ${1===s.length?"arquivo":"arquivos"}:\n${e}`),r("error",s)}e.target.value=""}return(a,l)=>(d(),i("div",ko,[Z("input",{ref_key:"fileInput",ref:u,type:"file",multiple:"",accept:"image/*",class:"hidden",onChange:b},null,544),0===y.value.length?(d(),s(t(X),{key:0,type:"button",variant:"outline",class:"w-full",onClick:h,disabled:m.value},{default:g(()=>[k(t(fa),{class:"w-4 h-4 mr-2"}),Q(" "+Y(m.value?"Processando...":"Adicionar Imagens"),1)]),_:1},8,["disabled"])):n("",!0),m.value?(d(),i("div",wo,[k(t(Qe),{size:"lg"}),Z("span",qo,"Processando "+Y(v.value)+" de "+Y(f.value)+" imagens...",1)])):n("",!0),y.value.length>0&&!m.value?(d(),i("div",Co,[k(t(X),{type:"button",variant:"outline",size:"sm",onClick:h,disabled:y.value.length>=e.maxFiles},{default:g(()=>[k(t(Xe),{class:"w-4 h-4 mr-2"}),l[1]||(l[1]=Q(" Adicionar Mais ",-1)),y.value.length>=e.maxFiles?(d(),s(t(ae),{key:0,variant:"secondary",class:"ml-2"},{default:g(()=>[...l[0]||(l[0]=[Q(" Máximo atingido ",-1)])]),_:1})):n("",!0)]),_:1},8,["disabled"]),Z("div",Vo,[(d(!0),i(c,null,p(y.value,(e,a)=>(d(),s(t(ke),{key:e.id,class:"relative overflow-hidden group"},{default:g(()=>[k(t(_e),{class:"p-0"},{default:g(()=>{return[Z("div",Mo,[Z("img",{src:e.data,alt:e.name,class:"w-full h-full object-cover"},null,8,So),k(t(X),{type:"button",variant:"destructive",size:"icon",class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8",onClick:e=>function(e){const a=[...y.value],t=a.splice(e,1);y.value=a,me.success(`Imagem "${t[0].name}" removida`)}(a)},{default:g(()=>[k(t(ea),{class:"w-4 h-4"})]),_:1},8,["onClick"]),k(t(ae),{variant:"secondary",class:"absolute bottom-2 left-2 text-xs"},{default:g(()=>[Q(Y(a+1),1)]),_:2},1024)]),Z("div",Ao,[Z("p",{class:"text-xs font-medium truncate",title:e.name},Y(e.name),9,Bo),Z("p",Po,Y((l=e.size,te(l))),1)])];var l}),_:2},1024)]),_:2},1024))),128))]),Z("div",Do,[k(t(Ba),{class:"w-4 h-4"}),Q(" "+Y(y.value.length)+" "+Y(1===y.value.length?"imagem":"imagens")+" ",1),y.value.length<e.maxFiles?(d(),i("span",Fo," (máximo: "+Y(e.maxFiles)+") ",1)):n("",!0)])])):n("",!0)]))}},Oo=["onClick","disabled","aria-label"],No={key:0,class:"relative flex-1 min-w-[120px]"},Eo=["placeholder","disabled","onKeydown"],Io={key:0,class:"absolute top-full left-0 right-0 z-50 mt-1 bg-popover border rounded-md shadow-md max-h-[200px] overflow-auto"},To=["onMousedown"],$o={key:1,class:"text-xs text-muted-foreground self-center"},Ro={__name:"TagsInput",props:{modelValue:{type:Array,default:()=>[]},placeholder:{type:String,default:"Adicione tags..."},maxTags:{type:Number,default:10},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:l}){const r=e,u=l,m=J(),v=C(null),f=C(""),y=C(!1),x=C(-1),_=a(()=>r.modelValue.length<r.maxTags),w=a(()=>m.searchTags(f.value).filter(e=>!r.modelValue.some(a=>a.toLowerCase()===e.name.toLowerCase())));function q(){y.value=!0,x.value=-1}function M(){(f.value||m.tags.length>0)&&(y.value=!0)}function S(){setTimeout(()=>{y.value=!1,x.value=-1},150)}function A(){y.value=!1,x.value=-1}function B(e){y.value&&0!==w.value.length?x.value="down"===e?(x.value+1)%w.value.length:x.value<=0?w.value.length-1:x.value-1:y.value=!0}async function P(){if(x.value>=0&&w.value[x.value])return void(await D(w.value[x.value].name));const e=f.value.trim();e?await F(e):A()}async function D(e){await F(e),await V(),v.value?.focus()}async function F(e){const a=e.trim();if(!a)return;if(r.modelValue.some(e=>e.toLowerCase()===a.toLowerCase()))return me.warning(`A tag "${a}" ja foi adicionada`),f.value="",void A();if(_.value)try{const e=await m.getOrCreateTag(a);e&&(u("update:modelValue",[...r.modelValue,e.name]),f.value="",A())}catch(t){me.error("Erro ao adicionar tag")}else me.warning(`Limite de ${r.maxTags} tags atingido`)}function j(e){r.disabled||u("update:modelValue",r.modelValue.filter(a=>a!==e))}function O(){if(""===f.value&&r.modelValue.length>0){j(r.modelValue[r.modelValue.length-1])}}return o(w,()=>{x.value=-1}),(a,l)=>(d(),i("div",{class:ee(["flex flex-wrap gap-2 p-2 border rounded-md min-h-[42px] bg-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",{"opacity-50 cursor-not-allowed":e.disabled}])},[(d(!0),i(c,null,p(e.modelValue,a=>(d(),s(t(ae),{key:a,variant:"outline",class:"text-xs flex items-center gap-1"},{default:g(()=>[Q(Y(a)+" ",1),Z("button",{type:"button",onClick:e=>j(a),class:"ml-1 hover:text-destructive focus:outline-none",disabled:e.disabled,"aria-label":`Remover tag ${a}`},[k(t(ea),{class:"h-3 w-3"})],8,Oo)]),_:2},1024))),128)),_.value?(d(),i("div",No,[ve(Z("input",{ref_key:"inputRef",ref:v,"onUpdate:modelValue":l[0]||(l[0]=e=>f.value=e),placeholder:0===e.modelValue.length?e.placeholder:"",disabled:e.disabled,onKeydown:[h(b(P,["prevent"]),["enter"]),h(b(P,["prevent"]),[","]),h(O,["backspace"]),h(A,["escape"]),l[1]||(l[1]=h(b(e=>B("down"),["prevent"]),["down"])),l[2]||(l[2]=h(b(e=>B("up"),["prevent"]),["up"]))],onInput:q,onFocus:M,onBlur:S,class:"w-full bg-transparent outline-none text-sm placeholder:text-muted-foreground"},null,40,Eo),[[fe,f.value]]),y.value&&w.value.length>0?(d(),i("div",Io,[(d(!0),i(c,null,p(w.value,(e,a)=>(d(),i("button",{key:e.id,type:"button",onMousedown:b(a=>D(e.name),["prevent"]),class:ee(["w-full px-3 py-2 text-sm text-left hover:bg-accent focus:bg-accent focus:outline-none",{"bg-accent":a===x.value}])},Y(e.name),43,To))),128))])):n("",!0)])):n("",!0),_.value?n("",!0):(d(),i("span",$o," Limite de "+Y(e.maxTags)+" tags atingido ",1))],2))}},Uo={class:"space-y-4 py-4"},zo={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Lo={class:"space-y-2"},Ko={key:0,class:"text-sm text-destructive"},Ho={class:"space-y-2"},Go={key:0,class:"text-sm text-destructive"},Wo={class:"space-y-2"},Jo={class:"flex items-center space-x-2 h-10"},Zo={class:"text-sm text-muted-foreground"},Qo={class:"space-y-2"},Xo={class:"flex items-center space-x-2 h-10"},Yo={class:"text-sm text-muted-foreground"},es={class:"space-y-2"},as={key:0,class:"text-muted-foreground"},ts={key:1,class:"truncate"},ls={class:"p-2 border-b"},os={class:"max-h-60 overflow-y-auto p-1"},ss=["onClick"],ds={class:"flex-1 text-sm"},rs={key:0,class:"p-4 text-sm text-center text-muted-foreground"},us={key:0,class:"text-xs text-muted-foreground"},is={key:1,class:"text-sm text-destructive"},ns={class:"space-y-2"},cs={class:"relative"},ps={class:"max-h-60 overflow-y-auto p-1"},ms=["onClick"],vs={class:"flex-1"},fs={key:0,class:"text-sm text-destructive"},gs={class:"space-y-2"},ys={class:"flex items-center gap-2"},hs={class:"flex items-center gap-1.5"},bs={class:"relative"},xs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_s={class:"space-y-2"},ks={class:"space-y-2"},ws={class:"space-y-2"},qs={class:"relative"},Cs={class:"space-y-2"},Vs={class:"space-y-2"},Ms={__name:"MetadadosForm",props:{modelValue:{type:Boolean,default:!1},item:{type:Object,default:null}},emits:["update:modelValue","saved"],setup(e,{expose:l,emit:r}){const u=G(),m=W(),v=e,f=r,y=C(!1),h=C(!1),x=C(!1),_=C(!1),w=C(""),q=C(!1),M={unidade:"",metadadoDeProcesso:!1,tipoDocumento:[],nomeMetadado:"",objetivoMetadado:"",objetivoNaoInformado:!1,formatoMetadado:"",admiteMultiplos:!1,tipoMetadados:"",versaoInicialAtende:"Não",observacao:"",classeProcessual:"Não informado",imagens:[],tags:[]},S=ge({...M}),A=a(()=>S.unidade&&S.nomeMetadado&&S.tipoMetadados&&S.tipoDocumento.length>0),B=a(()=>{if(!w.value)return m.tiposDocumentoAtivos;const e=w.value.toLowerCase();return m.tiposDocumentoAtivos.filter(a=>a.toLowerCase().includes(e))}),P=a(()=>{const e=new Set;return u.metadados.forEach(a=>{a.nomeMetadado&&e.add(a.nomeMetadado)}),Array.from(e).sort()}),D=a(()=>{if(!S.nomeMetadado)return P.value.slice(0,10);const e=S.nomeMetadado.toLowerCase();return P.value.filter(a=>a.toLowerCase().includes(e)).slice(0,10)}),F=a(()=>[...S.tipoDocumento].sort((e,a)=>e.localeCompare(a,"pt-BR")));function j(){v.item?(h.value=!!v.item.id,Object.assign(S,{...v.item,tipoDocumento:Array.isArray(v.item.tipoDocumento)?[...v.item.tipoDocumento]:[v.item.tipoDocumento],tags:Array.isArray(v.item.tags)?[...v.item.tags]:[]})):(h.value=!1,O())}function O(){Object.keys(M).forEach(e=>{Array.isArray(M[e])?S[e]=[...M[e]]:S[e]=M[e]}),w.value="",_.value=!1,q.value=!1,x.value=!1}function N(){y.value=!1}async function E(){if(!A.value)return x.value=!0,void me.error("Preencha todos os campos obrigatórios");try{const e=JSON.parse(JSON.stringify(S));!0===e.objetivoNaoInformado&&(e.objetivoMetadado=""),h.value&&v.item?.id?await u.updateMetadado(v.item.id,e):await u.addMetadado(e),await u.loadMetadados(),f("saved"),N(),await V(),me.success(h.value?"Metadado atualizado com sucesso":"Metadado criado com sucesso")}catch(e){me.error("Erro ao salvar metadado")}}async function I(){if(!A.value)return x.value=!0,void me.error("Preencha todos os campos obrigatórios");try{const e=JSON.parse(JSON.stringify(S));!0===e.objetivoNaoInformado&&(e.objetivoMetadado=""),await u.addMetadado(e),await u.loadMetadados(),f("saved"),O(),await V(),me.success("Metadado criado com sucesso")}catch(e){me.error("Erro ao salvar metadado")}}return o(()=>v.modelValue,e=>{y.value=e}),o(y,e=>{f("update:modelValue",e),e?(j(),x.value=!1):O()}),o(()=>v.item,e=>{e&&y.value&&j()}),o(_,e=>{e||(w.value="")}),o(()=>S.objetivoNaoInformado,e=>{!0===e&&(S.objetivoMetadado="")}),l({open:()=>{y.value=!0},close:N}),(e,a)=>(d(),s(t(sa),{open:y.value,"onUpdate:open":a[21]||(a[21]=e=>y.value=e)},{default:g(()=>[k(t(aa),{onPointerDownOutside:a[19]||(a[19]=b(()=>{},["prevent"])),onEscapeKeyDown:a[20]||(a[20]=b(()=>{},["prevent"])),class:"max-w-3xl max-h-[90vh] overflow-y-auto"},{default:g(()=>[k(t(ta),null,{default:g(()=>[k(t(la),null,{default:g(()=>[Q(Y(h.value?"Editar":"Novo")+" Metadado",1)]),_:1}),k(t(na),null,{default:g(()=>[Q(Y(h.value?"Edite os dados do metadado":"Preencha os dados para criar um novo metadado"),1)]),_:1})]),_:1}),Z("div",Uo,[Z("div",zo,[Z("div",Lo,[k(t(Ze),{for:"unidade"},{default:g(()=>[...a[22]||(a[22]=[Q("Unidade *",-1)])]),_:1}),k(t(Ne),{modelValue:S.unidade,"onUpdate:modelValue":a[0]||(a[0]=e=>S.unidade=e)},{default:g(()=>[k(t(Ee),{id:"unidade"},{default:g(()=>[k(t(ra),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Selecione"})]),_:1}),k(t($e),null,{default:g(()=>[(d(!0),i(c,null,p(t(m).unidadesAtivas,e=>(d(),s(t(Re),{key:e,value:e},{default:g(()=>[Q(Y(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),!S.unidade&&x.value?(d(),i("p",Ko,"Campo obrigatório")):n("",!0)]),Z("div",Ho,[k(t(Ze),{for:"tipoMetadados"},{default:g(()=>[...a[23]||(a[23]=[Q("Tipo de Metadados *",-1)])]),_:1}),k(t(Ne),{modelValue:S.tipoMetadados,"onUpdate:modelValue":a[1]||(a[1]=e=>S.tipoMetadados=e)},{default:g(()=>[k(t(Ee),{id:"tipoMetadados"},{default:g(()=>[k(t(Fa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Selecione"})]),_:1}),k(t($e),null,{default:g(()=>[k(t(Re),{value:"Simples"},{default:g(()=>[...a[24]||(a[24]=[Q("Simples",-1)])]),_:1}),k(t(Re),{value:"Composto"},{default:g(()=>[...a[25]||(a[25]=[Q("Composto",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),!S.tipoMetadados&&x.value?(d(),i("p",Go,"Campo obrigatório")):n("",!0)]),Z("div",Wo,[k(t(Ze),{for:"metadadoDeProcesso"},{default:g(()=>[...a[26]||(a[26]=[Q("Metadado de Processo",-1)])]),_:1}),Z("div",Jo,[k(t(to),{id:"metadadoDeProcesso",modelValue:S.metadadoDeProcesso,"onUpdate:modelValue":a[2]||(a[2]=e=>S.metadadoDeProcesso=e)},null,8,["modelValue"]),Z("span",Zo,Y(S.metadadoDeProcesso?"Sim":"Não"),1)])]),Z("div",Qo,[k(t(Ze),{for:"admiteMultiplos"},{default:g(()=>[...a[27]||(a[27]=[Q("Admite Múltiplos",-1)])]),_:1}),Z("div",Xo,[k(t(to),{id:"admiteMultiplos",modelValue:S.admiteMultiplos,"onUpdate:modelValue":a[3]||(a[3]=e=>S.admiteMultiplos=e)},null,8,["modelValue"]),Z("span",Yo,Y(S.admiteMultiplos?"Sim":"Não"),1)])])]),k(_o,{modelValue:S.classeProcessual,"onUpdate:modelValue":a[4]||(a[4]=e=>S.classeProcessual=e),label:"Classe Processual"},null,8,["modelValue"]),Z("div",es,[k(t(Ze),null,{default:g(()=>[...a[28]||(a[28]=[Q("Tipo(s) de Documento *",-1)])]),_:1}),k(t(ht),{open:_.value,"onUpdate:open":a[6]||(a[6]=e=>_.value=e)},{default:g(()=>[k(t(xt),{"as-child":""},{default:g(()=>[k(t(X),{variant:"outline",role:"combobox",class:"w-full justify-between font-normal"},{default:g(()=>[0===S.tipoDocumento.length?(d(),i("span",as," Selecione os tipos de documento... ")):(d(),i("span",ts,Y(S.tipoDocumento.length)+" selecionado(s) ",1)),k(t(qa),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1})]),_:1}),k(t(bt),{class:"w-full p-0",align:"start"},{default:g(()=>[Z("div",ls,[k(t(we),{modelValue:w.value,"onUpdate:modelValue":a[5]||(a[5]=e=>w.value=e),placeholder:"Filtrar tipos...",class:"h-9"},null,8,["modelValue"])]),Z("div",os,[(d(!0),i(c,null,p(B.value,e=>(d(),i("div",{key:e,class:"flex items-center space-x-2 rounded-sm px-2 py-1.5 cursor-pointer hover:bg-accent",onClick:a=>function(e){const a=S.tipoDocumento.indexOf(e);-1===a?S.tipoDocumento.push(e):S.tipoDocumento.splice(a,1)}(e)},[Z("div",{class:ee(["h-4 w-4 shrink-0 rounded-sm border border-primary shadow grid place-content-center",S.tipoDocumento.includes(e)?"bg-primary text-primary-foreground":""])},[S.tipoDocumento.includes(e)?(d(),s(t(ze),{key:0,class:"h-4 w-4"})):n("",!0)],2),Z("span",ds,Y(e),1)],8,ss))),128)),0===B.value.length?(d(),i("div",rs," Nenhum tipo encontrado ")):n("",!0)])]),_:1})]),_:1},8,["open"]),S.tipoDocumento.length>0?(d(),i("p",us," Selecionados: "+Y(F.value.join(", ")),1)):n("",!0),0===S.tipoDocumento.length&&x.value?(d(),i("p",is," Selecione pelo menos um tipo de documento ")):n("",!0)]),Z("div",ns,[k(t(Ze),{for:"nomeMetadado"},{default:g(()=>[...a[29]||(a[29]=[Q("Nome do Metadado *",-1)])]),_:1}),k(t(ht),{open:q.value,"onUpdate:open":a[10]||(a[10]=e=>q.value=e)},{default:g(()=>[k(t(xt),{"as-child":""},{default:g(()=>[Z("div",cs,[k(t(ua),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground z-10 pointer-events-none"}),k(t(we),{id:"nomeMetadado",modelValue:S.nomeMetadado,"onUpdate:modelValue":a[7]||(a[7]=e=>S.nomeMetadado=e),placeholder:"Digite ou selecione o nome do metadado",class:"pl-9",onFocus:a[8]||(a[8]=e=>q.value=!0),onInput:a[9]||(a[9]=e=>q.value=!0)},null,8,["modelValue"])])]),_:1}),D.value.length>0?(d(),s(t(bt),{key:0,class:"w-full p-0",align:"start",style:{width:"var(--radix-popover-trigger-width)"}},{default:g(()=>[Z("div",ps,[(d(!0),i(c,null,p(D.value,e=>(d(),i("div",{key:e,class:"flex items-center space-x-2 rounded-sm px-2 py-1.5 cursor-pointer hover:bg-accent text-sm",onClick:a=>function(e){S.nomeMetadado=e,q.value=!1}(e)},[k(t(ua),{class:"w-4 h-4 text-muted-foreground"}),Z("span",vs,Y(e),1)],8,ms))),128))])]),_:1})):n("",!0)]),_:1},8,["open"]),!S.nomeMetadado&&x.value?(d(),i("p",fs,"Campo obrigatório")):n("",!0)]),Z("div",gs,[Z("div",ys,[k(t(Ze),{for:"objetivoMetadado"},{default:g(()=>[...a[30]||(a[30]=[Q("Objetivo do Metadado",-1)])]),_:1}),Z("div",hs,[k(t(lo),{id:"objetivoNaoInformado",modelValue:S.objetivoNaoInformado,"onUpdate:modelValue":a[11]||(a[11]=e=>S.objetivoNaoInformado=e)},null,8,["modelValue"]),a[31]||(a[31]=Z("label",{for:"objetivoNaoInformado",class:"text-sm text-muted-foreground cursor-pointer select-none"}," Não informado ",-1))])]),Z("div",bs,[k(t(ja),{class:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),k(t(ao),{id:"objetivoMetadado",modelValue:S.objetivoMetadado,"onUpdate:modelValue":a[12]||(a[12]=e=>S.objetivoMetadado=e),disabled:S.objetivoNaoInformado,class:ee([{"opacity-50":S.objetivoNaoInformado},"pl-9 min-h-20"]),placeholder:S.objetivoNaoInformado?"Objetivo não informado":"Descreva o objetivo do metadado"},null,8,["modelValue","disabled","class","placeholder"])])]),Z("div",xs,[Z("div",_s,[k(t(Ze),{for:"formatoMetadado"},{default:g(()=>[...a[32]||(a[32]=[Q("Formato do Metadado",-1)])]),_:1}),k(t(Ne),{modelValue:S.formatoMetadado,"onUpdate:modelValue":a[13]||(a[13]=e=>S.formatoMetadado=e)},{default:g(()=>[k(t(Ee),{id:"formatoMetadado"},{default:g(()=>[k(t(Oa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Selecione o formato"})]),_:1}),k(t($e),null,{default:g(()=>[k(t(Re),{value:"__none__"},{default:g(()=>[...a[33]||(a[33]=[Q("Nenhum",-1)])]),_:1}),(d(!0),i(c,null,p(t(m).formatosMetadadoAtivos,e=>(d(),s(t(Re),{key:e,value:e},{default:g(()=>[Q(Y(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),Z("div",ks,[k(t(Ze),{for:"versaoInicialAtende"},{default:g(()=>[...a[34]||(a[34]=[Q("Versão Inicial Atende",-1)])]),_:1}),k(t(Ne),{modelValue:S.versaoInicialAtende,"onUpdate:modelValue":a[14]||(a[14]=e=>S.versaoInicialAtende=e)},{default:g(()=>[k(t(Ee),{id:"versaoInicialAtende"},{default:g(()=>[k(t(Ca),{class:"w-4 h-4 mr-2 text-muted-foreground"}),k(t(Te),{placeholder:"Selecione"})]),_:1}),k(t($e),null,{default:g(()=>[k(t(Re),{value:"Sim"},{default:g(()=>[...a[35]||(a[35]=[Q("Sim",-1)])]),_:1}),k(t(Re),{value:"Não"},{default:g(()=>[...a[36]||(a[36]=[Q("Não",-1)])]),_:1}),k(t(Re),{value:"Parcialmente"},{default:g(()=>[...a[37]||(a[37]=[Q("Parcialmente",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),Z("div",ws,[k(t(Ze),{for:"observacao"},{default:g(()=>[...a[38]||(a[38]=[Q("Observação",-1)])]),_:1}),Z("div",qs,[k(t(Pa),{class:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),k(t(ao),{id:"observacao",modelValue:S.observacao,"onUpdate:modelValue":a[15]||(a[15]=e=>S.observacao=e),placeholder:"Observações adicionais",class:"pl-9 min-h-20"},null,8,["modelValue"])])]),Z("div",Cs,[k(t(Ze),null,{default:g(()=>[...a[39]||(a[39]=[Q("Imagens (opcional)",-1)])]),_:1}),k(jo,{modelValue:S.imagens,"onUpdate:modelValue":a[16]||(a[16]=e=>S.imagens=e),"max-size":10485760,"max-files":20,onError:a[17]||(a[17]=e=>{})},null,8,["modelValue"]),a[40]||(a[40]=Z("p",{class:"text-xs text-muted-foreground"}," Máximo de 20 imagens, 10 MB cada. Formatos: PNG, JPG, GIF, WebP, SVG. ",-1))]),Z("div",Vs,[k(t(Ze),null,{default:g(()=>[...a[41]||(a[41]=[Q("Tags",-1)])]),_:1}),k(Ro,{modelValue:S.tags,"onUpdate:modelValue":a[18]||(a[18]=e=>S.tags=e),placeholder:"Adicione tags...",disabled:!1},null,8,["modelValue"]),a[42]||(a[42]=Z("p",{class:"text-xs text-muted-foreground"}," Pressione Enter ou virgula para adicionar ",-1))])]),k(t(ga)),k(t(oa),{class:"flex-col sm:flex-row gap-2"},{default:g(()=>[k(t(X),{variant:"ghost",onClick:N},{default:g(()=>[...a[43]||(a[43]=[Q(" Cancelar ",-1)])]),_:1}),k(t(X),{variant:"secondary",disabled:!A.value,onClick:I},{default:g(()=>[k(t(Da),{class:"w-4 h-4 mr-2"}),a[44]||(a[44]=Q(" Salvar e Novo ",-1))]),_:1},8,["disabled"]),k(t(X),{disabled:!A.value,onClick:E},{default:g(()=>[k(t(Ye),{class:"w-4 h-4 mr-2"}),a[45]||(a[45]=Q(" Salvar ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}},Ss={class:"flex-1 overflow-auto"},As={key:0,class:"flex items-center justify-center h-64"},Bs={key:1,class:"flex flex-col items-center justify-center h-64 gap-3"},Ps={key:2,class:"rounded-md border"},Ds={class:"flex flex-col py-2 h-full min-h-[100px]"},Fs={class:"flex items-start justify-between gap-2 mb-2"},js=["title"],Os={class:"flex items-center gap-2"},Ns={key:0,class:"flex flex-wrap gap-1"},Es={key:2,class:"text-sm whitespace-pre-wrap leading-relaxed"},Is={key:3,class:"text-sm"},Ts={class:"flex items-center justify-between w-full"},$s={class:"flex items-center gap-2 text-sm text-muted-foreground"},Rs=le({__name:"MetadadosComparison",props:{open:Boolean,selectedIds:{type:Array,default:()=>[]}},emits:["update:open","edit"],setup(e,{emit:l}){const o=e,r=l,u=G(),m=a(()=>u.loading),v=a(()=>o.selectedIds.map(e=>u.metadados.find(a=>a.id===e)).filter(Boolean)),f=[{key:"unidade",label:"Unidade",critical:!1,format:"text"},{key:"metadadoDeProcesso",label:"Metadado de Processo",critical:!1,format:"boolean"},{key:"tipoDocumento",label:"Tipo(s) de Documento",critical:!1,format:"array"},{key:"nomeMetadado",label:"Nome do Metadado",critical:!0,format:"text"},{key:"objetivoMetadado",label:"Objetivo",critical:!1,format:"text-long"},{key:"formatoMetadado",label:"Formato",critical:!0,format:"text"},{key:"admiteMultiplos",label:"Admite Múltiplos",critical:!1,format:"boolean"},{key:"tipoMetadados",label:"Tipo",critical:!0,format:"text"},{key:"versaoInicialAtende",label:"Versão Inicial Atende",critical:!1,format:"text"},{key:"observacao",label:"Observação",critical:!1,format:"text-long"},{key:"classeProcessual",label:"Classe Processual",critical:!1,format:"text"}],y=(e,a)=>{if(null==e||""===e)return"Não especificado";switch(a.format){case"boolean":return e?"Sim":"Não";case"array":return Array.isArray(e)?e.length>0?e.join(", "):"Nenhum":e||"Nenhum";case"text-long":default:return e||"Não especificado";case"number":return String(e)}},h=(e,a)=>{const t=f.find(a=>a.key===e);return a.map(a=>a[e]).every((e,a,t)=>{if(Array.isArray(e)&&Array.isArray(t[0])){if(e.length!==t[0].length)return!1;return[...e].sort().join("|")===[...t[0]].sort().join("|")}const l=e=>null==e||""===e?null:e;return l(e)===l(t[0])})?"bg-muted/30":t.critical?"bg-destructive/10 dark:bg-destructive/20 border-l-2 border-destructive font-semibold":"bg-accent/30 dark:bg-accent/20 border-l-2 border-accent"};return(a,l)=>(d(),s(t(sa),{open:e.open,"onUpdate:open":l[1]||(l[1]=e=>r("update:open",e))},{default:g(()=>[k(t(aa),{class:"max-w-[80vw] max-h-[90vh] overflow-hidden flex flex-col"},{default:g(()=>[k(t(ta),null,{default:g(()=>[k(t(la),{class:"flex items-center gap-2"},{default:g(()=>[k(t(Aa),{size:20}),l[2]||(l[2]=Q(" Comparação de Metadados ",-1))]),_:1}),k(t(na),null,{default:g(()=>[Q(" Comparando "+Y(v.value.length)+" metadado(s) lado a lado ",1)]),_:1})]),_:1}),Z("div",Ss,[m.value?(d(),i("div",As,[k(Qe,{size:"lg"}),l[3]||(l[3]=Z("p",{class:"ml-3 text-muted-foreground"},"Carregando metadados...",-1))])):v.value.length<2?(d(),i("div",Bs,[k(t(pe),{size:48,class:"text-muted-foreground"}),l[4]||(l[4]=Z("p",{class:"text-lg font-medium"}," Selecione pelo menos 2 metadados para comparar ",-1)),l[5]||(l[5]=Z("p",{class:"text-sm text-muted-foreground"}," Use os checkboxes na tabela para selecionar os metadados ",-1))])):(d(),i("div",Ps,[k(t(qe),null,{default:g(()=>[k(t(Ce),null,{default:g(()=>[k(t(Ve),{class:"bg-muted/50"},{default:g(()=>[k(t(Me),{class:"sticky left-0 bg-muted/50 z-20 font-bold border-r w-48"},{default:g(()=>[...l[6]||(l[6]=[Q(" Campo ",-1)])]),_:1}),(d(!0),i(c,null,p(v.value,e=>(d(),s(t(Me),{key:e.id,class:"min-w-[250px] max-w-[300px] border-r last:border-r-0 align-top"},{default:g(()=>[Z("div",Ds,[Z("div",Fs,[Z("span",{class:"font-semibold text-sm line-clamp-2",title:e.nomeMetadado},Y(e.nomeMetadado),9,js),k(t(ae),{variant:"outline",class:"text-xs flex-shrink-0"},{default:g(()=>[Q(" ID: "+Y(e.id),1)]),_:2},1024)]),l[8]||(l[8]=Z("div",{class:"flex-grow"},null,-1)),k(t(X),{size:"sm",variant:"outline",onClick:a=>r("edit",e.id),class:"w-full"},{default:g(()=>[k(t(We),{size:14,class:"mr-1"}),l[7]||(l[7]=Q(" Editar ",-1))]),_:1},8,["onClick"])])]),_:2},1024))),128))]),_:1})]),_:1}),k(t(Se),null,{default:g(()=>[(d(),i(c,null,p(f,e=>k(t(Ve),{key:e.key,class:"hover:bg-muted/30"},{default:g(()=>[k(t(Ae),{class:"sticky left-0 bg-background z-10 font-medium border-r"},{default:g(()=>[Z("div",Os,[Q(Y(e.label)+" ",1),e.critical?(d(),s(t(ae),{key:0,variant:"destructive",class:"text-xs"},{default:g(()=>[...l[9]||(l[9]=[Q(" Crítico ",-1)])]),_:1})):n("",!0)])]),_:2},1024),(d(!0),i(c,null,p(v.value,a=>(d(),s(t(Ae),{key:`${e.key}-${a.id}`,class:ee([h(e.key,v.value),"border-r last:border-r-0 transition-colors align-top"])},{default:g(()=>[Z("div",{class:ee((e.format,"max-w-[280px]"))},["array"===e.format&&Array.isArray(a[e.key])&&a[e.key].length>0?(d(),i("div",Ns,[(d(!0),i(c,null,p(a[e.key].slice(0,3),(e,a)=>(d(),s(t(ae),{key:a,variant:"secondary",class:"text-xs"},{default:g(()=>[Q(Y(e),1)]),_:2},1024))),128)),a[e.key].length>3?(d(),s(t(ae),{key:0,variant:"outline",class:"text-xs"},{default:g(()=>[Q(" +"+Y(a[e.key].length-3),1)]),_:2},1024)):n("",!0)])):"boolean"===e.format?(d(),s(t(ae),{key:1,variant:a[e.key]?"default":"outline",class:"text-xs"},{default:g(()=>[Q(Y(a[e.key]?"Sim":"Não"),1)]),_:2},1032,["variant"])):"text-long"===e.format?(d(),i("div",Es,Y(y(a[e.key],e)),1)):(d(),i("span",Is,Y(y(a[e.key],e)),1))],2)]),_:2},1032,["class"]))),128))]),_:2},1024)),64))]),_:1})]),_:1})]))]),k(t(oa),{class:"border-t pt-4"},{default:g(()=>[Z("div",Ts,[Z("div",$s,[k(t(ia),{size:16}),l[10]||(l[10]=Z("span",{class:"flex items-center gap-3"},[Z("span",{class:"flex items-center gap-1"},[Z("span",{class:"w-3 h-3 rounded bg-muted/30 border"}),Z("span",null,"Iguais")]),Z("span",{class:"flex items-center gap-1"},[Z("span",{class:"w-3 h-3 rounded bg-accent/30 border-l-2 border-accent"}),Z("span",null,"Diferentes")]),Z("span",{class:"flex items-center gap-1"},[Z("span",{class:"w-3 h-3 rounded bg-destructive/10 border-l-2 border-destructive"}),Z("span",null,"Críticos")])],-1))]),k(t(X),{onClick:l[0]||(l[0]=e=>r("update:open",!1))},{default:g(()=>[...l[11]||(l[11]=[Q(" Fechar ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},8,["open"]))}},[["__scopeId","data-v-0a7893e7"]]),Us={class:"space-y-6"},zs={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},Ls={__name:"Metadados",setup(e){const a=G(),l=C(!1),o=C(null),s=C(!1);function r(){o.value=null,l.value=!0}function u(e){o.value={...e},l.value=!0}function n(e){const{id:a,timestamp:t,...s}=e;o.value={...s,nomeMetadado:`${s.nomeMetadado} (Cópia)`},l.value=!0}function c(){a.loadMetadados()}function p(e){a.toggleReviewFlag(e)}function m(e){a.toggleSelection(e)}function v(e){a.selectMultiple(e)}function f(){a.clearSelection()}function y(){a.selectionCount<2?me.warning("Selecione pelo menos 2 metadados para comparar"):s.value=!0}function h(e){const t=a.metadados.find(a=>a.id===e);t?(o.value={...t},l.value=!0,s.value=!1):me.error("Metadado não encontrado")}return(e,b)=>(d(),i("div",Us,[Z("div",zs,[b[3]||(b[3]=Z("div",null,[Z("h1",{class:"text-3xl font-bold"},"Gestão de Metadados"),Z("p",{class:"text-muted-foreground"}," Gerencie todos os metadados de processos e documentos ")],-1)),k(t(X),{size:"lg",onClick:r},{default:g(()=>[k(t(Xe),{class:"w-4 h-4 mr-2"}),b[2]||(b[2]=Q(" Novo Metadado ",-1))]),_:1})]),k(Kt),k(eo,{onEdit:u,onDuplicate:n,onToggleReview:p,onToggleSelection:m,onSelectAll:v,onClearSelection:f,onCompare:y}),k(Ms,{modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=e=>l.value=e),item:o.value,onSaved:c},null,8,["modelValue","item"]),k(Rs,{open:s.value,"selected-ids":t(a).selectedForComparison,"onUpdate:open":b[1]||(b[1]=e=>s.value=e),onEdit:h},null,8,["open","selected-ids"])]))}};export{Ls as default};
