import{c as e,b as a,l as t,G as l,d as o,H as s,I as d,e as r,f as i,g as u,J as n,K as c,L as p,M as m,N as f,y as v,P as y,k as g,O as h,Q as b,r as _,w as x,n as k,R as w,S as q,U as C,o as V,a as M,V as S,W as A,X as B,Y as P,Z as D,$ as F,a0 as j,a1 as N,a2 as O,a3 as E,a4 as I,a5 as R,a6 as T,m as z,u as U,p as $,B as L,a7 as K,j as H,F as G,q as W,z as J,E as Z,a8 as Q,a9 as X,_ as Y,aa as ee,D as ae,ab as te,ac as le,ad as oe,ae as se,af as de,T as re,C as ie,ag as ue,ah as ne,ai as ce,aj as pe,ak as me,al as fe,am as ve,an as ye}from"./index-q7AElgBj.js";import{b as ge,c as he,_ as be,a as _e}from"./CardTitle-Cx4kFn00.js";import{_ as xe,a as ke,b as we,c as qe,d as Ce,u as Ve,e as Me}from"./TableRow-C7esiANn.js";import{u as Se,e as Ae,_ as Be,a as Pe,b as De,c as Fe,d as je}from"./SelectValue-D4wpgjez.js";import{F as Ne,P as Oe,S as Ee,a as Ie,b as Re}from"./Spinner-SJlxgytD.js";import{X as Te,_ as ze,a as Ue,b as $e,c as Le,d as Ke}from"./DialogTitle-C3dhr0Sv.js";import{S as He}from"./search-DfCfsAhW.js";import{F as Ge,S as We}from"./scale-CjrCMC7u.js";import{B as Je}from"./building-Cx1q5eLW.js";import{I as Ze}from"./info-CKFBU8TG.js";import{_ as Qe}from"./DialogDescription-BiUkz3v4.js";import{R as Xe,g as Ye,_ as ea,a as aa,U as ta}from"./index-DMsEPRd8.js";import{_ as la}from"./Separator-B0Ng24Jn.js";import{_ as oa}from"./Label-3oUe5xlR.js";import{_ as sa,a as da}from"./TableHeader-BZNKJkb8.js";import{i as ra,u as ia,a as ua,b as na,c as ca,C as pa}from"./Collection-CmN51-D3.js";import{C as ma}from"./chevron-right-Cf4BhaiB.js";import{V as fa,D as va}from"./VisuallyHiddenInput-Bh_-9-hA.js";import{T as ya}from"./trash-2-BMc_G41n.js";import{F as ga,u as ha,a as ba}from"./utils-DgVlmcvL.js";import{i as _a}from"./nullish-aV-w2MPu.js";
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=e("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ka=e("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),wa=e("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),qa=e("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ca=e("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Va=e("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),Ma=e("git-compare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]),Sa=e("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Aa=e("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Ba=e("save-all",[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]]),Pa=e("shapes",[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]]),Da=e("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Fa=e("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ja=e("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Na(e,a){return!_a(e)&&(Array.isArray(e)?e.some(e=>ra(e,a)):ra(e,a))}const[Oa]=l("CheckboxGroupRoot");function Ea(e){return"indeterminate"===e}function Ia(e){return Ea(e)?"indeterminate":e?"checked":"unchecked"}const[Ra,Ta]=l("CheckboxRoot");var za=o({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:l}){const o=e,g=l,{forwardRef:h,currentElement:b}=s(),_=Oa(null),x=d(o,"modelValue",g,{defaultValue:o.defaultValue,passive:void 0===o.modelValue}),k=a(()=>_?.disabled.value||o.disabled),w=a(()=>_a(_?.modelValue.value)?"indeterminate"===x.value?"indeterminate":x.value:Na(_.modelValue.value,o.value));function q(){if(_a(_?.modelValue.value))x.value=!!Ea(x.value)||!x.value;else{const e=[..._.modelValue.value||[]];if(Na(e,o.value)){const a=e.findIndex(e=>ra(e,o.value));e.splice(a,1)}else e.push(o.value);_.modelValue.value=e}}const C=ia(b),V=a(()=>o.id&&b.value?document.querySelector(`[for="${o.id}"]`)?.innerText:void 0);return Ta({disabled:k,state:w}),(e,a)=>(i(),r(v(t(_)?.rovingFocus.value?t(Xe):t(y)),p(e.$attrs,{id:e.id,ref:t(h),role:"checkbox","as-child":e.asChild,as:e.as,type:"button"===e.as?"button":void 0,"aria-checked":t(Ea)(w.value)?"mixed":w.value,"aria-required":e.required,"aria-label":e.$attrs["aria-label"]||V.value,"data-state":t(Ia)(w.value),"data-disabled":k.value?"":void 0,disabled:k.value,focusable:t(_)?.rovingFocus.value?!k.value:void 0,onKeydown:m(f(()=>{},["prevent"]),["enter"]),onClick:q}),{default:u(()=>[n(e.$slots,"default",{modelValue:t(x),state:w.value}),t(C)&&e.name&&!t(_)?(i(),r(t(fa),{key:0,type:"checkbox",checked:!!w.value,name:e.name,value:e.value,disabled:k.value,required:e.required},null,8,["checked","name","value","disabled","required"])):c("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),Ua=o({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const{forwardRef:a}=s(),l=Ra();return(e,o)=>(i(),r(t(h),{present:e.forceMount||t(Ea)(t(l).state.value)||!0===t(l).state.value},{default:u(()=>[g(t(y),p({ref:t(a),"data-state":t(Ia)(t(l).state.value),"data-disabled":t(l).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":e.asChild,as:e.as},e.$attrs),{default:u(()=>[n(e.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}});function $a(e,a,t){return void 0!==e&&void 0!==a&&("string"==typeof e?e===a:"function"==typeof t?t(e,a):"string"==typeof t?e?.[t]===a?.[t]:ra(e,a))}const[La,Ka]=l("ListboxRoot");var Ha=o({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{expose:a,emit:l}){const o=e,s=l,{multiple:p,highlightOnHover:m,orientation:f,disabled:v,selectionBehavior:g,dir:h}=b(o),{getItems:q}=ua({isProvider:!0}),{handleTypeaheadSearch:C}=Se(),{primitiveElement:V,currentElement:M}=na(),S={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"},A=ca(h),B=ia(M),P=_(),D=_(!1),F=_(!0),j=d(o,"modelValue",s,{defaultValue:o.defaultValue??(p.value?[]:void 0),passive:void 0===o.modelValue,deep:!0});const N=_(null),O=_(null),E=_(!1),I=_(!1),R=w(),T=w(),z=w();function U(){return q().map(e=>e.ref).filter(e=>""!==e.dataset.disabled)}function $(e,a=!0){if(!e)return;N.value=e,F.value&&N.value.focus(),a&&N.value.scrollIntoView({block:"nearest"});const t=q().find(a=>a.ref===e);s("highlight",t)}function L(){k(()=>{H(new KeyboardEvent("keydown",{key:"PageUp"}))})}function K(e){const a=N.value;a?.isConnected&&(O.value=a),N.value=null,s("leave",e)}function H(e){const a=Ye(e,f.value,A.value);if(!a)return;let t=U();if(N.value){if("last"===a)t.reverse();else if("prev"===a||"next"===a){"prev"===a&&t.reverse();const e=t.indexOf(N.value);t=t.slice(e+1)}!function(e,a){if(E.value||"replace"!==o.selectionBehavior||!p.value||!Array.isArray(j.value))return;const t=e.altKey||e.ctrlKey||e.metaKey;if(t&&!e.shiftKey)return;if(e.shiftKey){const t=q().filter(e=>""!==e.ref.dataset.disabled);let l=t.find(e=>e.ref===a)?.value;if(e.key===S.END?l=t[t.length-1].value:e.key===S.HOME&&(l=t[0].value),!l||!P.value)return;const o=function(e,a,t){const l=e.findIndex(e=>ra(e,a)),o=e.findIndex(e=>ra(e,t));if(-1===l||-1===o)return[];const[s,d]=[l,o].sort((e,a)=>e-a);return e.slice(s,d+1)}(t.map(e=>e.value),P.value,l);j.value=o}}(e,t[0])}if(t.length){$(t[N.value||"prev"!==a?0:t.length-1])}return E.value?T.trigger(e):void 0}async function G(e){if(await k(),E.value)R.trigger(e);else{const e=U(),a=e.find(e=>"checked"===e.dataset.state);a?$(a):e.length&&$(e[0])}}return x(j,()=>{D.value||k(()=>{G()})},{immediate:!0,deep:!0}),a({highlightedElement:N,highlightItem:function(e){if(E.value)z.trigger(e);else{const a=q().find(a=>$a(a.value,e,o.by));a&&(N.value=a.ref,$(a.ref))}},highlightFirstItem:L,highlightSelected:G,getItems:q}),Ka({modelValue:j,onValueChange:function(e){if(D.value=!0,o.multiple){const a=Array.isArray(j.value)?[...j.value]:[],t=a.findIndex(a=>$a(a,e,o.by));"toggle"===o.selectionBehavior?(-1===t?a.push(e):a.splice(t,1),j.value=a):(j.value=[e],P.value=e)}else"toggle"===o.selectionBehavior&&$a(j.value,e,o.by)?j.value=void 0:j.value=e;setTimeout(()=>{D.value=!1},1)},multiple:p,orientation:f,dir:A,disabled:v,highlightOnHover:m,highlightedElement:N,isVirtual:E,virtualFocusHook:R,virtualKeydownHook:T,virtualHighlightHook:z,by:o.by,firstValue:P,selectionBehavior:g,focusable:F,onLeave:K,onEnter:function(e){const a=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(e.currentTarget?.dispatchEvent(a),s("entryFocus",a),!a.defaultPrevented)if(O.value)$(O.value);else{const e=U()?.[0];$(e)}},changeHighlight:$,onKeydownEnter:function(e){N.value&&N.value.isConnected&&(e.preventDefault(),e.stopPropagation(),I.value||N.value.click())},onKeydownNavigation:H,onKeydownTypeAhead:function(e){if(F.value){if(D.value=!0,E.value)T.trigger(e);else{const a=e.altKey||e.ctrlKey||e.metaKey;if(a&&"a"===e.key&&p.value){const a=q(),t=a.map(e=>e.value);j.value=[...t],e.preventDefault(),$(a[a.length-1].ref)}else if(!a){const a=C(e.key,q());a&&$(a)}}setTimeout(()=>{D.value=!1},1)}},onCompositionStart:function(){I.value=!0},onCompositionEnd:function(){k(()=>{I.value=!1})},highlightFirstItem:L}),(e,a)=>(i(),r(t(y),{ref_key:"primitiveElement",ref:V,as:e.as,"as-child":e.asChild,dir:t(A),"data-disabled":t(v)?"":void 0,onPointerleave:K,onFocusout:a[0]||(a[0]=async e=>{const a=e.relatedTarget||e.target;await k(),N.value&&t(M)&&!t(M).contains(a)&&K(e)})},{default:u(()=>[n(e.$slots,"default",{modelValue:t(j)}),t(B)&&e.name?(i(),r(t(fa),{key:0,name:e.name,value:t(j),disabled:t(v),required:e.required},null,8,["name","value","disabled","required"])):c("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Ga=o({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const{CollectionSlot:a}=ua(),l=La(),o=q(!1,10);return(e,s)=>(i(),r(t(a),null,{default:u(()=>[g(t(y),{role:"listbox",as:e.as,"as-child":e.asChild,tabindex:t(l).focusable.value?t(l).highlightedElement.value?"-1":"0":"-1","aria-orientation":t(l).orientation.value,"aria-multiselectable":!!t(l).multiple.value,"data-orientation":t(l).orientation.value,onMousedown:s[0]||(s[0]=f(e=>o.value=!0,["left"])),onFocus:s[1]||(s[1]=e=>{t(o)||t(l).onEnter(e)}),onKeydown:[s[2]||(s[2]=m(e=>{("vertical"!==t(l).orientation.value||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key)&&("horizontal"!==t(l).orientation.value||"ArrowUp"!==e.key&&"ArrowDown"!==e.key)&&(e.preventDefault(),t(l).focusable.value&&t(l).onKeydownNavigation(e))},["down","up","left","right","home","end"])),m(t(l).onKeydownEnter,["enter"]),t(l).onKeydownTypeAhead]},{default:u(()=>[n(e.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),Wa=o({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(e,{emit:l}){const o=e,s=d(o,"modelValue",l,{defaultValue:"",passive:void 0===o.modelValue}),c=La(),{primitiveElement:p,currentElement:v}=na(),g=a(()=>o.disabled||c.disabled.value||!1),h=_();return C(()=>h.value=c.highlightedElement.value?.id),V(()=>{c.focusable.value=!1,setTimeout(()=>{o.autoFocus&&v.value?.focus()},1)}),M(()=>{c.focusable.value=!0}),(e,a)=>(i(),r(t(y),{ref_key:"primitiveElement",ref:p,as:e.as,"as-child":e.asChild,value:t(s),disabled:g.value?"":void 0,"data-disabled":g.value?"":void 0,"aria-disabled":g.value??void 0,"aria-activedescendant":h.value,type:"text",onKeydown:[m(f(t(c).onKeydownNavigation,["prevent"]),["down","up","home","end"]),m(t(c).onKeydownEnter,["enter"])],onInput:a[0]||(a[0]=e=>{s.value=e.target.value,t(c).highlightFirstItem()}),onCompositionstart:t(c).onCompositionStart,onCompositionend:t(c).onCompositionEnd},{default:u(()=>[n(e.$slots,"default",{modelValue:t(s)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}});const[Ja,Za]=l("ListboxGroup");var Qa=o({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e,l=S(void 0,"reka-listbox-group");return Za({id:l}),(e,o)=>(i(),r(t(y),p({role:"group"},a,{"aria-labelledby":t(l)}),{default:u(()=>[n(e.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Xa=o({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const a=e,l=Ja({id:""});return(e,o)=>(i(),r(t(y),p(a,{id:t(l).id}),{default:u(()=>[n(e.$slots,"default")]),_:3},16,["id"]))}});const[Ya,et]=l("ListboxItem");var at=o({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(e,{emit:l}){const o=e,d=l,c=S(void 0,"reka-listbox-item"),{CollectionItem:v}=ua(),{forwardRef:h,currentElement:b}=s(),_=La(),x=a(()=>b.value===_.highlightedElement.value),k=a(()=>{return e=_.modelValue.value,a=o.value,t=_.by,void 0!==e&&(Array.isArray(e)?e.some(e=>$a(e,a,t)):$a(e,a,t));var e,a,t}),w=a(()=>_.disabled.value||o.disabled);async function q(e){d("select",e),e?.defaultPrevented||!w.value&&e&&(_.onValueChange(o.value),_.changeHighlight(b.value))}function C(e){const a={originalEvent:e,value:o.value};B("listbox.select",q,a)}return et({isSelected:k}),(e,a)=>(i(),r(t(v),{value:e.value},{default:u(()=>[A([x.value,k.value],()=>g(t(y),p({id:t(c)},e.$attrs,{ref:t(h),role:"option",tabindex:t(_).focusable.value?x.value?"0":"-1":-1,"aria-selected":k.value,as:e.as,"as-child":e.asChild,disabled:w.value?"":void 0,"data-disabled":w.value?"":void 0,"data-highlighted":x.value?"":void 0,"data-state":k.value?"checked":"unchecked",onClick:C,onKeydown:m(f(C,["prevent"]),["space"]),onPointermove:a[0]||(a[0]=()=>{t(_).highlightedElement.value!==t(b)&&t(_).highlightOnHover.value&&!t(_).focusable.value&&t(_).changeHighlight(t(b),!1)})}),{default:u(()=>[n(e.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),a,1)]),_:3},8,["value"]))}});const[tt,lt]=l("PopoverRoot");var ot=o({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(e,{emit:a}){const l=e,o=a,{modal:s}=b(l),c=d(l,"open",o,{defaultValue:l.defaultOpen,passive:void 0===l.open}),p=_(),m=_(!1);return lt({contentId:"",triggerId:"",modal:s,open:c,onOpenChange:e=>{c.value=e},onOpenToggle:()=>{c.value=!c.value},triggerElement:p,hasCustomAnchor:m}),(e,a)=>(i(),r(t(P),null,{default:u(()=>[n(e.$slots,"default",{open:t(c),close:()=>c.value=!1})]),_:3}))}}),st=o({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const l=a,o=D(F(e,"trapFocus","disableOutsidePointerEvents")),{forwardRef:d}=s(),c=tt();return Ae(),(e,a)=>(i(),r(t(ga),{"as-child":"",loop:"",trapped:e.trapFocus,onMountAutoFocus:a[5]||(a[5]=e=>l("openAutoFocus",e)),onUnmountAutoFocus:a[6]||(a[6]=e=>l("closeAutoFocus",e))},{default:u(()=>[g(t(j),{"as-child":"","disable-outside-pointer-events":e.disableOutsidePointerEvents,onPointerDownOutside:a[0]||(a[0]=e=>l("pointerDownOutside",e)),onInteractOutside:a[1]||(a[1]=e=>l("interactOutside",e)),onEscapeKeyDown:a[2]||(a[2]=e=>l("escapeKeyDown",e)),onFocusOutside:a[3]||(a[3]=e=>l("focusOutside",e)),onDismiss:a[4]||(a[4]=e=>t(c).onOpenChange(!1))},{default:u(()=>[g(t(N),p(t(o),{id:t(c).contentId,ref:t(d),"data-state":t(c).open.value?"open":"closed","aria-labelledby":t(c).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:u(()=>[n(e.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),dt=o({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const l=e,o=a,d=tt(),c=_(!1);ha(!0);const m=O(l,o),{forwardRef:v,currentElement:y}=s();return ba(y),(e,a)=>(i(),r(st,p(t(m),{ref:t(v),"trap-focus":t(d).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:a[0]||(a[0]=f(e=>{o("closeAutoFocus",e),c.value||t(d).triggerElement.value?.focus()},["prevent"])),onPointerDownOutside:a[1]||(a[1]=e=>{o("pointerDownOutside",e);const a=e.detail.originalEvent,t=0===a.button&&!0===a.ctrlKey,l=2===a.button||t;c.value=l}),onFocusOutside:a[2]||(a[2]=f(()=>{},["prevent"]))}),{default:u(()=>[n(e.$slots,"default")]),_:3},16,["trap-focus"]))}}),rt=o({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const l=e,o=a,s=tt(),d=_(!1),c=_(!1),m=O(l,o);return(e,a)=>(i(),r(st,p(t(m),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:a[0]||(a[0]=e=>{o("closeAutoFocus",e),e.defaultPrevented||(d.value||t(s).triggerElement.value?.focus(),e.preventDefault()),d.value=!1,c.value=!1}),onInteractOutside:a[1]||(a[1]=async e=>{o("interactOutside",e),e.defaultPrevented||(d.value=!0,"pointerdown"===e.detail.originalEvent.type&&(c.value=!0));const a=e.target,l=t(s).triggerElement.value?.contains(a);l&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&c.value&&e.preventDefault()})}),{default:u(()=>[n(e.$slots,"default")]),_:3},16))}}),it=o({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const l=e,o=a,d=tt(),c=O(l,o),{forwardRef:m}=s();return d.contentId||=S(void 0,"reka-popover-content"),(e,a)=>(i(),r(t(h),{present:e.forceMount||t(d).open.value},{default:u(()=>[t(d).modal.value?(i(),r(dt,p({key:0},t(c),{ref:t(m)}),{default:u(()=>[n(e.$slots,"default")]),_:3},16)):(i(),r(rt,p({key:1},t(c),{ref:t(m)}),{default:u(()=>[n(e.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),ut=o({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const a=e;return(e,l)=>(i(),r(t(R),E(I(a)),{default:u(()=>[n(e.$slots,"default")]),_:3},16))}}),nt=o({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const a=e,l=tt(),{forwardRef:o,currentElement:d}=s();return l.triggerId||=S(void 0,"reka-popover-trigger"),V(()=>{l.triggerElement.value=d.value}),(e,s)=>(i(),r(v(t(l).hasCustomAnchor.value?t(y):t(T)),{"as-child":""},{default:u(()=>[g(t(y),{id:t(l).triggerId,ref:t(o),type:"button"===e.as?"button":void 0,"aria-haspopup":"dialog","aria-expanded":t(l).open.value,"aria-controls":t(l).contentId,"data-state":t(l).open.value?"open":"closed",as:e.as,"as-child":a.asChild,onClick:t(l).onOpenToggle},{default:u(()=>[n(e.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}});const[ct,pt]=l("SwitchRoot");var mt=o({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:l}){const o=e,v=l,{disabled:g}=b(o),h=d(o,"modelValue",v,{defaultValue:o.defaultValue,passive:void 0===o.modelValue});function _(){g.value||(h.value=!h.value)}const{forwardRef:x,currentElement:k}=s(),w=ia(k),q=a(()=>o.id&&k.value?document.querySelector(`[for="${o.id}"]`)?.innerText:void 0);return pt({modelValue:h,toggleCheck:_,disabled:g}),(e,a)=>(i(),r(t(y),p(e.$attrs,{id:e.id,ref:t(x),role:"switch",type:"button"===e.as?"button":void 0,value:e.value,"aria-label":e.$attrs["aria-label"]||q.value,"aria-checked":t(h),"aria-required":e.required,"data-state":t(h)?"checked":"unchecked","data-disabled":t(g)?"":void 0,"as-child":e.asChild,as:e.as,disabled:t(g),onClick:_,onKeydown:m(f(_,["prevent"]),["enter"])}),{default:u(()=>[n(e.$slots,"default",{modelValue:t(h)}),t(w)&&e.name?(i(),r(t(fa),{key:0,type:"checkbox",name:e.name,disabled:t(g),required:e.required,value:e.value,checked:!!t(h)},null,8,["name","disabled","required","value","checked"])):c("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),ft=o({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const a=ct();return s(),(e,l)=>(i(),r(t(y),{"data-state":t(a).modelValue?.value?"checked":"unchecked","data-disabled":t(a).disabled.value?"":void 0,"as-child":e.asChild,as:e.as},{default:u(()=>[n(e.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}});const vt={class:"flex items-center justify-between w-full"},yt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-4"},gt={class:"relative md:col-span-1 lg:col-span-4"},ht={class:"md:col-span-1 lg:col-span-4"},bt={class:"md:col-span-2 lg:col-span-4"},_t={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-12 gap-4"},xt={class:"md:col-span-1 lg:col-span-2"},kt={class:"md:col-span-1 lg:col-span-2"},wt={class:"md:col-span-1 lg:col-span-2"},qt={class:"md:col-span-1 lg:col-span-2"},Ct={class:"md:col-span-1 lg:col-span-2"},Vt={class:"md:col-span-1 lg:col-span-2"},Mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-4"},St={class:"md:col-span-1 lg:col-span-3"},At={key:0,class:"flex flex-wrap gap-2"},Bt={key:1,class:"flex items-center gap-2 rounded-lg border bg-background px-4 py-3 text-sm"},Pt={__name:"MetadadosFilters",setup(e){const l=z(),o=U(),s=_({busca:l.filters.busca||"",unidade:l.filters.unidade||"",tipoDocumento:l.filters.tipoDocumento||"",tipoMetadados:l.filters.tipoMetadados||"",classeProcessual:l.filters.classeProcessual||"",metadadoDeProcesso:l.filters.metadadoDeProcesso||"",versaoInicialAtende:l.filters.versaoInicialAtende||"",formatoMetadado:l.filters.formatoMetadado||"",objetivoStatus:l.filters.objetivoStatus||"all",precisaRevisao:l.filters.precisaRevisao||"all"}),d=a(()=>["Todas",...o.unidadesAtivas]),n=a(()=>{const e=new Set;l.metadados.forEach(a=>{Array.isArray(a.tipoDocumento)?a.tipoDocumento.forEach(a=>{a&&e.add(a)}):a.tipoDocumento&&e.add(a.tipoDocumento)});return["Todos",...Array.from(e).sort((e,a)=>e.localeCompare(a,"pt-BR"))]}),p=a(()=>["Todos","Simples","Composto"]),m=a(()=>{const e=new Set;l.metadados.forEach(a=>{a.classeProcessual&&"Não informado"!==a.classeProcessual&&e.add(a.classeProcessual)});return["Todas","Não informado",...Array.from(e).sort((e,a)=>e.localeCompare(a,"pt-BR"))]}),f=a(()=>["Sim","Não","Parcialmente","Não especificado"]),v=a(()=>["Todos","Não especificado",...o.formatosMetadadoAtivos]),y=a(()=>!!(s.value.busca||s.value.unidade||s.value.tipoDocumento||s.value.tipoMetadados||s.value.classeProcessual||s.value.metadadoDeProcesso||s.value.versaoInicialAtende||s.value.formatoMetadado||"all"!==s.value.objetivoStatus||"all"!==s.value.precisaRevisao)),h=a(()=>l.filteredMetadados.length);function b(){s.value={busca:"",unidade:"",tipoDocumento:"",tipoMetadados:"",classeProcessual:"",metadadoDeProcesso:"",versaoInicialAtende:"",formatoMetadado:"",objetivoStatus:"all",precisaRevisao:"all"},l.clearFilters()}return x(s,e=>{l.filters.busca=e.busca||"",l.filters.unidade="Todas"===e.unidade?"":e.unidade||"",l.filters.tipoDocumento="Todos"===e.tipoDocumento?"":e.tipoDocumento||"",l.filters.tipoMetadados="Todos"===e.tipoMetadados?"":e.tipoMetadados||"",l.filters.classeProcessual="Todas"===e.classeProcessual?"":e.classeProcessual||"",l.filters.metadadoDeProcesso=e.metadadoDeProcesso||"",l.filters.versaoInicialAtende=e.versaoInicialAtende||"",l.filters.formatoMetadado="Todos"===e.formatoMetadado?"":e.formatoMetadado||"",l.filters.objetivoStatus=e.objetivoStatus||"all",l.filters.precisaRevisao="all"===e.precisaRevisao?"":e.precisaRevisao||"",l.currentPage=1},{deep:!0}),(e,a)=>(i(),r(t(_e),null,{default:u(()=>[g(t(ge),null,{default:u(()=>[$("div",vt,[g(t(he),{class:"flex items-center gap-2"},{default:u(()=>[g(t(Ne),{class:"w-5 h-5"}),a[20]||(a[20]=L(" Filtros ",-1))]),_:1}),y.value?(i(),r(t(K),{key:0,variant:"ghost",size:"sm",onClick:b},{default:u(()=>[g(t(Te),{class:"w-4 h-4 mr-2"}),a[21]||(a[21]=L(" Limpar Filtros ",-1))]),_:1})):c("",!0)])]),_:1}),g(t(be),{class:"space-y-4"},{default:u(()=>[$("div",yt,[$("div",gt,[g(t(He),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),g(t(xe),{modelValue:s.value.busca,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value.busca=e),placeholder:"Nome, objetivo, observação...",class:"pl-9"},null,8,["modelValue"])]),$("div",ht,[g(t(Be),{modelValue:s.value.tipoDocumento,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value.tipoDocumento=e)},{default:u(()=>[g(t(Pe),null,{default:u(()=>[g(t(Ge),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Tipo de Documento"})]),_:1}),g(t(Fe),null,{default:u(()=>[(i(!0),H(G,null,W(n.value,e=>(i(),r(t(je),{key:e,value:e},{default:u(()=>[L(J(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),$("div",bt,[g(t(Be),{modelValue:s.value.classeProcessual,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value.classeProcessual=e)},{default:u(()=>[g(t(Pe),null,{default:u(()=>[g(t(We),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Classe Processual"})]),_:1}),g(t(Fe),null,{default:u(()=>[(i(!0),H(G,null,W(m.value,e=>(i(),r(t(je),{key:e,value:e},{default:u(()=>[L(J(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),$("div",_t,[$("div",xt,[g(t(Be),{modelValue:s.value.unidade,"onUpdate:modelValue":a[3]||(a[3]=e=>s.value.unidade=e)},{default:u(()=>[g(t(Pe),null,{default:u(()=>[g(t(Je),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Unidade"})]),_:1}),g(t(Fe),null,{default:u(()=>[(i(!0),H(G,null,W(d.value,e=>(i(),r(t(je),{key:e,value:e},{default:u(()=>[L(J(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),$("div",kt,[g(t(Be),{modelValue:s.value.tipoMetadados,"onUpdate:modelValue":a[4]||(a[4]=e=>s.value.tipoMetadados=e)},{default:u(()=>[g(t(Pe),null,{default:u(()=>[g(t(Pa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Tipo de Metadados"})]),_:1}),g(t(Fe),null,{default:u(()=>[(i(!0),H(G,null,W(p.value,e=>(i(),r(t(je),{key:e,value:e},{default:u(()=>[L(J(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),$("div",wt,[g(t(Be),{modelValue:s.value.metadadoDeProcesso,"onUpdate:modelValue":a[5]||(a[5]=e=>s.value.metadadoDeProcesso=e)},{default:u(()=>[g(t(Pe),null,{default:u(()=>[g(t(wa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Metadado de Processo"})]),_:1}),g(t(Fe),null,{default:u(()=>[g(t(je),{value:"true"},{default:u(()=>[...a[22]||(a[22]=[L("Sim",-1)])]),_:1}),g(t(je),{value:"false"},{default:u(()=>[...a[23]||(a[23]=[L("Não",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),$("div",qt,[g(t(Be),{modelValue:s.value.versaoInicialAtende,"onUpdate:modelValue":a[6]||(a[6]=e=>s.value.versaoInicialAtende=e)},{default:u(()=>[g(t(Pe),null,{default:u(()=>[g(t(wa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Versão Inicial Atende"})]),_:1}),g(t(Fe),null,{default:u(()=>[(i(!0),H(G,null,W(f.value,e=>(i(),r(t(je),{key:e,value:e},{default:u(()=>[L(J(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),$("div",Ct,[g(t(Be),{modelValue:s.value.formatoMetadado,"onUpdate:modelValue":a[7]||(a[7]=e=>s.value.formatoMetadado=e)},{default:u(()=>[g(t(Pe),null,{default:u(()=>[g(t(ja),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Formato"})]),_:1}),g(t(Fe),null,{default:u(()=>[(i(!0),H(G,null,W(v.value,e=>(i(),r(t(je),{key:e,value:e},{default:u(()=>[L(J(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),$("div",Vt,[g(t(Be),{modelValue:s.value.precisaRevisao,"onUpdate:modelValue":a[8]||(a[8]=e=>s.value.precisaRevisao=e)},{default:u(()=>[g(t(Pe),null,{default:u(()=>[g(t(Va),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Status de Revisão"})]),_:1}),g(t(Fe),null,{default:u(()=>[g(t(je),{value:"all"},{default:u(()=>[...a[24]||(a[24]=[L("Todos",-1)])]),_:1}),g(t(je),{value:"true"},{default:u(()=>[...a[25]||(a[25]=[L("Precisa Revisão",-1)])]),_:1}),g(t(je),{value:"false"},{default:u(()=>[...a[26]||(a[26]=[L("Revisados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),$("div",Mt,[$("div",St,[g(t(Be),{modelValue:s.value.objetivoStatus,"onUpdate:modelValue":a[9]||(a[9]=e=>s.value.objetivoStatus=e)},{default:u(()=>[g(t(Pe),null,{default:u(()=>[g(t(wa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Status do Objetivo"})]),_:1}),g(t(Fe),null,{default:u(()=>[g(t(je),{value:"all"},{default:u(()=>[...a[27]||(a[27]=[L("Todos",-1)])]),_:1}),g(t(je),{value:"defined"},{default:u(()=>[...a[28]||(a[28]=[L("Apenas com objetivo definido",-1)])]),_:1}),g(t(je),{value:"undefined"},{default:u(()=>[...a[29]||(a[29]=[L("Apenas sem objetivo (não informado)",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),y.value?(i(),H("div",At,[s.value.unidade?(i(),r(t(Z),{key:0,variant:"default",class:"flex items-center gap-1 pr-1"},{default:u(()=>[g(t(Je),{class:"w-3 h-3"}),L(" "+J(s.value.unidade)+" ",1),$("button",{onClick:a[10]||(a[10]=e=>s.value.unidade=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[g(t(Te),{class:"w-3 h-3"})])]),_:1})):c("",!0),s.value.tipoDocumento?(i(),r(t(Z),{key:1,variant:"default",class:"flex items-center gap-1 pr-1"},{default:u(()=>[g(t(Ge),{class:"w-3 h-3"}),L(" "+J(s.value.tipoDocumento)+" ",1),$("button",{onClick:a[11]||(a[11]=e=>s.value.tipoDocumento=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[g(t(Te),{class:"w-3 h-3"})])]),_:1})):c("",!0),s.value.tipoMetadados?(i(),r(t(Z),{key:2,variant:"default",class:"flex items-center gap-1 pr-1"},{default:u(()=>[g(t(Pa),{class:"w-3 h-3"}),L(" "+J(s.value.tipoMetadados)+" ",1),$("button",{onClick:a[12]||(a[12]=e=>s.value.tipoMetadados=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[g(t(Te),{class:"w-3 h-3"})])]),_:1})):c("",!0),s.value.busca?(i(),r(t(Z),{key:3,variant:"default",class:"flex items-center gap-1 pr-1"},{default:u(()=>[g(t(He),{class:"w-3 h-3"}),L(' "'+J(s.value.busca)+'" ',1),$("button",{onClick:a[13]||(a[13]=e=>s.value.busca=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[g(t(Te),{class:"w-3 h-3"})])]),_:1})):c("",!0),s.value.classeProcessual?(i(),r(t(Z),{key:4,variant:"default",class:"flex items-center gap-1 pr-1"},{default:u(()=>[g(t(We),{class:"w-3 h-3"}),L(" "+J(s.value.classeProcessual)+" ",1),$("button",{onClick:a[14]||(a[14]=e=>s.value.classeProcessual=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[g(t(Te),{class:"w-3 h-3"})])]),_:1})):c("",!0),s.value.metadadoDeProcesso?(i(),r(t(Z),{key:5,variant:"default",class:"flex items-center gap-1 pr-1"},{default:u(()=>[g(t(wa),{class:"w-3 h-3"}),L(" Processo: "+J("true"===s.value.metadadoDeProcesso?"Sim":"Não")+" ",1),$("button",{onClick:a[15]||(a[15]=e=>s.value.metadadoDeProcesso=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[g(t(Te),{class:"w-3 h-3"})])]),_:1})):c("",!0),s.value.versaoInicialAtende?(i(),r(t(Z),{key:6,variant:"default",class:"flex items-center gap-1 pr-1"},{default:u(()=>[g(t(wa),{class:"w-3 h-3"}),L(" Versão: "+J(s.value.versaoInicialAtende)+" ",1),$("button",{onClick:a[16]||(a[16]=e=>s.value.versaoInicialAtende=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[g(t(Te),{class:"w-3 h-3"})])]),_:1})):c("",!0),s.value.formatoMetadado?(i(),r(t(Z),{key:7,variant:"default",class:"flex items-center gap-1 pr-1"},{default:u(()=>[g(t(ja),{class:"w-3 h-3"}),L(" "+J(s.value.formatoMetadado)+" ",1),$("button",{onClick:a[17]||(a[17]=e=>s.value.formatoMetadado=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[g(t(Te),{class:"w-3 h-3"})])]),_:1})):c("",!0),"all"!==s.value.objetivoStatus?(i(),r(t(Z),{key:8,variant:"default",class:"flex items-center gap-1 pr-1"},{default:u(()=>[g(t(wa),{class:"w-3 h-3"}),L(" Objetivo: "+J("defined"===s.value.objetivoStatus?"Com objetivo":"Sem objetivo")+" ",1),$("button",{onClick:a[18]||(a[18]=e=>s.value.objetivoStatus="all"),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[g(t(Te),{class:"w-3 h-3"})])]),_:1})):c("",!0),s.value.precisaRevisao?(i(),r(t(Z),{key:9,variant:"default",class:"flex items-center gap-1 pr-1"},{default:u(()=>[g(t(Va),{class:"w-3 h-3"}),L(" Revisão: "+J("true"===s.value.precisaRevisao?"Precisa Revisão":"Revisados")+" ",1),$("button",{onClick:a[19]||(a[19]=e=>s.value.precisaRevisao=""),class:"ml-1 hover:bg-primary/20 rounded-full p-0.5"},[g(t(Te),{class:"w-3 h-3"})])]),_:1})):c("",!0)])):c("",!0),null!==h.value?(i(),H("div",Bt,[g(t(Ze),{class:"w-4 h-4 text-foreground shrink-0"}),$("span",null,J(h.value)+" "+J(1===h.value?"registro encontrado":"registros encontrados"),1)])):c("",!0)]),_:1})]),_:1}))}},Dt=["checked","disabled"],Ft={__name:"CheckboxNative",props:{modelValue:{type:[Boolean,Array],default:!1},value:{type:[String,Number,Boolean],default:null},disabled:{type:Boolean,default:!1},class:{type:String,default:""},checked:{type:[Boolean,Array],default:void 0}},emits:["update:modelValue","update:checked"],setup(e,{emit:l}){const o=e,s=l,d=a(()=>{const e=void 0!==o.checked?o.checked:o.modelValue;return Array.isArray(e)?null!==o.value&&e.includes(o.value):Boolean(e)}),u=a(()=>o.class);function n(e){const a=e.target.checked,t=void 0!==o.checked?o.checked:o.modelValue;if(Array.isArray(t)){const e=[...t],l=e.indexOf(o.value);a&&-1===l?e.push(o.value):!a&&l>-1&&e.splice(l,1),s("update:modelValue",e),void 0!==o.checked&&s("update:checked",e)}else s("update:modelValue",a),void 0!==o.checked&&s("update:checked",a)}return(a,l)=>(i(),H("label",{class:Q(["inline-flex items-center justify-center relative cursor-pointer",{"cursor-not-allowed":e.disabled}])},[$("input",{type:"checkbox",checked:d.value,disabled:e.disabled,onChange:n,class:"sr-only peer"},null,40,Dt),$("span",{class:Q(["grid place-content-center h-4 w-4 shrink-0 rounded-sm border border-primary shadow transition-colors duration-200 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring peer-disabled:cursor-not-allowed peer-disabled:opacity-50",[d.value?"bg-primary text-primary-foreground":"bg-background",u.value]])},[d.value?(i(),r(t(pa),{key:0,class:"h-4 w-4 text-current"})):c("",!0)],2)],2))}},jt={class:"text-sm font-normal text-muted-foreground"},Nt={class:"relative flex items-center justify-center min-h-[400px] max-h-[60vh] bg-muted rounded-lg overflow-hidden"},Ot=["src","alt"],Et={class:"grid grid-cols-3 gap-4 py-2 text-sm"},It=["title"],Rt={class:"font-medium"},Tt={class:"font-medium"},zt=["onClick"],Ut=["src","alt"],$t={__name:"ImageGalleryModal",props:{images:{type:Array,required:!0,default:()=>[]},initialIndex:{type:Number,default:0},open:{type:Boolean,default:!1}},emits:["update:open"],setup(e){const l=e,o=_(0),s=_(null),d=a(()=>0===l.images.length?null:l.images[o.value]||null);function n(){o.value>0&&(o.value--,m(o.value))}function p(){o.value<l.images.length-1&&(o.value++,m(o.value))}function m(e){if(!s.value)return;const a=s.value.children;a[e]&&a[e].scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}function f(e){if(l.open)switch(e.key){case"ArrowLeft":e.preventDefault(),n();break;case"ArrowRight":e.preventDefault(),p();break;case"Escape":e.preventDefault()}}function v(e){if(!e)return"—";try{return new Date(e).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"—"}}function y(){if(!d.value)return;const e=document.createElement("a");e.href=d.value.data,e.download=d.value.name,e.click()}return x(()=>l.open,e=>{e&&(o.value=Math.min(l.initialIndex,l.images.length-1),k(()=>{m(o.value)}))}),x(()=>l.open,e=>{e?window.addEventListener("keydown",f):window.removeEventListener("keydown",f)}),(a,l)=>(i(),r(t(Ke),{open:e.open,"onUpdate:open":l[1]||(l[1]=e=>a.$emit("update:open",e))},{default:u(()=>[g(t(ze),{class:"max-w-5xl max-h-[95vh] overflow-hidden"},{default:u(()=>{return[g(t(Ue),null,{default:u(()=>[g(t($e),{class:"flex items-center justify-between"},{default:u(()=>[$("span",null," Imagem "+J(o.value+1)+" de "+J(e.images.length),1),$("span",jt,J(d.value?.name),1)]),_:1})]),_:1}),$("div",Nt,[d.value?(i(),H("img",{key:0,src:d.value.data,alt:d.value.name,class:"max-h-full max-w-full object-contain"},null,8,Ot)):c("",!0),e.images.length>1?(i(),H(G,{key:1},[g(t(K),{variant:"secondary",size:"icon",class:"absolute left-4 top-1/2 -translate-y-1/2 shadow-lg",onClick:n,disabled:0===o.value},{default:u(()=>[g(t(xa),{class:"w-5 h-5"})]),_:1},8,["disabled"]),g(t(K),{variant:"secondary",size:"icon",class:"absolute right-4 top-1/2 -translate-y-1/2 shadow-lg",onClick:p,disabled:o.value===e.images.length-1},{default:u(()=>[g(t(ma),{class:"w-5 h-5"})]),_:1},8,["disabled"])],64)):c("",!0),g(t(Z),{variant:"secondary",class:"absolute top-4 left-4 text-sm"},{default:u(()=>[L(J(o.value+1)+" / "+J(e.images.length),1)]),_:1})]),$("div",Et,[$("div",null,[l[2]||(l[2]=$("p",{class:"text-muted-foreground"},"Nome",-1)),$("p",{class:"font-medium truncate",title:d.value?.name},J(d.value?.name),9,It)]),$("div",null,[l[3]||(l[3]=$("p",{class:"text-muted-foreground"},"Tamanho",-1)),$("p",Rt,J((r=d.value?.size,X(r||0))),1)]),$("div",null,[l[4]||(l[4]=$("p",{class:"text-muted-foreground"},"Upload",-1)),$("p",Tt,J(v(d.value?.uploadedAt)),1)])]),g(t(la)),e.images.length>1?(i(),H("div",{key:0,class:"flex gap-2 overflow-x-auto pb-2 scroll-smooth",ref_key:"thumbnailsContainer",ref:s},[(i(!0),H(G,null,W(e.images,(e,a)=>(i(),H("button",{key:e.id,onClick:e=>{return t=a,o.value=t,void m(t);var t},class:Q(["flex-shrink-0 h-20 w-20 rounded overflow-hidden border-2 transition-all hover:opacity-80",{"border-primary ring-2 ring-primary ring-offset-2":a===o.value,"border-border":a!==o.value}])},[$("img",{src:e.data,alt:e.name,class:"h-full w-full object-cover"},null,8,Ut)],10,zt))),128))],512)):c("",!0),g(t(Le),{class:"flex-col sm:flex-row gap-2"},{default:u(()=>[g(t(K),{variant:"outline",onClick:y},{default:u(()=>[g(t(va),{class:"w-4 h-4 mr-2"}),l[5]||(l[5]=L(" Download ",-1))]),_:1}),g(t(K),{onClick:l[0]||(l[0]=e=>a.$emit("update:open",!1))},{default:u(()=>[...l[6]||(l[6]=[L(" Fechar ",-1)])]),_:1})]),_:1})];var r}),_:1})]),_:1},8,["open"]))}},Lt={class:"space-y-4"},Kt={class:"relative overflow-x-auto"},Ht={class:"flex flex-col items-center justify-center text-center"},Gt=["onClick"],Wt={class:"flex items-center gap-1"},Jt={class:"text-sm"},Zt={class:"text-sm"},Qt={class:"flex flex-wrap gap-1"},Xt={class:"flex items-center gap-2"},Yt={class:"text-sm"},el={key:2,class:"text-muted-foreground text-sm"},al={key:1,class:"text-muted-foreground text-sm"},tl={class:"flex items-center justify-center gap-1"},ll={key:0,class:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50"},ol={class:"font-medium"},sl={key:0,class:"space-y-4 py-4"},dl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},rl={class:"space-y-2"},il={class:"p-3 bg-muted rounded-md text-sm"},ul={class:"space-y-2"},nl={class:"p-3 bg-muted rounded-md text-sm"},cl={class:"space-y-2"},pl={class:"p-3 bg-muted rounded-md text-sm"},ml={class:"space-y-2"},fl={class:"p-3 bg-muted rounded-md"},vl={class:"flex flex-wrap gap-2"},yl={class:"space-y-2"},gl={class:"p-3 bg-muted rounded-md text-sm font-medium"},hl={key:0,class:"space-y-2"},bl={class:"p-3 bg-muted rounded-md text-sm whitespace-pre-wrap"},_l={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xl={class:"space-y-2"},kl={class:"p-3 bg-muted rounded-md text-sm"},wl={class:"space-y-2"},ql={class:"p-3 bg-muted rounded-md text-sm"},Cl={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Vl={class:"space-y-2"},Ml={class:"p-3 bg-muted rounded-md text-sm"},Sl={class:"space-y-2"},Al={class:"p-3 bg-muted rounded-md text-sm"},Bl={key:1,class:"space-y-2"},Pl={class:"p-3 bg-muted rounded-md text-sm whitespace-pre-wrap"},Dl={class:"space-y-4"},Fl={key:0,class:"text-sm"},jl={class:"text-destructive"},Nl=Y({__name:"MetadadosTable",emits:["edit","duplicate","toggle-review","toggle-selection","select-all","clear-selection","compare"],setup(e,{emit:l}){const o=z(),{selectedForComparison:s}=ee(o),d=l,n=_(!1),p=_(null),m=_(!1),y=_(null),h=_(!1),b=_([]),x=a(()=>s.value.length<5),k=a(()=>s.value.length),w=a({get(){if(0===o.filteredMetadados.length)return!1;const e=o.filteredMetadados.slice(0,5);return e.length>0&&e.every(e=>s.value.includes(e.id))},set(e){if(e){const e=o.filteredMetadados.slice(0,5).map(e=>e.id);o.selectMultiple(e)}else o.clearSelection()}});function q(e){let a=[];if(Array.isArray(e))a=[...e];else if(e){const t=String(e);a=t.includes(";")?t.split(";").map(e=>e.trim()).filter(e=>e):t.includes(",")?t.split(",").map(e=>e.trim()).filter(e=>e):[t]}return a.sort((e,a)=>e.localeCompare(a,"pt-BR"))}function C(e){if(!e||"Não informado"===e)return"-";return e.split(" ")[0]||"-"}function V(e){if(!e||"Não informado"===e)return"";const a=e.split(" ");return a.shift(),a.join(" ")}function M(e){switch(e){case"Sim":return"default";case"Não":return"destructive";case"Parcialmente":return"secondary";default:return"outline"}}async function S(){try{await o.deleteMetadado(y.value.id),ue.success(`Metadado "${y.value.nomeMetadado}" excluído com sucesso`),m.value=!1,y.value=null}catch(e){ue.error("Erro ao excluir metadado(s)")}}return(e,a)=>(i(),H("div",Lt,[g(t(_e),null,{default:u(()=>[g(t(be),{class:"p-0"},{default:u(()=>[$("div",Kt,[g(t(ke),null,{default:u(()=>[g(t(sa),null,{default:u(()=>[g(t(we),null,{default:u(()=>[g(t(da),{class:"w-12"},{default:u(()=>[g(Ft,{checked:w.value,"onUpdate:checked":a[0]||(a[0]=e=>w.value=e)},null,8,["checked"])]),_:1}),g(t(da),{class:"w-20 text-center"},{default:u(()=>[...a[13]||(a[13]=[L("Revisão",-1)])]),_:1}),g(t(da),null,{default:u(()=>[...a[14]||(a[14]=[L("Unidade",-1)])]),_:1}),g(t(da),null,{default:u(()=>[...a[15]||(a[15]=[L("Classe",-1)])]),_:1}),g(t(da),null,{default:u(()=>[...a[16]||(a[16]=[L("Tipo Documento",-1)])]),_:1}),g(t(da),null,{default:u(()=>[...a[17]||(a[17]=[L("Nome Metadado",-1)])]),_:1}),g(t(da),null,{default:u(()=>[...a[18]||(a[18]=[L("Formato",-1)])]),_:1}),g(t(da),null,{default:u(()=>[...a[19]||(a[19]=[L("Tipo",-1)])]),_:1}),g(t(da),{class:"text-center"},{default:u(()=>[...a[20]||(a[20]=[L("Processo?",-1)])]),_:1}),g(t(da),{class:"text-center"},{default:u(()=>[...a[21]||(a[21]=[L("Múltiplos?",-1)])]),_:1}),g(t(da),null,{default:u(()=>[...a[22]||(a[22]=[L("Versão Inicial",-1)])]),_:1}),g(t(da),{class:"text-center"},{default:u(()=>[...a[23]||(a[23]=[L("Imagens",-1)])]),_:1}),g(t(da),{class:"text-center"},{default:u(()=>[...a[24]||(a[24]=[L("Ações",-1)])]),_:1})]),_:1})]),_:1}),t(o).loading?(i(),r(t(qe),{key:0},{default:u(()=>[(i(),H(G,null,W(5,e=>g(t(we),{key:e},{default:u(()=>[(i(),H(G,null,W(13,e=>g(t(Ce),{key:e},{default:u(()=>[...a[25]||(a[25]=[$("div",{class:"h-4 bg-muted animate-pulse rounded"},null,-1)])]),_:1})),64))]),_:1})),64))]),_:1})):0===t(o).filteredMetadados.length?(i(),r(t(qe),{key:1},{default:u(()=>[g(t(we),null,{default:u(()=>[g(t(Ce),{colspan:13,class:"h-32"},{default:u(()=>[$("div",Ht,[g(t(ae),{class:"w-12 h-12 text-muted-foreground mb-3"}),a[26]||(a[26]=$("h3",{class:"text-lg font-semibold mb-1"},"Nenhum metadado encontrado",-1)),a[27]||(a[27]=$("p",{class:"text-sm text-muted-foreground"}," Adicione o primeiro metadado clicando no botão acima ",-1))])]),_:1})]),_:1})]),_:1})):(i(),r(t(qe),{key:2},{default:u(()=>[(i(!0),H(G,null,W(t(o).filteredMetadados,e=>(i(),r(t(we),{key:e.id,class:"hover:bg-muted/50 cursor-pointer",onClick:a=>function(e){p.value=e,n.value=!0}(e)},{default:u(()=>[g(t(Ce),{onClick:a[2]||(a[2]=f(()=>{},["stop"]))},{default:u(()=>[g(Ft,{modelValue:t(s),"onUpdate:modelValue":a[1]||(a[1]=e=>te(s)?s.value=e:null),value:e.id,disabled:!t(s).includes(e.id)&&!x.value,class:Q({"opacity-50":!t(s).includes(e.id)&&!x.value})},null,8,["modelValue","value","disabled","class"])]),_:2},1024),g(t(Ce),{class:"text-center",onClick:a[3]||(a[3]=f(()=>{},["stop"]))},{default:u(()=>[g(t(le),null,{default:u(()=>[g(t(oe),null,{default:u(()=>[g(t(se),{"as-child":""},{default:u(()=>[$("button",{onClick:a=>d("toggle-review",e.id),class:Q(["transition-transform hover:scale-110",e.precisaRevisao?"text-amber-500 dark:text-amber-400":"text-gray-400 dark:text-gray-600"])},[g(t(Va),{size:18})],10,Gt)]),_:2},1024),g(t(de),null,{default:u(()=>[L(J(e.precisaRevisao?"Desmarcar revisão":"Marcar para revisão"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),g(t(Ce),null,{default:u(()=>[L(J(e.unidade),1)]),_:2},1024),g(t(Ce),null,{default:u(()=>[$("div",Wt,[$("span",Jt,J(C(e.classeProcessual)),1),V(e.classeProcessual)?(i(),r(t(le),{key:0},{default:u(()=>[g(t(oe),null,{default:u(()=>[g(t(se),{"as-child":""},{default:u(()=>[g(t(Ze),{class:"w-4 h-4 flex-shrink-0 text-muted-foreground cursor-help"})]),_:1}),g(t(de),{class:"max-w-xs"},{default:u(()=>[$("p",Zt,J(V(e.classeProcessual)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):c("",!0)])]),_:2},1024),g(t(Ce),null,{default:u(()=>[$("div",Qt,[(i(!0),H(G,null,W(q(e.tipoDocumento),(e,a)=>(i(),r(t(Z),{key:a,variant:"secondary",class:"text-xs"},{default:u(()=>[L(J(e),1)]),_:2},1024))),128))])]),_:2},1024),g(t(Ce),{class:"font-medium"},{default:u(()=>[$("div",Xt,[e.objetivoNaoInformado?(i(),r(t(le),{key:0},{default:u(()=>[g(t(oe),null,{default:u(()=>[g(t(se),{"as-child":""},{default:u(()=>[g(t(Ze),{class:"w-4 h-4 flex-shrink-0 text-destructive cursor-help"})]),_:1}),g(t(de),null,{default:u(()=>[...a[28]||(a[28]=[$("p",{class:"text-sm"},"Objetivo não informado",-1)])]),_:1})]),_:1})]),_:1})):e.objetivoMetadado?(i(),r(t(le),{key:1},{default:u(()=>[g(t(oe),null,{default:u(()=>[g(t(se),{"as-child":""},{default:u(()=>[g(t(Ze),{class:"w-4 h-4 flex-shrink-0 text-muted-foreground cursor-help"})]),_:1}),g(t(de),{class:"max-w-xs"},{default:u(()=>[$("p",Yt,J(e.objetivoMetadado),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):(i(),H("span",el,"-")),$("span",null,J(e.nomeMetadado),1)])]),_:2},1024),g(t(Ce),null,{default:u(()=>[L(J(e.formatoMetadado||"-"),1)]),_:2},1024),g(t(Ce),null,{default:u(()=>[g(t(Z),{variant:"Simples"===e.tipoMetadados?"default":"outline"},{default:u(()=>[L(J(e.tipoMetadados||"Não especificado"),1)]),_:2},1032,["variant"])]),_:2},1024),g(t(Ce),{class:"text-center"},{default:u(()=>[(i(),r(v(e.metadadoDeProcesso?t(wa):t(qa)),{class:Q([e.metadadoDeProcesso?"text-emerald-500":"text-gray-400","w-5 h-5 mx-auto"])},null,8,["class"]))]),_:2},1024),g(t(Ce),{class:"text-center"},{default:u(()=>[(i(),r(v(e.admiteMultiplos?t(pa):t(Te)),{class:Q([e.admiteMultiplos?"text-emerald-500":"text-gray-400","w-5 h-5 mx-auto"])},null,8,["class"]))]),_:2},1024),g(t(Ce),null,{default:u(()=>[g(t(Z),{variant:M(e.versaoInicialAtende)},{default:u(()=>[L(J(e.versaoInicialAtende||"Não especificado"),1)]),_:2},1032,["variant"])]),_:2},1024),g(t(Ce),{class:"text-center",onClick:a[4]||(a[4]=f(()=>{},["stop"]))},{default:u(()=>[e.imagens&&e.imagens.length>0?(i(),r(t(Z),{key:0,variant:"secondary",class:"cursor-pointer hover:bg-secondary/80 transition-colors",onClick:a=>{return t=e.imagens,b.value=t,void(h.value=!0);var t}},{default:u(()=>[L(" 📷 "+J(e.imagens.length),1)]),_:2},1032,["onClick"])):(i(),H("span",al,"—"))]),_:2},1024),g(t(Ce),{onClick:a[5]||(a[5]=f(()=>{},["stop"]))},{default:u(()=>[$("div",tl,[g(t(le),null,{default:u(()=>[g(t(oe),null,{default:u(()=>[g(t(se),{"as-child":""},{default:u(()=>[g(t(K),{variant:"ghost",size:"sm",onClick:a=>function(e){d("edit",e)}(e)},{default:u(()=>[g(t(Oe),{class:"w-4 h-4"})]),_:1},8,["onClick"])]),_:2},1024),g(t(de),null,{default:u(()=>[...a[29]||(a[29]=[L("Editar",-1)])]),_:1})]),_:2},1024)]),_:2},1024),g(t(le),null,{default:u(()=>[g(t(oe),null,{default:u(()=>[g(t(se),{"as-child":""},{default:u(()=>[g(t(K),{variant:"ghost",size:"sm",onClick:a=>function(e){d("duplicate",e)}(e)},{default:u(()=>[g(t(Ca),{class:"w-4 h-4"})]),_:1},8,["onClick"])]),_:2},1024),g(t(de),null,{default:u(()=>[...a[30]||(a[30]=[L("Duplicar",-1)])]),_:1})]),_:2},1024)]),_:2},1024),g(t(le),null,{default:u(()=>[g(t(oe),null,{default:u(()=>[g(t(se),{"as-child":""},{default:u(()=>[g(t(K),{variant:"ghost",size:"sm",onClick:a=>function(e){y.value=e,m.value=!0}(e)},{default:u(()=>[g(t(ya),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])]),_:2},1024),g(t(de),null,{default:u(()=>[...a[31]||(a[31]=[L("Excluir",-1)])]),_:1})]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1}))]),_:1})])]),_:1})]),_:1}),g(re,{name:"slide-up"},{default:u(()=>[k.value>=2?(i(),H("div",ll,[g(t(_e),{class:"shadow-lg border-gray-200 dark:border-gray-700"},{default:u(()=>[g(t(be),{class:"p-4 flex items-center gap-3"},{default:u(()=>[g(t(Ma),{size:20,class:"text-primary"}),$("span",ol," Comparar ("+J(k.value)+" selecionados) ",1),g(t(K),{variant:"ghost",size:"sm",onClick:a[6]||(a[6]=e=>d("clear-selection"))},{default:u(()=>[g(t(Te),{size:16,class:"mr-1"}),a[32]||(a[32]=L(" Limpar ",-1))]),_:1}),g(t(K),{onClick:a[7]||(a[7]=e=>d("compare")),disabled:k.value<2},{default:u(()=>[...a[33]||(a[33]=[L(" Comparar ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})])):c("",!0)]),_:1}),g(t(Ke),{open:n.value,"onUpdate:open":a[9]||(a[9]=e=>n.value=e)},{default:u(()=>[g(t(ze),{class:"max-w-3xl max-h-[90vh] overflow-y-auto"},{default:u(()=>[g(t(Ue),null,{default:u(()=>[g(t($e),null,{default:u(()=>[...a[34]||(a[34]=[L("Detalhes do Metadado",-1)])]),_:1}),g(t(Qe),null,{default:u(()=>[...a[35]||(a[35]=[L(" Visualização completa dos dados do metadado ",-1)])]),_:1})]),_:1}),p.value?(i(),H("div",sl,[$("div",dl,[$("div",rl,[g(t(oa),null,{default:u(()=>[...a[36]||(a[36]=[L("Unidade",-1)])]),_:1}),$("div",il,J(p.value.unidade),1)]),$("div",ul,[g(t(oa),null,{default:u(()=>[...a[37]||(a[37]=[L("Metadado de Processo",-1)])]),_:1}),$("div",nl,J(p.value.metadadoDeProcesso?"Sim":"Não"),1)])]),$("div",cl,[g(t(oa),null,{default:u(()=>[...a[38]||(a[38]=[L("Classe Processual",-1)])]),_:1}),$("div",pl,J(p.value.classeProcessual||"Não informado"),1)]),$("div",ml,[g(t(oa),null,{default:u(()=>[...a[39]||(a[39]=[L("Tipo(s) de Documento",-1)])]),_:1}),$("div",fl,[$("div",vl,[(i(!0),H(G,null,W(q(p.value.tipoDocumento),(e,a)=>(i(),r(t(Z),{key:a,variant:"secondary"},{default:u(()=>[L(J(e),1)]),_:2},1024))),128))])])]),$("div",yl,[g(t(oa),null,{default:u(()=>[...a[40]||(a[40]=[L("Nome do Metadado",-1)])]),_:1}),$("div",gl,J(p.value.nomeMetadado),1)]),p.value.objetivoMetadado?(i(),H("div",hl,[g(t(oa),null,{default:u(()=>[...a[41]||(a[41]=[L("Objetivo do Metadado",-1)])]),_:1}),$("div",bl,J(p.value.objetivoMetadado),1)])):c("",!0),$("div",_l,[$("div",xl,[g(t(oa),null,{default:u(()=>[...a[42]||(a[42]=[L("Formato do Metadado",-1)])]),_:1}),$("div",kl,J(p.value.formatoMetadado||"Não especificado"),1)]),$("div",wl,[g(t(oa),null,{default:u(()=>[...a[43]||(a[43]=[L("Admite Múltiplos",-1)])]),_:1}),$("div",ql,J(p.value.admiteMultiplos?"Sim":"Não"),1)])]),$("div",Cl,[$("div",Vl,[g(t(oa),null,{default:u(()=>[...a[44]||(a[44]=[L("Tipo de Metadados",-1)])]),_:1}),$("div",Ml,J(p.value.tipoMetadados),1)]),$("div",Sl,[g(t(oa),null,{default:u(()=>[...a[45]||(a[45]=[L("Versão Inicial Atende",-1)])]),_:1}),$("div",Al,J(p.value.versaoInicialAtende),1)])]),p.value.observacao?(i(),H("div",Bl,[g(t(oa),null,{default:u(()=>[...a[46]||(a[46]=[L("Observação",-1)])]),_:1}),$("div",Pl,J(p.value.observacao),1)])):c("",!0)])):c("",!0),g(t(la)),g(t(Le),null,{default:u(()=>[g(t(K),{variant:"ghost",onClick:a[8]||(a[8]=e=>n.value=!1)},{default:u(()=>[...a[47]||(a[47]=[L(" Fechar ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),g(t(Ke),{open:m.value,"onUpdate:open":a[11]||(a[11]=e=>m.value=e)},{default:u(()=>[g(t(ze),{class:"max-w-md"},{default:u(()=>[g(t(Ue),null,{default:u(()=>[g(t($e),{class:"flex items-center gap-2"},{default:u(()=>[g(t(ie),{class:"w-5 h-5 text-destructive"}),a[48]||(a[48]=L(" Confirmar Exclusão ",-1))]),_:1})]),_:1}),$("div",Dl,[y.value?(i(),H("p",Fl,[a[49]||(a[49]=L(" Tem certeza que deseja excluir o metadado ",-1)),$("strong",jl,'"'+J(y.value.nomeMetadado)+'"',1),a[50]||(a[50]=L("? ",-1))])):c("",!0),g(t(ea),{variant:"warning"},{default:u(()=>[g(t(ie),{class:"w-4 h-4"}),g(t(aa),null,{default:u(()=>[...a[51]||(a[51]=[$("strong",null,"Atenção:",-1),L(" Esta ação não pode ser desfeita. ",-1)])]),_:1})]),_:1})]),g(t(Le),null,{default:u(()=>[g(t(K),{variant:"ghost",onClick:a[10]||(a[10]=e=>m.value=!1)},{default:u(()=>[...a[52]||(a[52]=[L(" Cancelar ",-1)])]),_:1}),g(t(K),{variant:"destructive",onClick:S},{default:u(()=>[g(t(ya),{class:"w-4 h-4 mr-2"}),a[53]||(a[53]=L(" Excluir ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),g($t,{open:h.value,"onUpdate:open":a[12]||(a[12]=e=>h.value=e),images:b.value,"initial-index":0},null,8,["open","images"])]))}},[["__scopeId","data-v-e69a82ac"]]),Ol={__name:"Textarea",props:{class:{type:null,required:!1},defaultValue:{type:[String,Number],required:!1},modelValue:{type:[String,Number],required:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,o=Ve(l,"modelValue",a,{passive:!0,defaultValue:l.defaultValue});return(e,a)=>ne((i(),H("textarea",{"onUpdate:modelValue":a[0]||(a[0]=e=>te(o)?o.value=e:null),class:Q(t(pe)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",l.class))},null,2)),[[ce,t(o)]])}},El={__name:"Popover",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:a}){const l=O(e,a);return(e,a)=>(i(),r(t(ot),E(I(t(l))),{default:u(()=>[n(e.$slots,"default")]),_:3},16))}},Il=Object.assign({inheritAttrs:!1},{__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:a}){const l=e,o=a,s=me(l,"class"),d=O(s,o);return(e,a)=>(i(),r(t(ut),null,{default:u(()=>[g(t(it),p({...t(d),...e.$attrs},{class:t(pe)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l.class)}),{default:u(()=>[n(e.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Rl={__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const a=e;return(e,l)=>(i(),r(t(nt),E(I(a)),{default:u(()=>[n(e.$slots,"default")]),_:3},16))}},Tl={__name:"Switch",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,o=a,s=me(l,"class"),d=O(s,o);return(e,a)=>(i(),r(t(mt),p(t(d),{class:t(pe)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",l.class)}),{default:u(()=>[g(t(ft),{class:Q(t(pe)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"))},{default:u(()=>[n(e.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}},zl={__name:"Checkbox",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1},disabled:{type:Boolean,required:!1},value:{type:null,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,o=a,s=me(l,"class"),d=O(s,o);return(e,a)=>(i(),r(t(za),p(t(d),{class:t(pe)("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",l.class)}),{default:u(()=>[g(t(Ua),{class:"grid place-content-center text-current"},{default:u(()=>[n(e.$slots,"default",{},()=>[g(t(pa),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}},Ul={__name:"Command",props:{modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{emit:l}){const o=e,s=l,d=me(o,"class"),c=O(d,s),m=_(new Map),f=_(new Map),{contains:v}=function(e){const l=a(()=>t(e)),o=a(()=>new Intl.Collator("en",{usage:"search",...l.value}));return{startsWith:(e,a)=>0===a.length||(e=e.normalize("NFC"),a=a.normalize("NFC"),0===o.value.compare(e.slice(0,a.length),a)),endsWith:(e,a)=>0===a.length||(e=e.normalize("NFC"),a=a.normalize("NFC"),0===o.value.compare(e.slice(-a.length),a)),contains:(e,a)=>{if(0===a.length)return!0;e=e.normalize("NFC");let t=0;const l=(a=a.normalize("NFC")).length;for(;t+l<=e.length;t++){const s=e.slice(t,t+l);if(0===o.value.compare(a,s))return!0}return!1}}}({sensitivity:"base"}),y=fe({search:"",filtered:{count:0,items:new Map,groups:new Set}});return x(()=>y.search,()=>{!function(){if(!y.search)return void(y.filtered.count=m.value.size);y.filtered.groups=new Set;let e=0;for(const[a,t]of m.value){const l=v(t,y.search);y.filtered.items.set(a,l?1:0),l&&e++}for(const[a,t]of f.value)for(const e of t)if(y.filtered.items.get(e)>0){y.filtered.groups.add(a);break}y.filtered.count=e}()}),Ql({allItems:m,allGroups:f,filterState:y}),(e,a)=>(i(),r(t(Ha),p(t(c),{class:t(pe)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",o.class)}),{default:u(()=>[n(e.$slots,"default")]),_:3},16,["class"]))}},$l={__name:"CommandEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const l=e,o=me(l,"class"),{filterState:s}=Zl(),d=a(()=>!!s.search&&0===s.filtered.count);return(e,a)=>d.value?(i(),r(t(y),p({key:0},t(o),{class:t(pe)("py-6 text-center text-sm",l.class)}),{default:u(()=>[n(e.$slots,"default")]),_:3},16,["class"])):c("",!0)}},Ll={__name:"CommandGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},heading:{type:String,required:!1}},setup(e){const l=e,o=me(l,"class"),{allGroups:s,filterState:d}=Zl(),m=S(),f=a(()=>!d.search||d.filtered.groups.has(m));return Yl({id:m}),V(()=>{s.value.has(m)||s.value.set(m,new Set)}),M(()=>{s.value.delete(m)}),(a,s)=>(i(),r(t(Qa),p(t(o),{id:t(m),class:t(pe)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",l.class),hidden:!f.value||void 0}),{default:u(()=>[e.heading?(i(),r(t(Xa),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:u(()=>[L(J(e.heading),1)]),_:1})):c("",!0),n(a.$slots,"default")]),_:3},16,["id","class","hidden"]))}},Kl={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},Hl=Object.assign({inheritAttrs:!1},{__name:"CommandInput",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const a=e,l=me(a,"class"),o=D(l),{filterState:s}=Zl();return(e,l)=>(i(),H("div",Kl,[g(t(He),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),g(t(Wa),p({...t(o),...e.$attrs},{modelValue:t(s).search,"onUpdate:modelValue":l[0]||(l[0]=e=>t(s).search=e),"auto-focus":"",class:t(pe)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a.class)}),null,16,["modelValue","class"])]))}}),Gl={__name:"CommandItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["select"],setup(e,{emit:l}){const o=e,s=l,d=me(o,"class"),m=O(d,s),f=S(),{filterState:v,allItems:y,allGroups:g}=Zl(),h=Xl(),b=a(()=>{if(v.search){const e=v.filtered.items.get(f);return void 0===e||e>0}return!0}),x=_(),k=Me(x);return V(()=>{if(!(k.value instanceof HTMLElement))return;y.value.set(f,k.value.textContent??o?.value.toString());const e=h?.id;e&&(g.value.has(e)?g.value.get(e)?.add(f):g.value.set(e,new Set([f])))}),M(()=>{y.value.delete(f)}),(e,a)=>b.value?(i(),r(t(at),p({key:0},t(m),{id:t(f),ref_key:"itemRef",ref:x,class:t(pe)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:size-4 [&_svg]:shrink-0",o.class),onSelect:a[0]||(a[0]=()=>{t(v).search=""})}),{default:u(()=>[n(e.$slots,"default")]),_:3},16,["id","class"])):c("",!0)}},Wl={role:"presentation"},Jl={__name:"CommandList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const a=e,l=me(a,"class"),o=D(l);return(e,l)=>(i(),r(t(Ga),p(t(o),{class:t(pe)("max-h-[300px] overflow-y-auto overflow-x-hidden",a.class)}),{default:u(()=>[$("div",Wl,[n(e.$slots,"default")])]),_:3},16,["class"]))}},[Zl,Ql]=l("Command"),[Xl,Yl]=l("CommandGroup"),eo={class:"space-y-2"},ao={key:0,class:"text-destructive"},to={class:"truncate"},lo={class:"truncate"},oo={__name:"ClasseProcessualCombobox",props:{modelValue:{type:String,default:"Não informado"},label:{type:String,default:"Classe Processual"},required:{type:Boolean,default:!1},id:{type:String,default:"classe-processual"}},emits:["update:modelValue"],setup(e,{emit:l}){const o=e,s=l,d=U(),n=_(!1),p=_(""),m=a(()=>d.allClassesProcessuais),f=a(()=>{if(!p.value)return m.value;const e=p.value.toLowerCase();return m.value.filter(a=>a.toLowerCase().includes(e))}),v=a(()=>o.modelValue||"Selecione uma classe processual...");return x(n,e=>{e||(p.value="")}),(a,l)=>{const o=ve("router-link");return i(),H("div",eo,[e.label?(i(),r(t(oa),{key:0,for:e.id},{default:u(()=>[L(J(e.label)+" ",1),e.required?(i(),H("span",ao,"*")):c("",!0)]),_:1},8,["for"])):c("",!0),g(t(El),{open:n.value,"onUpdate:open":l[1]||(l[1]=e=>n.value=e)},{default:u(()=>[g(t(Rl),{"as-child":""},{default:u(()=>[g(t(K),{id:e.id,variant:"outline",role:"combobox","aria-expanded":n.value,class:Q(["w-full justify-between",{"text-muted-foreground":!e.modelValue}])},{default:u(()=>[$("span",to,J(v.value),1),g(t(ka),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["id","aria-expanded","class"])]),_:1}),g(t(Il),{class:"w-full p-0",align:"start"},{default:u(()=>[g(t(Ul),null,{default:u(()=>[g(t(Hl),{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=e=>p.value=e),placeholder:"Buscar classe processual..."},null,8,["modelValue"]),g(t($l),null,{default:u(()=>[...l[2]||(l[2]=[L("Nenhuma classe encontrada",-1)])]),_:1}),g(t(Jl),null,{default:u(()=>[g(t(Ll),null,{default:u(()=>[(i(!0),H(G,null,W(f.value,a=>(i(),r(t(Gl),{key:a,value:a,onSelect:e=>(s("update:modelValue",a),n.value=!1,void(p.value=""))},{default:u(()=>[g(t(pa),{class:Q(["mr-2 h-4 w-4",e.modelValue===a?"opacity-100":"opacity-0"])},null,8,["class"]),$("span",lo,J(a),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),t(d).hasClassesProcessuais?c("",!0):(i(),r(t(ea),{key:1,variant:"warning"},{default:u(()=>[g(t(ie),{class:"h-4 w-4"}),g(t(aa),null,{default:u(()=>[l[4]||(l[4]=L(" Nenhuma classe carregada. Faça upload do arquivo em ",-1)),g(o,{to:"/config",class:"underline font-medium"},{default:u(()=>[...l[3]||(l[3]=[L("Configurações",-1)])]),_:1}),l[5]||(l[5]=L(". ",-1))]),_:1})]),_:1}))])}}},so={class:"space-y-4"},ro={key:1,class:"flex items-center justify-center py-8"},io={class:"ml-3 text-sm text-muted-foreground"},uo={key:2,class:"space-y-4"},no={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"},co={class:"aspect-square relative overflow-hidden bg-muted"},po=["src","alt"],mo={class:"p-2 space-y-1"},fo=["title"],vo={class:"text-xs text-muted-foreground"},yo={class:"flex items-center gap-2 text-sm text-muted-foreground"},go={key:0},ho={__name:"ImageUpload",props:{modelValue:{type:Array,default:()=>[]},maxSize:{type:Number,default:10485760},maxFiles:{type:Number,default:20},accept:{type:String,default:"image/*"}},emits:["update:modelValue","error"],setup(e,{emit:l}){const o=e,s=l,d=_(null),n=_(!1),p=_(0),m=_(0),f=a({get:()=>o.modelValue,set:e=>s("update:modelValue",e)});function v(){d.value?.click()}async function y(e){const a=Array.from(e.target.files||[]);if(0===a.length)return;const t=o.maxFiles-f.value.length;if(a.length>t)return void ue.error(`Você pode adicionar apenas mais ${t} ${1===t?"imagem":"imagens"}`);n.value=!0,p.value=0,m.value=a.length;const l=[],d=[];for(const s of a)try{const e=await ye(s,o.maxSize);l.push(e),p.value++}catch(r){d.push({file:s.name,error:r.message}),p.value++}if(f.value=[...f.value,...l],n.value=!1,l.length>0&&ue.success(`${l.length} ${1===l.length?"imagem adicionada":"imagens adicionadas"}`),d.length>0){const e=d.map(e=>`${e.file}: ${e.error}`).join("\n");ue.error(`Erro ao processar ${d.length} ${1===d.length?"arquivo":"arquivos"}:\n${e}`),s("error",d)}e.target.value=""}return(a,l)=>(i(),H("div",so,[$("input",{ref_key:"fileInput",ref:d,type:"file",multiple:"",accept:"image/*",class:"hidden",onChange:y},null,544),0===f.value.length?(i(),r(t(K),{key:0,type:"button",variant:"outline",class:"w-full",onClick:v,disabled:n.value},{default:u(()=>[g(t(ta),{class:"w-4 h-4 mr-2"}),L(" "+J(n.value?"Processando...":"Adicionar Imagens"),1)]),_:1},8,["disabled"])):c("",!0),n.value?(i(),H("div",ro,[g(t(Ee),{size:"lg"}),$("span",io,"Processando "+J(p.value)+" de "+J(m.value)+" imagens...",1)])):c("",!0),f.value.length>0&&!n.value?(i(),H("div",uo,[g(t(K),{type:"button",variant:"outline",size:"sm",onClick:v,disabled:f.value.length>=e.maxFiles},{default:u(()=>[g(t(Ie),{class:"w-4 h-4 mr-2"}),l[1]||(l[1]=L(" Adicionar Mais ",-1)),f.value.length>=e.maxFiles?(i(),r(t(Z),{key:0,variant:"secondary",class:"ml-2"},{default:u(()=>[...l[0]||(l[0]=[L(" Máximo atingido ",-1)])]),_:1})):c("",!0)]),_:1},8,["disabled"]),$("div",no,[(i(!0),H(G,null,W(f.value,(e,a)=>(i(),r(t(_e),{key:e.id,class:"relative overflow-hidden group"},{default:u(()=>[g(t(be),{class:"p-0"},{default:u(()=>{return[$("div",co,[$("img",{src:e.data,alt:e.name,class:"w-full h-full object-cover"},null,8,po),g(t(K),{type:"button",variant:"destructive",size:"icon",class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8",onClick:e=>function(e){const a=[...f.value],t=a.splice(e,1);f.value=a,ue.success(`Imagem "${t[0].name}" removida`)}(a)},{default:u(()=>[g(t(Te),{class:"w-4 h-4"})]),_:1},8,["onClick"]),g(t(Z),{variant:"secondary",class:"absolute bottom-2 left-2 text-xs"},{default:u(()=>[L(J(a+1),1)]),_:2},1024)]),$("div",mo,[$("p",{class:"text-xs font-medium truncate",title:e.name},J(e.name),9,fo),$("p",vo,J((l=e.size,X(l))),1)])];var l}),_:2},1024)]),_:2},1024))),128))]),$("div",yo,[g(t(Sa),{class:"w-4 h-4"}),L(" "+J(f.value.length)+" "+J(1===f.value.length?"imagem":"imagens")+" ",1),f.value.length<e.maxFiles?(i(),H("span",go," (máximo: "+J(e.maxFiles)+") ",1)):c("",!0)])])):c("",!0)]))}},bo={class:"space-y-4 py-4"},_o={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},xo={class:"space-y-2"},ko={key:0,class:"text-sm text-destructive"},wo={class:"space-y-2"},qo={key:0,class:"text-sm text-destructive"},Co={class:"space-y-2"},Vo={class:"flex items-center space-x-2 h-10"},Mo={class:"text-sm text-muted-foreground"},So={class:"space-y-2"},Ao={class:"flex items-center space-x-2 h-10"},Bo={class:"text-sm text-muted-foreground"},Po={class:"space-y-2"},Do={key:0,class:"text-muted-foreground"},Fo={key:1,class:"truncate"},jo={class:"p-2 border-b"},No={class:"max-h-60 overflow-y-auto p-1"},Oo=["onClick"],Eo={class:"flex-1 text-sm"},Io={key:0,class:"p-4 text-sm text-center text-muted-foreground"},Ro={key:0,class:"text-xs text-muted-foreground"},To={key:1,class:"text-sm text-destructive"},zo={class:"space-y-2"},Uo={class:"relative"},$o={class:"max-h-60 overflow-y-auto p-1"},Lo=["onClick"],Ko={class:"flex-1"},Ho={key:0,class:"text-sm text-destructive"},Go={class:"space-y-2"},Wo={class:"flex items-center gap-2"},Jo={class:"flex items-center gap-1.5"},Zo={class:"relative"},Qo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Xo={class:"space-y-2"},Yo={class:"space-y-2"},es={class:"space-y-2"},as={class:"relative"},ts={class:"space-y-2"},ls={__name:"MetadadosForm",props:{modelValue:{type:Boolean,default:!1},item:{type:Object,default:null}},emits:["update:modelValue","saved"],setup(e,{expose:l,emit:o}){const s=z(),d=U(),n=e,p=o,m=_(!1),v=_(!1),y=_(!1),h=_(!1),b=_(""),w=_(!1),q={unidade:"",metadadoDeProcesso:!1,tipoDocumento:[],nomeMetadado:"",objetivoMetadado:"",objetivoNaoInformado:!1,formatoMetadado:"",admiteMultiplos:!1,tipoMetadados:"",versaoInicialAtende:"Não",observacao:"",classeProcessual:"Não informado",imagens:[]},C=fe({...q}),V=a(()=>C.unidade&&C.nomeMetadado&&C.tipoMetadados&&C.tipoDocumento.length>0),M=a(()=>{if(!b.value)return d.tiposDocumentoAtivos;const e=b.value.toLowerCase();return d.tiposDocumentoAtivos.filter(a=>a.toLowerCase().includes(e))}),S=a(()=>{const e=new Set;return s.metadados.forEach(a=>{a.nomeMetadado&&e.add(a.nomeMetadado)}),Array.from(e).sort()}),A=a(()=>{if(!C.nomeMetadado)return S.value.slice(0,10);const e=C.nomeMetadado.toLowerCase();return S.value.filter(a=>a.toLowerCase().includes(e)).slice(0,10)}),B=a(()=>[...C.tipoDocumento].sort((e,a)=>e.localeCompare(a,"pt-BR")));function P(){n.item?(v.value=!!n.item.id,Object.assign(C,{...n.item,tipoDocumento:Array.isArray(n.item.tipoDocumento)?[...n.item.tipoDocumento]:[n.item.tipoDocumento]})):(v.value=!1,D())}function D(){Object.keys(q).forEach(e=>{Array.isArray(q[e])?C[e]=[...q[e]]:C[e]=q[e]}),b.value="",h.value=!1,w.value=!1,y.value=!1}function F(){m.value=!1}async function j(){if(!V.value)return y.value=!0,void ue.error("Preencha todos os campos obrigatórios");try{const e=JSON.parse(JSON.stringify(C));!0===e.objetivoNaoInformado&&(e.objetivoMetadado=""),v.value&&n.item?.id?await s.updateMetadado(n.item.id,e):await s.addMetadado(e),await s.loadMetadados(),p("saved"),F(),await k(),ue.success(v.value?"Metadado atualizado com sucesso":"Metadado criado com sucesso")}catch(e){ue.error("Erro ao salvar metadado")}}async function N(){if(!V.value)return y.value=!0,void ue.error("Preencha todos os campos obrigatórios");try{const e=JSON.parse(JSON.stringify(C));!0===e.objetivoNaoInformado&&(e.objetivoMetadado=""),await s.addMetadado(e),await s.loadMetadados(),p("saved"),D(),await k(),ue.success("Metadado criado com sucesso")}catch(e){ue.error("Erro ao salvar metadado")}}return x(()=>n.modelValue,e=>{m.value=e}),x(m,e=>{p("update:modelValue",e),e?(P(),y.value=!1):D()}),x(()=>n.item,e=>{e&&m.value&&P()}),x(h,e=>{e||(b.value="")}),x(()=>C.objetivoNaoInformado,e=>{!0===e&&(C.objetivoMetadado="")}),l({open:()=>{m.value=!0},close:F}),(e,a)=>(i(),r(t(Ke),{open:m.value,"onUpdate:open":a[20]||(a[20]=e=>m.value=e)},{default:u(()=>[g(t(ze),{onPointerDownOutside:a[18]||(a[18]=f(()=>{},["prevent"])),onEscapeKeyDown:a[19]||(a[19]=f(()=>{},["prevent"])),class:"max-w-3xl max-h-[90vh] overflow-y-auto"},{default:u(()=>[g(t(Ue),null,{default:u(()=>[g(t($e),null,{default:u(()=>[L(J(v.value?"Editar":"Novo")+" Metadado",1)]),_:1}),g(t(Qe),null,{default:u(()=>[L(J(v.value?"Edite os dados do metadado":"Preencha os dados para criar um novo metadado"),1)]),_:1})]),_:1}),$("div",bo,[$("div",_o,[$("div",xo,[g(t(oa),{for:"unidade"},{default:u(()=>[...a[21]||(a[21]=[L("Unidade *",-1)])]),_:1}),g(t(Be),{modelValue:C.unidade,"onUpdate:modelValue":a[0]||(a[0]=e=>C.unidade=e)},{default:u(()=>[g(t(Pe),{id:"unidade"},{default:u(()=>[g(t(Je),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Selecione"})]),_:1}),g(t(Fe),null,{default:u(()=>[(i(!0),H(G,null,W(t(d).unidadesAtivas,e=>(i(),r(t(je),{key:e,value:e},{default:u(()=>[L(J(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),!C.unidade&&y.value?(i(),H("p",ko,"Campo obrigatório")):c("",!0)]),$("div",wo,[g(t(oa),{for:"tipoMetadados"},{default:u(()=>[...a[22]||(a[22]=[L("Tipo de Metadados *",-1)])]),_:1}),g(t(Be),{modelValue:C.tipoMetadados,"onUpdate:modelValue":a[1]||(a[1]=e=>C.tipoMetadados=e)},{default:u(()=>[g(t(Pe),{id:"tipoMetadados"},{default:u(()=>[g(t(Pa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Selecione"})]),_:1}),g(t(Fe),null,{default:u(()=>[g(t(je),{value:"Simples"},{default:u(()=>[...a[23]||(a[23]=[L("Simples",-1)])]),_:1}),g(t(je),{value:"Composto"},{default:u(()=>[...a[24]||(a[24]=[L("Composto",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),!C.tipoMetadados&&y.value?(i(),H("p",qo,"Campo obrigatório")):c("",!0)]),$("div",Co,[g(t(oa),{for:"metadadoDeProcesso"},{default:u(()=>[...a[25]||(a[25]=[L("Metadado de Processo",-1)])]),_:1}),$("div",Vo,[g(t(Tl),{id:"metadadoDeProcesso",modelValue:C.metadadoDeProcesso,"onUpdate:modelValue":a[2]||(a[2]=e=>C.metadadoDeProcesso=e)},null,8,["modelValue"]),$("span",Mo,J(C.metadadoDeProcesso?"Sim":"Não"),1)])]),$("div",So,[g(t(oa),{for:"admiteMultiplos"},{default:u(()=>[...a[26]||(a[26]=[L("Admite Múltiplos",-1)])]),_:1}),$("div",Ao,[g(t(Tl),{id:"admiteMultiplos",modelValue:C.admiteMultiplos,"onUpdate:modelValue":a[3]||(a[3]=e=>C.admiteMultiplos=e)},null,8,["modelValue"]),$("span",Bo,J(C.admiteMultiplos?"Sim":"Não"),1)])])]),g(oo,{modelValue:C.classeProcessual,"onUpdate:modelValue":a[4]||(a[4]=e=>C.classeProcessual=e),label:"Classe Processual"},null,8,["modelValue"]),$("div",Po,[g(t(oa),null,{default:u(()=>[...a[27]||(a[27]=[L("Tipo(s) de Documento *",-1)])]),_:1}),g(t(El),{open:h.value,"onUpdate:open":a[6]||(a[6]=e=>h.value=e)},{default:u(()=>[g(t(Rl),{"as-child":""},{default:u(()=>[g(t(K),{variant:"outline",role:"combobox",class:"w-full justify-between font-normal"},{default:u(()=>[0===C.tipoDocumento.length?(i(),H("span",Do," Selecione os tipos de documento... ")):(i(),H("span",Fo,J(C.tipoDocumento.length)+" selecionado(s) ",1)),g(t(ka),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1})]),_:1}),g(t(Il),{class:"w-full p-0",align:"start"},{default:u(()=>[$("div",jo,[g(t(xe),{modelValue:b.value,"onUpdate:modelValue":a[5]||(a[5]=e=>b.value=e),placeholder:"Filtrar tipos...",class:"h-9"},null,8,["modelValue"])]),$("div",No,[(i(!0),H(G,null,W(M.value,e=>(i(),H("div",{key:e,class:"flex items-center space-x-2 rounded-sm px-2 py-1.5 cursor-pointer hover:bg-accent",onClick:a=>function(e){const a=C.tipoDocumento.indexOf(e);-1===a?C.tipoDocumento.push(e):C.tipoDocumento.splice(a,1)}(e)},[$("div",{class:Q(["h-4 w-4 shrink-0 rounded-sm border border-primary shadow grid place-content-center",C.tipoDocumento.includes(e)?"bg-primary text-primary-foreground":""])},[C.tipoDocumento.includes(e)?(i(),r(t(pa),{key:0,class:"h-4 w-4"})):c("",!0)],2),$("span",Eo,J(e),1)],8,Oo))),128)),0===M.value.length?(i(),H("div",Io," Nenhum tipo encontrado ")):c("",!0)])]),_:1})]),_:1},8,["open"]),C.tipoDocumento.length>0?(i(),H("p",Ro," Selecionados: "+J(B.value.join(", ")),1)):c("",!0),0===C.tipoDocumento.length&&y.value?(i(),H("p",To," Selecione pelo menos um tipo de documento ")):c("",!0)]),$("div",zo,[g(t(oa),{for:"nomeMetadado"},{default:u(()=>[...a[28]||(a[28]=[L("Nome do Metadado *",-1)])]),_:1}),g(t(El),{open:w.value,"onUpdate:open":a[10]||(a[10]=e=>w.value=e)},{default:u(()=>[g(t(Rl),{"as-child":""},{default:u(()=>[$("div",Uo,[g(t(Da),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground z-10 pointer-events-none"}),g(t(xe),{id:"nomeMetadado",modelValue:C.nomeMetadado,"onUpdate:modelValue":a[7]||(a[7]=e=>C.nomeMetadado=e),placeholder:"Digite ou selecione o nome do metadado",class:"pl-9",onFocus:a[8]||(a[8]=e=>w.value=!0),onInput:a[9]||(a[9]=e=>w.value=!0)},null,8,["modelValue"])])]),_:1}),A.value.length>0?(i(),r(t(Il),{key:0,class:"w-full p-0",align:"start",style:{width:"var(--radix-popover-trigger-width)"}},{default:u(()=>[$("div",$o,[(i(!0),H(G,null,W(A.value,e=>(i(),H("div",{key:e,class:"flex items-center space-x-2 rounded-sm px-2 py-1.5 cursor-pointer hover:bg-accent text-sm",onClick:a=>function(e){C.nomeMetadado=e,w.value=!1}(e)},[g(t(Da),{class:"w-4 h-4 text-muted-foreground"}),$("span",Ko,J(e),1)],8,Lo))),128))])]),_:1})):c("",!0)]),_:1},8,["open"]),!C.nomeMetadado&&y.value?(i(),H("p",Ho,"Campo obrigatório")):c("",!0)]),$("div",Go,[$("div",Wo,[g(t(oa),{for:"objetivoMetadado"},{default:u(()=>[...a[29]||(a[29]=[L("Objetivo do Metadado",-1)])]),_:1}),$("div",Jo,[g(t(zl),{id:"objetivoNaoInformado",modelValue:C.objetivoNaoInformado,"onUpdate:modelValue":a[11]||(a[11]=e=>C.objetivoNaoInformado=e)},null,8,["modelValue"]),a[30]||(a[30]=$("label",{for:"objetivoNaoInformado",class:"text-sm text-muted-foreground cursor-pointer select-none"}," Não informado ",-1))])]),$("div",Zo,[g(t(Fa),{class:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),g(t(Ol),{id:"objetivoMetadado",modelValue:C.objetivoMetadado,"onUpdate:modelValue":a[12]||(a[12]=e=>C.objetivoMetadado=e),disabled:C.objetivoNaoInformado,class:Q([{"opacity-50":C.objetivoNaoInformado},"pl-9 min-h-20"]),placeholder:C.objetivoNaoInformado?"Objetivo não informado":"Descreva o objetivo do metadado"},null,8,["modelValue","disabled","class","placeholder"])])]),$("div",Qo,[$("div",Xo,[g(t(oa),{for:"formatoMetadado"},{default:u(()=>[...a[31]||(a[31]=[L("Formato do Metadado",-1)])]),_:1}),g(t(Be),{modelValue:C.formatoMetadado,"onUpdate:modelValue":a[13]||(a[13]=e=>C.formatoMetadado=e)},{default:u(()=>[g(t(Pe),{id:"formatoMetadado"},{default:u(()=>[g(t(ja),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Selecione o formato"})]),_:1}),g(t(Fe),null,{default:u(()=>[g(t(je),{value:"__none__"},{default:u(()=>[...a[32]||(a[32]=[L("Nenhum",-1)])]),_:1}),(i(!0),H(G,null,W(t(d).formatosMetadadoAtivos,e=>(i(),r(t(je),{key:e,value:e},{default:u(()=>[L(J(e),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),$("div",Yo,[g(t(oa),{for:"versaoInicialAtende"},{default:u(()=>[...a[33]||(a[33]=[L("Versão Inicial Atende",-1)])]),_:1}),g(t(Be),{modelValue:C.versaoInicialAtende,"onUpdate:modelValue":a[14]||(a[14]=e=>C.versaoInicialAtende=e)},{default:u(()=>[g(t(Pe),{id:"versaoInicialAtende"},{default:u(()=>[g(t(wa),{class:"w-4 h-4 mr-2 text-muted-foreground"}),g(t(De),{placeholder:"Selecione"})]),_:1}),g(t(Fe),null,{default:u(()=>[g(t(je),{value:"Sim"},{default:u(()=>[...a[34]||(a[34]=[L("Sim",-1)])]),_:1}),g(t(je),{value:"Não"},{default:u(()=>[...a[35]||(a[35]=[L("Não",-1)])]),_:1}),g(t(je),{value:"Parcialmente"},{default:u(()=>[...a[36]||(a[36]=[L("Parcialmente",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),$("div",es,[g(t(oa),{for:"observacao"},{default:u(()=>[...a[37]||(a[37]=[L("Observação",-1)])]),_:1}),$("div",as,[g(t(Aa),{class:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),g(t(Ol),{id:"observacao",modelValue:C.observacao,"onUpdate:modelValue":a[15]||(a[15]=e=>C.observacao=e),placeholder:"Observações adicionais",class:"pl-9 min-h-20"},null,8,["modelValue"])])]),$("div",ts,[g(t(oa),null,{default:u(()=>[...a[38]||(a[38]=[L("Imagens (opcional)",-1)])]),_:1}),g(ho,{modelValue:C.imagens,"onUpdate:modelValue":a[16]||(a[16]=e=>C.imagens=e),"max-size":10485760,"max-files":20,onError:a[17]||(a[17]=e=>{})},null,8,["modelValue"]),a[39]||(a[39]=$("p",{class:"text-xs text-muted-foreground"}," Máximo de 20 imagens, 10 MB cada. Formatos: PNG, JPG, GIF, WebP, SVG. ",-1))])]),g(t(la)),g(t(Le),{class:"flex-col sm:flex-row gap-2"},{default:u(()=>[g(t(K),{variant:"ghost",onClick:F},{default:u(()=>[...a[40]||(a[40]=[L(" Cancelar ",-1)])]),_:1}),g(t(K),{variant:"secondary",disabled:!V.value,onClick:N},{default:u(()=>[g(t(Ba),{class:"w-4 h-4 mr-2"}),a[41]||(a[41]=L(" Salvar e Novo ",-1))]),_:1},8,["disabled"]),g(t(K),{disabled:!V.value,onClick:j},{default:u(()=>[g(t(Re),{class:"w-4 h-4 mr-2"}),a[42]||(a[42]=L(" Salvar ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}},os={class:"flex-1 overflow-auto"},ss={key:0,class:"flex items-center justify-center h-64"},ds={key:1,class:"flex flex-col items-center justify-center h-64 gap-3"},rs={key:2,class:"rounded-md border"},is={class:"flex flex-col py-2 h-full min-h-[100px]"},us={class:"flex items-start justify-between gap-2 mb-2"},ns=["title"],cs={class:"flex items-center gap-2"},ps={key:0,class:"flex flex-wrap gap-1"},ms={key:2,class:"text-sm whitespace-pre-wrap leading-relaxed"},fs={key:3,class:"text-sm"},vs={class:"flex items-center justify-between w-full"},ys={class:"flex items-center gap-2 text-sm text-muted-foreground"},gs=Y({__name:"MetadadosComparison",props:{open:Boolean,selectedIds:{type:Array,default:()=>[]}},emits:["update:open","edit"],setup(e,{emit:l}){const o=e,s=l,d=z(),n=a(()=>d.loading),p=a(()=>o.selectedIds.map(e=>d.metadados.find(a=>a.id===e)).filter(Boolean)),m=[{key:"unidade",label:"Unidade",critical:!1,format:"text"},{key:"metadadoDeProcesso",label:"Metadado de Processo",critical:!1,format:"boolean"},{key:"tipoDocumento",label:"Tipo(s) de Documento",critical:!1,format:"array"},{key:"nomeMetadado",label:"Nome do Metadado",critical:!0,format:"text"},{key:"objetivoMetadado",label:"Objetivo",critical:!1,format:"text-long"},{key:"formatoMetadado",label:"Formato",critical:!0,format:"text"},{key:"admiteMultiplos",label:"Admite Múltiplos",critical:!1,format:"boolean"},{key:"tipoMetadados",label:"Tipo",critical:!0,format:"text"},{key:"versaoInicialAtende",label:"Versão Inicial Atende",critical:!1,format:"text"},{key:"observacao",label:"Observação",critical:!1,format:"text-long"},{key:"classeProcessual",label:"Classe Processual",critical:!1,format:"text"}],f=(e,a)=>{if(null==e||""===e)return"Não especificado";switch(a.format){case"boolean":return e?"Sim":"Não";case"array":return Array.isArray(e)?e.length>0?e.join(", "):"Nenhum":e||"Nenhum";case"text-long":default:return e||"Não especificado";case"number":return String(e)}},v=(e,a)=>{const t=m.find(a=>a.key===e);return a.map(a=>a[e]).every((e,a,t)=>{if(Array.isArray(e)&&Array.isArray(t[0])){if(e.length!==t[0].length)return!1;return[...e].sort().join("|")===[...t[0]].sort().join("|")}const l=e=>null==e||""===e?null:e;return l(e)===l(t[0])})?"bg-muted/30":t.critical?"bg-destructive/10 dark:bg-destructive/20 border-l-2 border-destructive font-semibold":"bg-accent/30 dark:bg-accent/20 border-l-2 border-accent"};return(a,l)=>(i(),r(t(Ke),{open:e.open,"onUpdate:open":l[1]||(l[1]=e=>s("update:open",e))},{default:u(()=>[g(t(ze),{class:"max-w-[80vw] max-h-[90vh] overflow-hidden flex flex-col"},{default:u(()=>[g(t(Ue),null,{default:u(()=>[g(t($e),{class:"flex items-center gap-2"},{default:u(()=>[g(t(Ma),{size:20}),l[2]||(l[2]=L(" Comparação de Metadados ",-1))]),_:1}),g(t(Qe),null,{default:u(()=>[L(" Comparando "+J(p.value.length)+" metadado(s) lado a lado ",1)]),_:1})]),_:1}),$("div",os,[n.value?(i(),H("div",ss,[g(Ee,{size:"lg"}),l[3]||(l[3]=$("p",{class:"ml-3 text-muted-foreground"},"Carregando metadados...",-1))])):p.value.length<2?(i(),H("div",ds,[g(t(ie),{size:48,class:"text-muted-foreground"}),l[4]||(l[4]=$("p",{class:"text-lg font-medium"}," Selecione pelo menos 2 metadados para comparar ",-1)),l[5]||(l[5]=$("p",{class:"text-sm text-muted-foreground"}," Use os checkboxes na tabela para selecionar os metadados ",-1))])):(i(),H("div",rs,[g(t(ke),null,{default:u(()=>[g(t(sa),null,{default:u(()=>[g(t(we),{class:"bg-muted/50"},{default:u(()=>[g(t(da),{class:"sticky left-0 bg-muted/50 z-20 font-bold border-r w-48"},{default:u(()=>[...l[6]||(l[6]=[L(" Campo ",-1)])]),_:1}),(i(!0),H(G,null,W(p.value,e=>(i(),r(t(da),{key:e.id,class:"min-w-[250px] max-w-[300px] border-r last:border-r-0 align-top"},{default:u(()=>[$("div",is,[$("div",us,[$("span",{class:"font-semibold text-sm line-clamp-2",title:e.nomeMetadado},J(e.nomeMetadado),9,ns),g(t(Z),{variant:"outline",class:"text-xs flex-shrink-0"},{default:u(()=>[L(" ID: "+J(e.id),1)]),_:2},1024)]),l[8]||(l[8]=$("div",{class:"flex-grow"},null,-1)),g(t(K),{size:"sm",variant:"outline",onClick:a=>s("edit",e.id),class:"w-full"},{default:u(()=>[g(t(Oe),{size:14,class:"mr-1"}),l[7]||(l[7]=L(" Editar ",-1))]),_:1},8,["onClick"])])]),_:2},1024))),128))]),_:1})]),_:1}),g(t(qe),null,{default:u(()=>[(i(),H(G,null,W(m,e=>g(t(we),{key:e.key,class:"hover:bg-muted/30"},{default:u(()=>[g(t(Ce),{class:"sticky left-0 bg-background z-10 font-medium border-r"},{default:u(()=>[$("div",cs,[L(J(e.label)+" ",1),e.critical?(i(),r(t(Z),{key:0,variant:"destructive",class:"text-xs"},{default:u(()=>[...l[9]||(l[9]=[L(" Crítico ",-1)])]),_:1})):c("",!0)])]),_:2},1024),(i(!0),H(G,null,W(p.value,a=>(i(),r(t(Ce),{key:`${e.key}-${a.id}`,class:Q([v(e.key,p.value),"border-r last:border-r-0 transition-colors align-top"])},{default:u(()=>[$("div",{class:Q((e.format,"max-w-[280px]"))},["array"===e.format&&Array.isArray(a[e.key])&&a[e.key].length>0?(i(),H("div",ps,[(i(!0),H(G,null,W(a[e.key].slice(0,3),(e,a)=>(i(),r(t(Z),{key:a,variant:"secondary",class:"text-xs"},{default:u(()=>[L(J(e),1)]),_:2},1024))),128)),a[e.key].length>3?(i(),r(t(Z),{key:0,variant:"outline",class:"text-xs"},{default:u(()=>[L(" +"+J(a[e.key].length-3),1)]),_:2},1024)):c("",!0)])):"boolean"===e.format?(i(),r(t(Z),{key:1,variant:a[e.key]?"default":"outline",class:"text-xs"},{default:u(()=>[L(J(a[e.key]?"Sim":"Não"),1)]),_:2},1032,["variant"])):"text-long"===e.format?(i(),H("div",ms,J(f(a[e.key],e)),1)):(i(),H("span",fs,J(f(a[e.key],e)),1))],2)]),_:2},1032,["class"]))),128))]),_:2},1024)),64))]),_:1})]),_:1})]))]),g(t(Le),{class:"border-t pt-4"},{default:u(()=>[$("div",vs,[$("div",ys,[g(t(Ze),{size:16}),l[10]||(l[10]=$("span",{class:"flex items-center gap-3"},[$("span",{class:"flex items-center gap-1"},[$("span",{class:"w-3 h-3 rounded bg-muted/30 border"}),$("span",null,"Iguais")]),$("span",{class:"flex items-center gap-1"},[$("span",{class:"w-3 h-3 rounded bg-accent/30 border-l-2 border-accent"}),$("span",null,"Diferentes")]),$("span",{class:"flex items-center gap-1"},[$("span",{class:"w-3 h-3 rounded bg-destructive/10 border-l-2 border-destructive"}),$("span",null,"Críticos")])],-1))]),g(t(K),{onClick:l[0]||(l[0]=e=>s("update:open",!1))},{default:u(()=>[...l[11]||(l[11]=[L(" Fechar ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1},8,["open"]))}},[["__scopeId","data-v-0a7893e7"]]),hs={class:"space-y-6"},bs={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},_s={__name:"Metadados",setup(e){const a=z(),l=_(!1),o=_(null),s=_(!1);function d(){o.value=null,l.value=!0}function r(e){o.value={...e},l.value=!0}function n(e){const{id:a,timestamp:t,...s}=e;o.value={...s,nomeMetadado:`${s.nomeMetadado} (Cópia)`},l.value=!0}function c(){a.loadMetadados()}function p(e){a.toggleReviewFlag(e)}function m(e){a.toggleSelection(e)}function f(e){a.selectMultiple(e)}function v(){a.clearSelection()}function y(){a.selectionCount<2?ue.warning("Selecione pelo menos 2 metadados para comparar"):s.value=!0}function h(e){const t=a.metadados.find(a=>a.id===e);t?(o.value={...t},l.value=!0,s.value=!1):ue.error("Metadado não encontrado")}return(e,b)=>(i(),H("div",hs,[$("div",bs,[b[3]||(b[3]=$("div",null,[$("h1",{class:"text-3xl font-bold"},"Gestão de Metadados"),$("p",{class:"text-muted-foreground"}," Gerencie todos os metadados de processos e documentos ")],-1)),g(t(K),{size:"lg",onClick:d},{default:u(()=>[g(t(Ie),{class:"w-4 h-4 mr-2"}),b[2]||(b[2]=L(" Novo Metadado ",-1))]),_:1})]),g(Pt),g(Nl,{onEdit:r,onDuplicate:n,onToggleReview:p,onToggleSelection:m,onSelectAll:f,onClearSelection:v,onCompare:y}),g(ls,{modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=e=>l.value=e),item:o.value,onSaved:c},null,8,["modelValue","item"]),g(gs,{open:s.value,"selected-ids":t(a).selectedForComparison,"onUpdate:open":b[1]||(b[1]=e=>s.value=e),onEdit:h},null,8,["open","selected-ids"])]))}};export{_s as default};
