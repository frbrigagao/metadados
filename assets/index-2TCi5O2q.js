import{d as e,Q as t,I as a,r,G as o,e as n,f as s,g as l,k as i,l as u,P as d,J as c,V as v,b as p,o as f,a as g,n as b,j as m,a8 as y,ai as I,aB as h}from"./index-D9FX90Ms.js";import{c as S,a as w}from"./Collection-C1NU20_w.js";import{g as x}from"./utils-DfUd-RbE.js";const A={bubbles:!1,cancelable:!0},F={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q(e,t,a){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return F[r]}function T(e,t=!1){const a=x();for(const r of e){if(r===a)return;if(r.focus({preventScroll:t}),x()!==a)return}}const[_,B]=o("RovingFocusGroup");var C=e({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:o,emit:v}){const p=e,f=v,{loop:g,orientation:b,dir:m}=t(p),y=S(m),I=a(p,"currentTabStopId",f,{defaultValue:p.defaultCurrentTabStopId,passive:void 0===p.currentTabStopId}),h=r(!1),x=r(!1),F=r(0),{getItems:q,CollectionSlot:_}=w({isProvider:!0});function C(e){const t=!x.value;if(e.currentTarget&&e.target===e.currentTarget&&t&&!h.value){const t=new CustomEvent("rovingFocusGroup.onEntryFocus",A);if(e.currentTarget.dispatchEvent(t),f("entryFocus",t),!t.defaultPrevented){const e=q().map(e=>e.ref).filter(e=>""!==e.dataset.disabled);T([e.find(e=>""===e.getAttribute("data-active")),e.find(e=>""===e.getAttribute("data-highlighted")),e.find(e=>e.id===I.value),...e].filter(Boolean),p.preventScrollOnEntryFocus)}}x.value=!1}function R(){setTimeout(()=>{x.value=!1},1)}return o({getItems:q}),B({loop:g,dir:y,orientation:b,currentTabStopId:I,onItemFocus:e=>{I.value=e},onItemShiftTab:()=>{h.value=!0},onFocusableItemAdd:()=>{F.value++},onFocusableItemRemove:()=>{F.value--}}),(e,t)=>(s(),n(u(_),null,{default:l(()=>[i(u(d),{tabindex:h.value||0===F.value?-1:0,"data-orientation":u(b),as:e.as,"as-child":e.asChild,dir:u(y),style:{outline:"none"},onMousedown:t[0]||(t[0]=e=>x.value=!0),onMouseup:R,onFocus:C,onBlur:t[1]||(t[1]=e=>h.value=!1)},{default:l(()=>[c(e.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),R=e({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,a=_(),r=v(),o=p(()=>t.tabStopId||r),m=p(()=>a.currentTabStopId.value===o.value),{getItems:y,CollectionItem:I}=w();function h(e){if("Tab"===e.key&&e.shiftKey)return void a.onItemShiftTab();if(e.target!==e.currentTarget)return;const r=q(e,a.orientation.value,a.dir.value);if(void 0!==r){if(e.metaKey||e.ctrlKey||e.altKey||!t.allowShiftKey&&e.shiftKey)return;e.preventDefault();let s=[...y().map(e=>e.ref).filter(e=>""!==e.dataset.disabled)];if("last"===r)s.reverse();else if("prev"===r||"next"===r){"prev"===r&&s.reverse();const t=s.indexOf(e.currentTarget);s=a.loop.value?(n=t+1,(o=s).map((e,t)=>o[(n+t)%o.length])):s.slice(t+1)}b(()=>T(s))}var o,n}return f(()=>{t.focusable&&a.onFocusableItemAdd()}),g(()=>{t.focusable&&a.onFocusableItemRemove()}),(e,t)=>(s(),n(u(I),null,{default:l(()=>[i(u(d),{tabindex:m.value?0:-1,"data-orientation":u(a).orientation.value,"data-active":e.active?"":void 0,"data-disabled":e.focusable?void 0:"",as:e.as,"as-child":e.asChild,onMousedown:t[0]||(t[0]=t=>{e.focusable?u(a).onItemFocus(o.value):t.preventDefault()}),onFocus:t[1]||(t[1]=e=>u(a).onItemFocus(o.value)),onKeydown:h},{default:l(()=>[c(e.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}});const K={__name:"Alert",props:{class:{type:null,required:!1},variant:{type:null,required:!1}},setup(e){const t=e;return(a,r)=>(s(),m("div",{class:y(u(I)(u(E)({variant:e.variant}),t.class)),role:"alert"},[c(a.$slots,"default")],2))}},D={__name:"AlertDescription",props:{class:{type:null,required:!1}},setup(e){const t=e;return(e,a)=>(s(),m("div",{class:y(u(I)("text-sm [&_p]:leading-relaxed",t.class))},[c(e.$slots,"default")],2))}},E=h("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});export{R,K as _,D as a,C as b,q as g};
