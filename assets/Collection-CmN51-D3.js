import{c as e,r as t,b as r,aE as n,az as i,aF as o,d as a,aw as s,aG as l,h as c,aH as u,w as f,aI as p}from"./index-q7AElgBj.js";import{i as m}from"./utils-DgVlmcvL.js";
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=e("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function y(e){return"string"==typeof e?`'${e}'`:(new h).serialize(e)}const h=function(){class e{#e=new Map;compare(e,t){const r=typeof e,n=typeof t;return"string"===r&&"string"===n?e.localeCompare(t):"number"===r&&"number"===n?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(null===e)return"null";switch(typeof e){case"string":return t?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if("[object Object]"!==t)return this.serializeBuiltInType(t.length<10?`unknown:${t}`:t.slice(8,-1),e);const r=e.constructor,n=r===Object||void 0===r?"":r.name;if(""!==n&&globalThis[n]===r)return this.serializeBuiltInType(n,e);if("function"==typeof e.toJSON){const t=e.toJSON();return n+(null!==t&&"object"==typeof t?this.$object(t):`(${this.serialize(t)})`)}return this.serializeObjectEntries(n,Object.entries(e))}serializeBuiltInType(e,t){const r=this["$"+e];if(r)return r.call(this,t);if("function"==typeof t?.entries)return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,t){const r=Array.from(t).sort((e,t)=>this.compare(e[0],t[0]));let n=`${e}{`;for(let i=0;i<r.length;i++){const[e,t]=r[i];n+=`${this.serialize(e,!0)}:${this.serialize(t)}`,i<r.length-1&&(n+=",")}return n+"}"}$object(e){let t=this.#e.get(e);return void 0===t&&(this.#e.set(e,`#${this.#e.size}`),t=this.serializeObject(e),this.#e.set(e,t)),t}$function(e){const t=Function.prototype.toString.call(e);return"[native code] }"===t.slice(-15)?`${e.name||""}()[native]`:`${e.name}(${e.length})${t.replace(/\s*\n\s*/g,"")}`}$Array(e){let t="[";for(let r=0;r<e.length;r++)t+=this.serialize(e[r]),r<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((e,t)=>this.compare(e,t)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const t of["Error","RegExp","URL"])e.prototype["$"+t]=function(e){return`${t}(${e})`};for(const t of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])e.prototype["$"+t]=function(e){return`${t}[${e.join(",")}]`};for(const t of["BigInt64Array","BigUint64Array"])e.prototype["$"+t]=function(e){return`${t}[${e.join("n,")}${e.length>0?"n":""}]`};return e}();function v(e,t){return e===t||y(e)===y(t)}function g(e){const n=m({dir:t("ltr")});return r(()=>e?.value||n.dir?.value||"ltr")}function b(e){return r(()=>!n(e)||Boolean(i(e)?.closest("form")))}function A(){const e=t(),n=r(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:i(e));return{primitiveElement:e,currentElement:n}}const z="data-reka-collection-item";function d(e={}){const{key:n="",isProvider:i=!1}=e,m=`${n}CollectionProvider`;let $;if(i){const e=t(new Map),r=t();$={collectionRef:r,itemMap:e},p(m,$)}else $=o(m);const y=a({name:"CollectionSlot",setup(e,{slots:t}){const{primitiveElement:r,currentElement:n}=A();return f(n,()=>{$.collectionRef.value=n.value}),()=>c(u,{ref:r},t)}}),h=a({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(e,{slots:t,attrs:r}){const{primitiveElement:n,currentElement:i}=A();return s(t=>{if(i.value){const r=l(i.value);$.itemMap.value.set(r,{ref:i.value,value:e.value}),t(()=>$.itemMap.value.delete(r))}}),()=>c(u,{...r,[z]:"",ref:n},t)}});return{getItems:(e=!1)=>{const t=$.collectionRef.value;if(!t)return[];const r=Array.from(t.querySelectorAll(`[${z}]`)),n=Array.from($.itemMap.value.values()).sort((e,t)=>r.indexOf(e.ref)-r.indexOf(t.ref));return e?n:n.filter(e=>""!==e.ref.dataset.disabled)},reactiveItems:r(()=>Array.from($.itemMap.value.values())),itemMapSize:r(()=>$.itemMap.value.size),CollectionSlot:y,CollectionItem:h}}export{$ as C,d as a,A as b,g as c,v as i,b as u};
