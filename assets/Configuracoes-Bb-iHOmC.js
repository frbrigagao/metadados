import{_ as e,a,b as s,c as l}from"./CardTitle-dL6bsADl.js";import{_ as t,a as o,b as u,c as d,d as r,v as i}from"./importHelpers-Bs-anKyj.js";import{c,j as n,f as m,J as v,a8 as f,l as p,aj as _,u as x,m as h,r as g,b as y,e as w,g as k,k as C,p as b,F as D,K as M,a7 as P,B as j,E as z,z as T,q as I,ac as V,ad as U,ae as L,y as A,af as q,C as F,ag as E,n as B,ao as S,ap as N,aq as R}from"./index-BmE-4Faz.js";import{X as K,d as O,_ as $,a as H,b as W,c as G}from"./DialogTitle-DTRMjLAr.js";import{_ as J,a as Q,b as X,c as Y,d as Z}from"./TableRow-DD1rU9_T.js";import{_ as ee}from"./Label-B4OaZcfC.js";import{_ as ae,a as se,U as le}from"./index-03Aqe10Y.js";import{S as te,a as oe,P as ue,F as de,b as re}from"./Spinner-DjjuGIsq.js";import{_ as ie,a as ce,b as ne,c as me,d as ve}from"./SelectValue-07vpYkSp.js";import{_ as fe,a as pe}from"./TableHeader-CKDqzP-E.js";import{B as _e}from"./building-COgMPXYO.js";import{F as xe,S as he}from"./scale-DFQXHU0o.js";import{S as ge}from"./search-DJK5zVXo.js";import{T as ye}from"./trash-2-C0f4I4Cy.js";import{C as we}from"./circle-check-C-p3IWBW.js";import"./Collection-Cs4-eARv.js";import"./utils-D2IcfFci.js";import"./nullish-aV-w2MPu.js";
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=c("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ce=c("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),be=c("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),De={__name:"CardDescription",props:{class:{type:null,required:!1}},setup(e){const a=e;return(e,s)=>(m(),n("p",{class:f(p(_)("text-sm text-muted-foreground",a.class))},[v(e.$slots,"default")],2))}},Me={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},Pe={class:"flex items-center justify-between"},je={class:"relative"},ze={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},Te={key:0,class:"text-amber-600 dark:text-amber-400"},Ie={class:"rounded-md border"},Ve={class:"text-sm text-muted-foreground"},Ue={class:"flex items-center justify-end gap-2"},Le={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},Ae={class:"flex items-center justify-between gap-4"},qe={class:"flex items-center gap-3"},Fe={class:"flex items-center gap-2"},Ee={class:"relative"},Be={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},Se={key:0,class:"text-amber-600 dark:text-amber-400"},Ne={class:"rounded-md border"},Re={class:"text-sm text-muted-foreground"},Ke={class:"flex items-center justify-end gap-2"},Oe={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},$e={class:"flex items-center justify-between gap-4"},He={class:"flex items-center gap-3"},We={class:"flex items-center gap-2"},Ge={class:"relative"},Je={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},Qe={key:0,class:"text-amber-600 dark:text-amber-400"},Xe={class:"rounded-md border"},Ye={class:"text-sm text-muted-foreground"},Ze={class:"flex items-center justify-end gap-2"},ea={key:0,class:"flex flex-col items-center justify-center py-12 space-y-3"},aa={class:"flex items-center justify-between gap-4"},sa={class:"flex items-center gap-3"},la={class:"flex items-center gap-2"},ta={class:"relative"},oa={key:0,class:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground"},ua={key:0,class:"text-amber-600 dark:text-amber-400"},da={class:"rounded-md border"},ra={class:"text-sm text-muted-foreground"},ia={class:"flex items-center justify-end gap-1"},ca={class:"space-y-4"},na={class:"space-y-2"},ma={class:"space-y-4"},va={key:1,class:"text-sm"},fa={key:2,class:"text-sm"},pa=100,_a={__name:"ConfigTabs",setup(s){const l=x(),i=h(),c=g("unidades"),v=g(!1),_=g(""),N=g(null),R=g(""),le=g(!1),we=g(null),De=g(""),_a=g("todos"),xa=g("todos"),ha=g("todos"),ga=g(""),ya=g(""),wa=g(""),ka=g(""),Ca=y(()=>{const e={unidades:{},tiposDocumento:{},formatosMetadado:{},classesProcessuais:{}};return i.metadados.forEach(a=>{if(a.unidade&&(e.unidades[a.unidade]=(e.unidades[a.unidade]||0)+1),a.tipoDocumento){(Array.isArray(a.tipoDocumento)?a.tipoDocumento:[a.tipoDocumento]).forEach(a=>{e.tiposDocumento[a]=(e.tiposDocumento[a]||0)+1})}a.formatoMetadado&&(e.formatosMetadado[a.formatoMetadado]=(e.formatosMetadado[a.formatoMetadado]||0)+1),a.classeProcessual&&"Não informado"!==a.classeProcessual&&(e.classesProcessuais[a.classeProcessual]=(e.classesProcessuais[a.classeProcessual]||0)+1)}),e}),ba=y(()=>{if(!we.value||!De.value)return 0;const e={unidades:Ca.value.unidades,tiposDocumento:Ca.value.tiposDocumento,formatosMetadado:Ca.value.formatosMetadado,classesProcessuais:Ca.value.classesProcessuais};return"classesProcessuais"===De.value?e[De.value]?.[we.value]||0:e[De.value]?.[we.value.value]||0}),Da=y(()=>{let e=[...l.unidades];if(ga.value.trim()){const a=ga.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return e=e.sort((e,a)=>e.value.localeCompare(a.value,"pt-BR",{sensitivity:"base"})),e.slice(0,pa)}),Ma=y(()=>{let e=[...l.unidades];if(ga.value.trim()){const a=ga.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return e.length>pa}),Pa=y(()=>{let e=[...l.tiposDocumentoComStatus];if(ya.value.trim()){const a=ya.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===_a.value?e=e.filter(e=>(Ca.value.tiposDocumento[e.value]||0)>0):"nao-utilizados"===_a.value&&(e=e.filter(e=>0===(Ca.value.tiposDocumento[e.value]||0))),e=e.sort((e,a)=>e.value.localeCompare(a.value,"pt-BR",{sensitivity:"base"})),e.slice(0,pa)}),ja=y(()=>{let e=[...l.tiposDocumentoComStatus];if(ya.value.trim()){const a=ya.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===_a.value?e=e.filter(e=>(Ca.value.tiposDocumento[e.value]||0)>0):"nao-utilizados"===_a.value&&(e=e.filter(e=>0===(Ca.value.tiposDocumento[e.value]||0))),e.length>pa}),za=y(()=>{let e=[...l.formatosMetadado];if(wa.value.trim()){const a=wa.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===xa.value?e=e.filter(e=>(Ca.value.formatosMetadado[e.value]||0)>0):"nao-utilizados"===xa.value&&(e=e.filter(e=>0===(Ca.value.formatosMetadado[e.value]||0))),e=e.sort((e,a)=>e.value.localeCompare(a.value,"pt-BR",{sensitivity:"base"})),e.slice(0,pa)}),Ta=y(()=>{let e=[...l.formatosMetadado];if(wa.value.trim()){const a=wa.value.toLowerCase().trim();e=e.filter(e=>e.value.toLowerCase().includes(a))}return"em-uso"===xa.value?e=e.filter(e=>(Ca.value.formatosMetadado[e.value]||0)>0):"nao-utilizados"===xa.value&&(e=e.filter(e=>0===(Ca.value.formatosMetadado[e.value]||0))),e.length>pa}),Ia=y(()=>{let e=[...l.classesProcessuais];if(ka.value.trim()){const a=ka.value.toLowerCase().trim();e=e.filter(e=>e.toLowerCase().includes(a))}return"em-uso"===ha.value?e=e.filter(e=>(Ca.value.classesProcessuais[e]||0)>0):"nao-utilizados"===ha.value&&(e=e.filter(e=>0===(Ca.value.classesProcessuais[e]||0))),e=e.sort((e,a)=>e.localeCompare(a,"pt-BR",{sensitivity:"base"})),e.slice(0,pa)}),Va=y(()=>{let e=[...l.classesProcessuais];if(ka.value.trim()){const a=ka.value.toLowerCase().trim();e=e.filter(e=>e.toLowerCase().includes(a))}return"em-uso"===ha.value?e=e.filter(e=>(Ca.value.classesProcessuais[e]||0)>0):"nao-utilizados"===ha.value&&(e=e.filter(e=>0===(Ca.value.classesProcessuais[e]||0))),e.length>pa});function Ua(e,a=null){_.value=e,N.value=a,R.value="classesProcessuais"===e?a||"":a?.value||"",v.value=!0}async function La(){if(R.value.trim())try{const e={unidades:N.value?"updateUnidade":"addUnidade",tiposDocumento:N.value?"updateTipoDocumento":"addTipoDocumento",formatosMetadado:N.value?"updateFormatoMetadado":"addFormatoMetadado",classesProcessuais:N.value?"updateClasseProcessual":"addClasseProcessual"};if(N.value){if("tiposDocumento"===_.value&&N.value.importado)await l.updateTipoDocumentoImportado(N.value.value,{...N.value,value:R.value});else if("classesProcessuais"===_.value)await l.updateClasseProcessual(N.value,R.value);else{const e={unidades:"updateUnidade",tiposDocumento:"updateTipoDocumento",formatosMetadado:"updateFormatoMetadado"};await l[e[_.value]](N.value.value,{...N.value,value:R.value})}v.value=!1,N.value=null,R.value="",_.value="",await B(),E.success("Item atualizado com sucesso")}else{if("tiposDocumento"===_.value&&l.hasTiposDocumentosImportados){const{tiposDocumentosImportados:e}=S();await e.put({value:R.value,active:!0}),await l.loadTiposDocumentosImportados()}else await l[e[_.value]](R.value);v.value=!1,N.value=null,R.value="",_.value="",await B(),E.success("Item adicionado com sucesso")}}catch(e){E.error("Erro ao salvar item: "+e.message)}else E.error("Digite um nome para o item")}function Aa(e,a){we.value=a,De.value=e,le.value=!0}async function qa(){try{if("tiposDocumento"===De.value&&we.value.importado)await l.removeTipoDocumentoImportado(we.value.value);else{const e={unidades:"removeUnidade",tiposDocumento:"removeTipoDocumento",formatosMetadado:"removeFormatoMetadado",classesProcessuais:"removeClasseProcessual"},a="classesProcessuais"===De.value?we.value:we.value.value;await l[e[De.value]](a)}le.value=!1,we.value=null,De.value="",await B(),E.success("Item excluído com sucesso")}catch(e){E.error("Erro ao excluir item: "+e.message)}}async function Fa(){try{const e={unidades:"updateUnidade",tiposDocumento:"updateTipoDocumento",formatosMetadado:"updateFormatoMetadado"};await l[e[De.value]](we.value.value,{...we.value,active:!1}),le.value=!1,we.value=null,De.value="",await B(),E.warning("Item marcado como inativo")}catch(e){E.error("Erro ao desativar item: "+e.message)}}async function Ea(e,a){try{const s=!a.active;if("tiposDocumento"===e&&a.importado)await l.toggleTipoDocumentoImportado(a.value);else{const t={unidades:"updateUnidade",tiposDocumento:"updateTipoDocumento",formatosMetadado:"updateFormatoMetadado"};await l[t[e]](a.value,{...a,active:s})}E.success(s?"Item ativado com sucesso":"Item desativado com sucesso")}catch(s){E.error("Erro ao alterar status: "+s.message)}}async function Ba(e){({unidades:Da.value.length,tiposDocumento:Pa.value.length,formatosMetadado:za.value.length,classesProcessuais:Ia.value.length}[e]||0)>50&&await l.simulateTabLoading(e,400)}return(s,i)=>(m(),w(p(a),null,{default:k(()=>[C(p(t),{modelValue:c.value,"onUpdate:modelValue":[i[23]||(i[23]=e=>c.value=e),Ba],class:"w-full"},{default:k(()=>[C(p(o),{class:"grid w-full grid-cols-2 md:grid-cols-4"},{default:k(()=>[C(p(u),{value:"unidades",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[0]||(i[0]=e=>{}),onMouseleave:i[1]||(i[1]=e=>{})},{default:k(()=>[C(p(_e),{class:"w-4 h-4"}),i[29]||(i[29]=b("span",{class:"text-xs sm:text-sm"},"Unidades",-1))]),_:1}),C(p(u),{value:"tiposDocumento",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[2]||(i[2]=e=>{}),onMouseleave:i[3]||(i[3]=e=>{})},{default:k(()=>[C(p(xe),{class:"w-4 h-4"}),i[30]||(i[30]=b("span",{class:"text-xs sm:text-sm"},"Tipos de Documento",-1))]),_:1}),C(p(u),{value:"formatosMetadado",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[4]||(i[4]=e=>{}),onMouseleave:i[5]||(i[5]=e=>{})},{default:k(()=>[C(p(be),{class:"w-4 h-4"}),i[31]||(i[31]=b("span",{class:"text-xs sm:text-sm"},"Formatos de Metadado",-1))]),_:1}),C(p(u),{value:"classesProcessuais",class:"flex flex-col sm:flex-row items-center gap-1 sm:gap-2 transition-all duration-200 hover:scale-105",onMouseenter:i[6]||(i[6]=e=>{}),onMouseleave:i[7]||(i[7]=e=>{})},{default:k(()=>[C(p(he),{class:"w-4 h-4"}),i[32]||(i[32]=b("span",{class:"text-xs sm:text-sm"},"Classes Processuais",-1))]),_:1})]),_:1}),C(p(e),{class:"pt-6"},{default:k(()=>[C(p(d),{value:"unidades",class:"space-y-4"},{default:k(()=>[p(l).loadingTabs.unidades?(m(),n("div",Me,[C(p(te),{size:"lg"}),i[33]||(i[33]=b("p",{class:"text-sm text-muted-foreground"},"Carregando unidades...",-1))])):(m(),n(D,{key:1},[b("div",Pe,[i[35]||(i[35]=b("h3",{class:"text-lg font-semibold"},"Unidades",-1)),C(p(P),{onClick:i[8]||(i[8]=e=>Ua("unidades"))},{default:k(()=>[C(p(oe),{class:"w-4 h-4 mr-2"}),i[34]||(i[34]=j(" Adicionar ",-1))]),_:1})]),b("div",je,[C(p(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),C(p(J),{modelValue:ga.value,"onUpdate:modelValue":i[9]||(i[9]=e=>ga.value=e),placeholder:"Buscar unidades...",class:"pl-10 pr-10"},null,8,["modelValue"]),ga.value?(m(),w(p(P),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[10]||(i[10]=e=>ga.value="")},{default:k(()=>[C(p(K),{class:"w-4 h-4"})]),_:1})):M("",!0)]),ga.value||Ma.value?(m(),n("div",ze,[C(p(z),{variant:"secondary"},{default:k(()=>[j(" Mostrando "+T(Da.value.length)+" de "+T(p(l).unidades.length),1)]),_:1}),Ma.value?(m(),n("span",Te," Lista limitada a 100 itens. Use a busca para refinar. ")):M("",!0)])):M("",!0),b("div",Ie,[C(p(Q),null,{default:k(()=>[C(p(fe),null,{default:k(()=>[C(p(X),null,{default:k(()=>[C(p(pe),null,{default:k(()=>[...i[36]||(i[36]=[j("Nome",-1)])]),_:1}),C(p(pe),null,{default:k(()=>[...i[37]||(i[37]=[j("Status",-1)])]),_:1}),C(p(pe),null,{default:k(()=>[...i[38]||(i[38]=[j("Usos",-1)])]),_:1}),C(p(pe),{class:"text-right"},{default:k(()=>[...i[39]||(i[39]=[j("Ações",-1)])]),_:1})]),_:1})]),_:1}),C(p(Y),null,{default:k(()=>[0===Da.value.length?(m(),w(p(X),{key:0},{default:k(()=>[C(p(Z),{colspan:"4",class:"text-center text-muted-foreground py-8"},{default:k(()=>[...i[40]||(i[40]=[j(" Nenhuma unidade cadastrada ",-1)])]),_:1})]),_:1})):M("",!0),(m(!0),n(D,null,I(Da.value,e=>(m(),w(p(X),{key:e.value},{default:k(()=>[C(p(Z),{class:f(e.active?"font-medium":"text-muted-foreground line-through")},{default:k(()=>[j(T(e.value),1)]),_:2},1032,["class"]),C(p(Z),null,{default:k(()=>[C(p(z),{variant:e.active?"default":"secondary",class:"text-xs"},{default:k(()=>[j(T(e.active?"Ativo":"Inativo"),1)]),_:2},1032,["variant"])]),_:2},1024),C(p(Z),null,{default:k(()=>[b("span",Ve,T(Ca.value.unidades[e.value]||0),1)]),_:2},1024),C(p(Z),{class:"text-right"},{default:k(()=>[b("div",Ue,[C(p(V),null,{default:k(()=>[C(p(U),null,{default:k(()=>[C(p(L),{"as-child":""},{default:k(()=>[C(p(P),{variant:"ghost",size:"sm",onClick:a=>Ea("unidades",e)},{default:k(()=>[(m(),w(A(e.active?p(Ce):p(ke)),{class:"w-4 h-4"}))]),_:2},1032,["onClick"])]),_:2},1024),C(p(q),null,{default:k(()=>[j(T(e.active?"Desativar":"Ativar"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),C(p(P),{variant:"ghost",size:"sm",onClick:a=>Ua("unidades",e)},{default:k(()=>[C(p(ue),{class:"w-4 h-4"})]),_:1},8,["onClick"]),C(p(P),{variant:"ghost",size:"sm",onClick:a=>Aa("unidades",e)},{default:k(()=>[C(p(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1}),C(p(d),{value:"tiposDocumento",class:"space-y-4"},{default:k(()=>[p(l).loadingTabs.tiposDocumento?(m(),n("div",Le,[C(p(te),{size:"lg"}),i[41]||(i[41]=b("p",{class:"text-sm text-muted-foreground"},"Carregando tipos de documento...",-1))])):(m(),n(D,{key:1},[b("div",Ae,[i[46]||(i[46]=b("h3",{class:"text-lg font-semibold"},"Tipos de Documento",-1)),b("div",qe,[b("div",Fe,[C(p(de),{class:"w-4 h-4 text-muted-foreground"}),C(p(ie),{modelValue:_a.value,"onUpdate:modelValue":i[11]||(i[11]=e=>_a.value=e)},{default:k(()=>[C(p(ce),{class:"w-[180px]"},{default:k(()=>[C(p(ne),{placeholder:"Filtrar por uso"})]),_:1}),C(p(me),null,{default:k(()=>[C(p(ve),{value:"todos"},{default:k(()=>[...i[42]||(i[42]=[j("Todos",-1)])]),_:1}),C(p(ve),{value:"em-uso"},{default:k(()=>[...i[43]||(i[43]=[j("Em uso",-1)])]),_:1}),C(p(ve),{value:"nao-utilizados"},{default:k(()=>[...i[44]||(i[44]=[j("Não utilizados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),C(p(P),{onClick:i[12]||(i[12]=e=>Ua("tiposDocumento"))},{default:k(()=>[C(p(oe),{class:"w-4 h-4 mr-2"}),i[45]||(i[45]=j(" Adicionar ",-1))]),_:1})])]),b("div",Ee,[C(p(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),C(p(J),{modelValue:ya.value,"onUpdate:modelValue":i[13]||(i[13]=e=>ya.value=e),placeholder:"Buscar tipos de documento...",class:"pl-10 pr-10"},null,8,["modelValue"]),ya.value?(m(),w(p(P),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[14]||(i[14]=e=>ya.value="")},{default:k(()=>[C(p(K),{class:"w-4 h-4"})]),_:1})):M("",!0)]),ya.value||"todos"!==_a.value||ja.value?(m(),n("div",Be,[C(p(z),{variant:"secondary"},{default:k(()=>[j(" Mostrando "+T(Pa.value.length)+" de "+T(p(l).tiposDocumentoComStatus.length),1)]),_:1}),ja.value?(m(),n("span",Se," Lista limitada a 100 itens. Use a busca para refinar. ")):M("",!0)])):M("",!0),b("div",Ne,[C(p(Q),null,{default:k(()=>[C(p(fe),null,{default:k(()=>[C(p(X),null,{default:k(()=>[C(p(pe),null,{default:k(()=>[...i[47]||(i[47]=[j("Nome",-1)])]),_:1}),C(p(pe),null,{default:k(()=>[...i[48]||(i[48]=[j("Status",-1)])]),_:1}),C(p(pe),null,{default:k(()=>[...i[49]||(i[49]=[j("Usos",-1)])]),_:1}),C(p(pe),{class:"text-right"},{default:k(()=>[...i[50]||(i[50]=[j("Ações",-1)])]),_:1})]),_:1})]),_:1}),C(p(Y),null,{default:k(()=>[0===Pa.value.length?(m(),w(p(X),{key:0},{default:k(()=>[C(p(Z),{colspan:"4",class:"text-center text-muted-foreground py-8"},{default:k(()=>[...i[51]||(i[51]=[j(" Nenhum tipo de documento cadastrado ",-1)])]),_:1})]),_:1})):M("",!0),(m(!0),n(D,null,I(Pa.value,e=>(m(),w(p(X),{key:e.value},{default:k(()=>[C(p(Z),{class:f(e.active?"font-medium":"text-muted-foreground line-through")},{default:k(()=>[j(T(e.value)+" ",1),e.importado?(m(),w(p(z),{key:0,variant:"outline",class:"ml-2 text-xs"},{default:k(()=>[...i[52]||(i[52]=[j(" Importado ",-1)])]),_:1})):M("",!0)]),_:2},1032,["class"]),C(p(Z),null,{default:k(()=>[C(p(z),{variant:e.active?"default":"secondary",class:"text-xs"},{default:k(()=>[j(T(e.active?"Ativo":"Inativo"),1)]),_:2},1032,["variant"])]),_:2},1024),C(p(Z),null,{default:k(()=>[b("span",Re,T(Ca.value.tiposDocumento[e.value]||0),1)]),_:2},1024),C(p(Z),{class:"text-right"},{default:k(()=>[b("div",Ke,[C(p(V),null,{default:k(()=>[C(p(U),null,{default:k(()=>[C(p(L),{"as-child":""},{default:k(()=>[C(p(P),{variant:"ghost",size:"sm",onClick:a=>Ea("tiposDocumento",e)},{default:k(()=>[(m(),w(A(e.active?p(Ce):p(ke)),{class:"w-4 h-4"}))]),_:2},1032,["onClick"])]),_:2},1024),C(p(q),null,{default:k(()=>[j(T(e.active?"Desativar":"Ativar")+T(e.importado?" (importado)":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),C(p(V),null,{default:k(()=>[C(p(U),null,{default:k(()=>[C(p(L),{"as-child":""},{default:k(()=>[C(p(P),{variant:"ghost",size:"sm",onClick:a=>Ua("tiposDocumento",e)},{default:k(()=>[C(p(ue),{class:"w-4 h-4"})]),_:1},8,["onClick"])]),_:2},1024),C(p(q),null,{default:k(()=>[j(" Editar"+T(e.importado?" tipo importado":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),C(p(V),null,{default:k(()=>[C(p(U),null,{default:k(()=>[C(p(L),{"as-child":""},{default:k(()=>[C(p(P),{variant:"ghost",size:"sm",onClick:a=>Aa("tiposDocumento",e)},{default:k(()=>[C(p(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])]),_:2},1024),C(p(q),null,{default:k(()=>[j(" Excluir"+T(e.importado?" tipo importado":""),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1}),C(p(d),{value:"formatosMetadado",class:"space-y-4"},{default:k(()=>[p(l).loadingTabs.formatosMetadado?(m(),n("div",Oe,[C(p(te),{size:"lg"}),i[53]||(i[53]=b("p",{class:"text-sm text-muted-foreground"},"Carregando formatos de metadado...",-1))])):(m(),n(D,{key:1},[b("div",$e,[i[58]||(i[58]=b("h3",{class:"text-lg font-semibold"},"Formatos de Metadado",-1)),b("div",He,[b("div",We,[C(p(de),{class:"w-4 h-4 text-muted-foreground"}),C(p(ie),{modelValue:xa.value,"onUpdate:modelValue":i[15]||(i[15]=e=>xa.value=e)},{default:k(()=>[C(p(ce),{class:"w-[180px]"},{default:k(()=>[C(p(ne),{placeholder:"Filtrar por uso"})]),_:1}),C(p(me),null,{default:k(()=>[C(p(ve),{value:"todos"},{default:k(()=>[...i[54]||(i[54]=[j("Todos",-1)])]),_:1}),C(p(ve),{value:"em-uso"},{default:k(()=>[...i[55]||(i[55]=[j("Em uso",-1)])]),_:1}),C(p(ve),{value:"nao-utilizados"},{default:k(()=>[...i[56]||(i[56]=[j("Não utilizados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),C(p(P),{onClick:i[16]||(i[16]=e=>Ua("formatosMetadado"))},{default:k(()=>[C(p(oe),{class:"w-4 h-4 mr-2"}),i[57]||(i[57]=j(" Adicionar ",-1))]),_:1})])]),b("div",Ge,[C(p(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),C(p(J),{modelValue:wa.value,"onUpdate:modelValue":i[17]||(i[17]=e=>wa.value=e),placeholder:"Buscar formatos de metadado...",class:"pl-10 pr-10"},null,8,["modelValue"]),wa.value?(m(),w(p(P),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[18]||(i[18]=e=>wa.value="")},{default:k(()=>[C(p(K),{class:"w-4 h-4"})]),_:1})):M("",!0)]),wa.value||"todos"!==xa.value||Ta.value?(m(),n("div",Je,[C(p(z),{variant:"secondary"},{default:k(()=>[j(" Mostrando "+T(za.value.length)+" de "+T(p(l).formatosMetadado.length),1)]),_:1}),Ta.value?(m(),n("span",Qe," Lista limitada a 100 itens. Use a busca para refinar. ")):M("",!0)])):M("",!0),b("div",Xe,[C(p(Q),null,{default:k(()=>[C(p(fe),null,{default:k(()=>[C(p(X),null,{default:k(()=>[C(p(pe),null,{default:k(()=>[...i[59]||(i[59]=[j("Nome",-1)])]),_:1}),C(p(pe),null,{default:k(()=>[...i[60]||(i[60]=[j("Status",-1)])]),_:1}),C(p(pe),null,{default:k(()=>[...i[61]||(i[61]=[j("Usos",-1)])]),_:1}),C(p(pe),{class:"text-right"},{default:k(()=>[...i[62]||(i[62]=[j("Ações",-1)])]),_:1})]),_:1})]),_:1}),C(p(Y),null,{default:k(()=>[0===za.value.length?(m(),w(p(X),{key:0},{default:k(()=>[C(p(Z),{colspan:"4",class:"text-center text-muted-foreground py-8"},{default:k(()=>[...i[63]||(i[63]=[j(" Nenhum formato de metadado cadastrado ",-1)])]),_:1})]),_:1})):M("",!0),(m(!0),n(D,null,I(za.value,e=>(m(),w(p(X),{key:e.value},{default:k(()=>[C(p(Z),{class:f(e.active?"font-medium":"text-muted-foreground line-through")},{default:k(()=>[j(T(e.value),1)]),_:2},1032,["class"]),C(p(Z),null,{default:k(()=>[C(p(z),{variant:e.active?"default":"secondary",class:"text-xs"},{default:k(()=>[j(T(e.active?"Ativo":"Inativo"),1)]),_:2},1032,["variant"])]),_:2},1024),C(p(Z),null,{default:k(()=>[b("span",Ye,T(Ca.value.formatosMetadado[e.value]||0),1)]),_:2},1024),C(p(Z),{class:"text-right"},{default:k(()=>[b("div",Ze,[C(p(V),null,{default:k(()=>[C(p(U),null,{default:k(()=>[C(p(L),{"as-child":""},{default:k(()=>[C(p(P),{variant:"ghost",size:"sm",onClick:a=>Ea("formatosMetadado",e)},{default:k(()=>[(m(),w(A(e.active?p(Ce):p(ke)),{class:"w-4 h-4"}))]),_:2},1032,["onClick"])]),_:2},1024),C(p(q),null,{default:k(()=>[j(T(e.active?"Desativar":"Ativar"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),C(p(P),{variant:"ghost",size:"sm",onClick:a=>Ua("formatosMetadado",e)},{default:k(()=>[C(p(ue),{class:"w-4 h-4"})]),_:1},8,["onClick"]),C(p(P),{variant:"ghost",size:"sm",onClick:a=>Aa("formatosMetadado",e)},{default:k(()=>[C(p(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1}),C(p(d),{value:"classesProcessuais",class:"space-y-4"},{default:k(()=>[p(l).loadingTabs.classesProcessuais?(m(),n("div",ea,[C(p(te),{size:"lg"}),i[64]||(i[64]=b("p",{class:"text-sm text-muted-foreground"},"Carregando classes processuais...",-1))])):(m(),n(D,{key:1},[b("div",aa,[i[69]||(i[69]=b("h3",{class:"text-lg font-semibold"},"Classes Processuais",-1)),b("div",sa,[b("div",la,[C(p(de),{class:"w-4 h-4 text-muted-foreground"}),C(p(ie),{modelValue:ha.value,"onUpdate:modelValue":i[19]||(i[19]=e=>ha.value=e)},{default:k(()=>[C(p(ce),{class:"w-[180px]"},{default:k(()=>[C(p(ne),{placeholder:"Filtrar por uso"})]),_:1}),C(p(me),null,{default:k(()=>[C(p(ve),{value:"todos"},{default:k(()=>[...i[65]||(i[65]=[j("Todos",-1)])]),_:1}),C(p(ve),{value:"em-uso"},{default:k(()=>[...i[66]||(i[66]=[j("Em uso",-1)])]),_:1}),C(p(ve),{value:"nao-utilizados"},{default:k(()=>[...i[67]||(i[67]=[j("Não utilizados",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),C(p(P),{onClick:i[20]||(i[20]=e=>Ua("classesProcessuais"))},{default:k(()=>[C(p(oe),{class:"w-4 h-4 mr-2"}),i[68]||(i[68]=j(" Adicionar ",-1))]),_:1})])]),b("div",ta,[C(p(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),C(p(J),{modelValue:ka.value,"onUpdate:modelValue":i[21]||(i[21]=e=>ka.value=e),placeholder:"Buscar classes processuais...",class:"pl-10 pr-10"},null,8,["modelValue"]),ka.value?(m(),w(p(P),{key:0,variant:"ghost",size:"sm",class:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0",onClick:i[22]||(i[22]=e=>ka.value="")},{default:k(()=>[C(p(K),{class:"w-4 h-4"})]),_:1})):M("",!0)]),ka.value||"todos"!==ha.value||Va.value?(m(),n("div",oa,[C(p(z),{variant:"secondary"},{default:k(()=>[j(" Mostrando "+T(Ia.value.length)+" de "+T(p(l).classesProcessuais.length),1)]),_:1}),Va.value?(m(),n("span",ua," Lista limitada a 100 itens. Use a busca para refinar. ")):M("",!0)])):M("",!0),b("div",da,[C(p(Q),null,{default:k(()=>[C(p(fe),null,{default:k(()=>[C(p(X),null,{default:k(()=>[C(p(pe),null,{default:k(()=>[...i[70]||(i[70]=[j("Classe",-1)])]),_:1}),C(p(pe),null,{default:k(()=>[...i[71]||(i[71]=[j("Usos",-1)])]),_:1}),C(p(pe),{class:"text-right"},{default:k(()=>[...i[72]||(i[72]=[j("Ações",-1)])]),_:1})]),_:1})]),_:1}),C(p(Y),null,{default:k(()=>[0===Ia.value.length?(m(),w(p(X),{key:0},{default:k(()=>[C(p(Z),{colspan:"3",class:"text-center text-muted-foreground py-8"},{default:k(()=>[...i[73]||(i[73]=[j(" Nenhuma classe processual cadastrada ",-1)])]),_:1})]),_:1})):M("",!0),(m(!0),n(D,null,I(Ia.value,e=>(m(),w(p(X),{key:e},{default:k(()=>[C(p(Z),{class:"font-medium"},{default:k(()=>[j(T(e),1)]),_:2},1024),C(p(Z),null,{default:k(()=>[b("span",ra,T(Ca.value.classesProcessuais[e]||0),1)]),_:2},1024),C(p(Z),{class:"text-right"},{default:k(()=>[b("div",ia,[C(p(P),{variant:"ghost",size:"sm",onClick:a=>Ua("classesProcessuais",e)},{default:k(()=>[C(p(ue),{class:"w-4 h-4"})]),_:1},8,["onClick"]),C(p(P),{variant:"ghost",size:"sm",onClick:a=>Aa("classesProcessuais",e)},{default:k(()=>[C(p(ye),{class:"w-4 h-4 text-destructive"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])],64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),C(p(O),{open:v.value,"onUpdate:open":i[26]||(i[26]=e=>v.value=e)},{default:k(()=>[C(p($),{class:"max-w-md"},{default:k(()=>[C(p(H),null,{default:k(()=>[C(p(W),null,{default:k(()=>[j(T(N.value?"Editar":"Adicionar")+" Item",1)]),_:1})]),_:1}),b("div",ca,[b("div",na,[C(p(ee),{for:"itemValue"},{default:k(()=>[...i[74]||(i[74]=[j("Nome",-1)])]),_:1}),C(p(J),{id:"itemValue",modelValue:R.value,"onUpdate:modelValue":i[24]||(i[24]=e=>R.value=e),placeholder:"Digite o nome do item"},null,8,["modelValue"])])]),C(p(G),null,{default:k(()=>[C(p(P),{variant:"ghost",onClick:i[25]||(i[25]=e=>v.value=!1)},{default:k(()=>[...i[75]||(i[75]=[j(" Cancelar ",-1)])]),_:1}),C(p(P),{onClick:La},{default:k(()=>[C(p(re),{class:"w-4 h-4 mr-2"}),i[76]||(i[76]=j(" Salvar ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),C(p(O),{open:le.value,"onUpdate:open":i[28]||(i[28]=e=>le.value=e)},{default:k(()=>[C(p($),{class:"max-w-md"},{default:k(()=>[C(p(H),null,{default:k(()=>[C(p(W),{class:"flex items-center gap-2"},{default:k(()=>[C(p(F),{class:"w-5 h-5 text-destructive"}),i[77]||(i[77]=j(" Confirmar Exclusão ",-1))]),_:1})]),_:1}),b("div",ma,[we.value&&ba.value>0?(m(),w(p(ae),{key:0,variant:"warning"},{default:k(()=>[C(p(F),{class:"w-4 h-4"}),C(p(r),null,{default:k(()=>[...i[78]||(i[78]=[j("Atenção!",-1)])]),_:1}),C(p(se),null,{default:k(()=>[i[79]||(i[79]=j(" Este item está sendo usado em ",-1)),b("strong",null,T(ba.value),1),j(" "+T(1===ba.value?"metadado":"metadados")+". ",1)]),_:1})]),_:1})):M("",!0),we.value&&ba.value>0?(m(),n("p",va,[...i[80]||(i[80]=[j(" Você não pode excluir este item pois ele está em uso. Deseja marcá-lo como ",-1),b("strong",null,"inativo",-1),j(" em vez disso? ",-1)])])):(m(),n("p",fa,[i[81]||(i[81]=j(" Tem certeza que deseja excluir ",-1)),b("strong",null,T(we.value?.value),1),i[82]||(i[82]=j("? ",-1))]))]),C(p(G),null,{default:k(()=>[C(p(P),{variant:"ghost",onClick:i[27]||(i[27]=e=>le.value=!1)},{default:k(()=>[...i[83]||(i[83]=[j(" Cancelar ",-1)])]),_:1}),ba.value>0?(m(),w(p(P),{key:0,variant:"secondary",onClick:Fa},{default:k(()=>[...i[84]||(i[84]=[j(" Marcar como Inativo ",-1)])]),_:1})):(m(),w(p(P),{key:1,variant:"destructive",onClick:qa},{default:k(()=>[C(p(ye),{class:"w-4 h-4 mr-2"}),i[85]||(i[85]=j(" Excluir ",-1))]),_:1}))]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}},xa={key:0,class:"border rounded-lg p-4 bg-card hover:bg-accent/50 transition-colors"},ha={class:"flex items-center justify-between"},ga={class:"flex items-center gap-3"},ya={class:"p-2 rounded-lg bg-primary/10"},wa={class:"text-xs text-muted-foreground"},ka={class:"flex items-center gap-2"},Ca={class:"flex items-center justify-between"},ba={class:"flex items-center gap-2"},Da={class:"space-y-3"},Ma={class:"flex items-center gap-3"},Pa={key:2,class:"p-4 border rounded-lg bg-muted/30 space-y-2"},ja={class:"flex items-center justify-between"},za={class:"flex items-center gap-2"},Ta={class:"text-sm font-medium"},Ia={__name:"UploadClassesProcessuais",setup(t){const o=x(),u=g(null),d=g(null),c=g(!1),v=g(!1),f=g(!1);function _(){u.value?.click()}function h(e){const a=e.target.files?.[0];if(a){try{i(a)}catch(s){return E.error(s.message),void(u.value&&(u.value.value=""))}if(!a.name.endsWith(".txt"))return E.error("Por favor, selecione um arquivo .txt"),void(u.value&&(u.value.value=""));d.value=a}}async function y(){if(d.value)try{c.value=!0;const e=await o.importClassesFile(d.value);E.success(`${e} classes processuais importadas com sucesso`),d.value=null,u.value&&(u.value.value="")}catch(e){E.error("Erro ao importar arquivo: "+e.message)}finally{c.value=!1}}function I(){v.value=!0}async function V(){try{c.value=!0,await o.clearClassesProcessuais(),v.value=!1,d.value=null,u.value&&(u.value.value=""),E.success("Classes processuais removidas com sucesso")}catch(e){E.error("Erro ao remover classes: "+e.message)}finally{c.value=!1}}return(t,i)=>(m(),n(D,null,[p(o).hasClassesProcessuais&&!f.value?(m(),n("div",xa,[b("div",ha,[b("div",ga,[b("div",ya,[C(p(he),{class:"w-4 h-4 text-primary"})]),b("div",null,[i[4]||(i[4]=b("h3",{class:"font-semibold text-sm"},"Classes Processuais",-1)),b("p",wa,T(p(o).classesProcessuais.length)+" classes carregadas ",1)])]),b("div",ka,[C(p(P),{variant:"ghost",size:"sm",onClick:i[0]||(i[0]=e=>f.value=!0)},{default:k(()=>[C(p(N),{class:"w-4 h-4"})]),_:1})])])])):(m(),w(p(a),{key:1},{default:k(()=>[C(p(s),null,{default:k(()=>[b("div",Ca,[b("div",ba,[C(p(he),{class:"w-5 h-5"}),C(p(l),null,{default:k(()=>[...i[5]||(i[5]=[j("Classes Processuais",-1)])]),_:1})]),p(o).hasClassesProcessuais?(m(),w(p(P),{key:0,variant:"ghost",size:"sm",onClick:i[1]||(i[1]=e=>f.value=!1)},{default:k(()=>[C(p(R),{class:"w-4 h-4"})]),_:1})):M("",!0)]),C(p(De),null,{default:k(()=>[...i[6]||(i[6]=[j(" Importe o arquivo de classes processuais para habilitar a seleção no cadastro de metadados ",-1)])]),_:1})]),_:1}),C(p(e),{class:"space-y-4"},{default:k(()=>[p(o).hasClassesProcessuais?(m(),w(p(ae),{key:0},{default:k(()=>[C(p(we),{class:"w-4 h-4"}),C(p(r),null,{default:k(()=>[...i[7]||(i[7]=[j("Classes Carregadas",-1)])]),_:1}),C(p(se),null,{default:k(()=>[j(T(p(o).classesProcessuais.length)+" classes processuais disponíveis para seleção ",1)]),_:1})]),_:1})):(m(),w(p(ae),{key:1},{default:k(()=>[C(p(F),{class:"w-4 h-4"}),C(p(r),null,{default:k(()=>[...i[8]||(i[8]=[j("Nenhuma classe carregada",-1)])]),_:1}),C(p(se),null,{default:k(()=>[...i[9]||(i[9]=[j(" Faça upload do arquivo ",-1),b("code",{class:"px-1 py-0.5 bg-muted rounded text-xs"},"classes_processuais_simplificado.txt",-1),j(" para habilitar a funcionalidade ",-1)])]),_:1})]),_:1})),b("div",Da,[b("div",Ma,[b("input",{ref_key:"fileInput",ref:u,type:"file",accept:".txt",class:"hidden",onChange:h},null,544),C(p(P),{onClick:_,disabled:c.value},{default:k(()=>[C(p(le),{class:"w-4 h-4 mr-2"}),j(" "+T(p(o).hasClassesProcessuais?"Reimportar Arquivo":"Selecionar Arquivo"),1)]),_:1},8,["disabled"]),p(o).hasClassesProcessuais?(m(),w(p(P),{key:0,variant:"destructive",onClick:I,disabled:c.value},{default:k(()=>[C(p(ye),{class:"w-4 h-4 mr-2"}),i[10]||(i[10]=j(" Remover Classes ",-1))]),_:1},8,["disabled"])):M("",!0)]),i[11]||(i[11]=b("p",{class:"text-xs text-muted-foreground"},[j(" O arquivo deve conter uma classe por linha no formato: "),b("code",{class:"px-1 py-0.5 bg-muted rounded"},"numero descricao")],-1))]),d.value?(m(),n("div",Pa,[b("div",ja,[b("div",za,[C(p(xe),{class:"w-4 h-4 text-muted-foreground"}),b("span",Ta,T(d.value.name),1)]),C(p(z),{variant:"secondary"},{default:k(()=>{return[j(T((e=d.value.size,e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB")),1)];var e}),_:1})]),C(p(P),{onClick:y,disabled:c.value,class:"w-full"},{default:k(()=>[C(p(we),{class:"w-4 h-4 mr-2"}),j(" "+T(c.value?"Importando...":"Confirmar Importação"),1)]),_:1},8,["disabled"])])):M("",!0)]),_:1})]),_:1})),C(p(O),{open:v.value,"onUpdate:open":i[3]||(i[3]=e=>v.value=e)},{default:k(()=>[C(p($),null,{default:k(()=>[C(p(H),null,{default:k(()=>[C(p(W),{class:"flex items-center gap-2"},{default:k(()=>[C(p(F),{class:"w-5 h-5 text-destructive"}),i[12]||(i[12]=j(" Confirmar Remoção ",-1))]),_:1})]),_:1}),i[15]||(i[15]=b("p",{class:"text-sm"}," Tem certeza que deseja remover todas as classes processuais carregadas? Isso afetará apenas a lista de seleção, os metadados já cadastrados permanecerão intactos. ",-1)),C(p(G),null,{default:k(()=>[C(p(P),{variant:"ghost",onClick:i[2]||(i[2]=e=>v.value=!1)},{default:k(()=>[...i[13]||(i[13]=[j(" Cancelar ",-1)])]),_:1}),C(p(P),{variant:"destructive",onClick:V},{default:k(()=>[C(p(ye),{class:"w-4 h-4 mr-2"}),i[14]||(i[14]=j(" Remover ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}},Va={key:0,class:"border rounded-lg p-4 bg-card hover:bg-accent/50 transition-colors"},Ua={class:"flex items-center justify-between"},La={class:"flex items-center gap-3"},Aa={class:"p-2 rounded-lg bg-primary/10"},qa={class:"text-xs text-muted-foreground"},Fa={class:"flex items-center gap-2"},Ea={class:"flex items-center justify-between"},Ba={class:"flex items-center gap-2"},Sa={class:"space-y-3"},Na={class:"flex items-center gap-3"},Ra={key:2,class:"p-4 border rounded-lg bg-muted/30 space-y-2"},Ka={class:"flex items-center justify-between"},Oa={class:"flex items-center gap-2"},$a={class:"text-sm font-medium"},Ha={__name:"UploadTiposDocumentos",setup(t){const o=x(),u=g(null),d=g(null),c=g(!1),v=g(!1),f=g(!1);function _(){u.value?.click()}function h(e){const a=e.target.files?.[0];if(a){try{i(a)}catch(s){return E.error(s.message),void(u.value&&(u.value.value=""))}if(!a.name.endsWith(".txt"))return E.error("Por favor, selecione um arquivo .txt"),void(u.value&&(u.value.value=""));d.value=a}}async function y(){if(d.value)try{c.value=!0;const e=await o.importTiposDocumentosFile(d.value);E.success(`${e} tipos de documentos importados com sucesso`),d.value=null,u.value&&(u.value.value="")}catch(e){E.error("Erro ao importar arquivo: "+e.message)}finally{c.value=!1}}function I(){v.value=!0}async function V(){try{c.value=!0,await o.clearTiposDocumentosImportados(),v.value=!1,d.value=null,u.value&&(u.value.value=""),E.success("Tipos de documentos importados removidos. Lista padrão restaurada.")}catch(e){E.error("Erro ao remover tipos de documentos: "+e.message)}finally{c.value=!1}}return(t,i)=>(m(),n(D,null,[p(o).hasTiposDocumentosImportados&&!f.value?(m(),n("div",Va,[b("div",Ua,[b("div",La,[b("div",Aa,[C(p(xe),{class:"w-4 h-4 text-primary"})]),b("div",null,[i[4]||(i[4]=b("h3",{class:"font-semibold text-sm"},"Tipos de Documentos",-1)),b("p",qa,T(p(o).tiposDocumentosImportados.length)+" tipos carregados ",1)])]),b("div",Fa,[C(p(P),{variant:"ghost",size:"sm",onClick:i[0]||(i[0]=e=>f.value=!0)},{default:k(()=>[C(p(N),{class:"w-4 h-4"})]),_:1})])])])):(m(),w(p(a),{key:1},{default:k(()=>[C(p(s),null,{default:k(()=>[b("div",Ea,[b("div",Ba,[C(p(xe),{class:"w-5 h-5"}),C(p(l),null,{default:k(()=>[...i[5]||(i[5]=[j("Tipos de Documentos",-1)])]),_:1})]),p(o).hasTiposDocumentosImportados?(m(),w(p(P),{key:0,variant:"ghost",size:"sm",onClick:i[1]||(i[1]=e=>f.value=!1)},{default:k(()=>[C(p(R),{class:"w-4 h-4"})]),_:1})):M("",!0)]),C(p(De),null,{default:k(()=>[...i[6]||(i[6]=[j(" Importe o arquivo de tipos de documentos para substituir a lista de seleção no cadastro de metadados ",-1)])]),_:1})]),_:1}),C(p(e),{class:"space-y-4"},{default:k(()=>[p(o).hasTiposDocumentosImportados?(m(),w(p(ae),{key:0},{default:k(()=>[C(p(we),{class:"w-4 h-4"}),C(p(r),null,{default:k(()=>[...i[7]||(i[7]=[j("Tipos de Documentos Carregados",-1)])]),_:1}),C(p(se),null,{default:k(()=>[j(T(p(o).tiposDocumentosImportados.length)+" tipos de documentos disponíveis para seleção ",1)]),_:1})]),_:1})):(m(),w(p(ae),{key:1},{default:k(()=>[C(p(F),{class:"w-4 h-4"}),C(p(r),null,{default:k(()=>[...i[8]||(i[8]=[j("Lista padrão em uso",-1)])]),_:1}),C(p(se),null,{default:k(()=>[...i[9]||(i[9]=[j(" Faça upload do arquivo ",-1),b("code",{class:"px-1 py-0.5 bg-muted rounded text-xs"},"tipos_documentos_formatados.txt",-1),j(" para substituir a lista padrão de 10 tipos por uma lista completa com 320+ tipos ",-1)])]),_:1})]),_:1})),b("div",Sa,[b("div",Na,[b("input",{ref_key:"fileInput",ref:u,type:"file",accept:".txt",class:"hidden",onChange:h},null,544),C(p(P),{onClick:_,disabled:c.value},{default:k(()=>[C(p(le),{class:"w-4 h-4 mr-2"}),j(" "+T(p(o).hasTiposDocumentosImportados?"Reimportar Arquivo":"Selecionar Arquivo"),1)]),_:1},8,["disabled"]),p(o).hasTiposDocumentosImportados?(m(),w(p(P),{key:0,variant:"destructive",onClick:I,disabled:c.value},{default:k(()=>[C(p(ye),{class:"w-4 h-4 mr-2"}),i[10]||(i[10]=j(" Voltar à Lista Padrão ",-1))]),_:1},8,["disabled"])):M("",!0)]),i[11]||(i[11]=b("p",{class:"text-xs text-muted-foreground"}," O arquivo deve conter um tipo de documento por linha. Após a importação, a lista substituirá os 10 tipos padrão. ",-1))]),d.value?(m(),n("div",Ra,[b("div",Ka,[b("div",Oa,[C(p(xe),{class:"w-4 h-4 text-muted-foreground"}),b("span",$a,T(d.value.name),1)]),C(p(z),{variant:"secondary"},{default:k(()=>{return[j(T((e=d.value.size,e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB")),1)];var e}),_:1})]),C(p(P),{onClick:y,disabled:c.value,class:"w-full"},{default:k(()=>[C(p(we),{class:"w-4 h-4 mr-2"}),j(" "+T(c.value?"Importando...":"Confirmar Importação"),1)]),_:1},8,["disabled"])])):M("",!0)]),_:1})]),_:1})),C(p(O),{open:v.value,"onUpdate:open":i[3]||(i[3]=e=>v.value=e)},{default:k(()=>[C(p($),null,{default:k(()=>[C(p(H),null,{default:k(()=>[C(p(W),{class:"flex items-center gap-2"},{default:k(()=>[C(p(F),{class:"w-5 h-5 text-destructive"}),i[12]||(i[12]=j(" Confirmar Remoção ",-1))]),_:1})]),_:1}),i[15]||(i[15]=b("p",{class:"text-sm"}," Tem certeza que deseja remover todos os tipos de documentos importados? Isso restaurará a lista padrão de 10 tipos. Os metadados já cadastrados permanecerão intactos. ",-1)),C(p(G),null,{default:k(()=>[C(p(P),{variant:"ghost",onClick:i[2]||(i[2]=e=>v.value=!1)},{default:k(()=>[...i[13]||(i[13]=[j(" Cancelar ",-1)])]),_:1}),C(p(P),{variant:"destructive",onClick:V},{default:k(()=>[C(p(ye),{class:"w-4 h-4 mr-2"}),i[14]||(i[14]=j(" Voltar à Lista Padrão ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64))}},Wa={class:"space-y-6"},Ga={class:"space-y-3"},Ja={__name:"Configuracoes",setup:e=>(e,a)=>(m(),n("div",Wa,[a[1]||(a[1]=b("div",null,[b("h1",{class:"text-3xl font-bold"},"Configurações"),b("p",{class:"text-muted-foreground"},"Gerencie as listas controladas do sistema")],-1)),C(_a),b("div",Ga,[a[0]||(a[0]=b("div",{class:"flex items-center gap-2 text-sm text-muted-foreground"},[b("div",{class:"h-px flex-1 bg-border"}),b("span",{class:"font-medium"},"Arquivos Importados"),b("div",{class:"h-px flex-1 bg-border"})],-1)),C(Ia),C(Ha)])]))};
/**
 * @license lucide-vue-next v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{Ja as default};
